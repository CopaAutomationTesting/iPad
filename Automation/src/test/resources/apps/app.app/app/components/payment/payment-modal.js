"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// import { ModalDialogParams } from "nativescript-angular/modal-dialog";
var core_1 = require("@angular/core");
var modal_dialog_1 = require("nativescript-angular/modal-dialog");
var page_1 = require("ui/page");
var Toast = require("nativescript-toast");
var PaymentComponent = /** @class */ (function () {
    function PaymentComponent(params, page) {
        this.params = params;
        this.page = page;
        this.address = "Ville";
        this.city = "Chennai";
        this.state = "";
        this.country = "India";
        this.zipcode = "600053";
        this.isCardNumber = false;
        this.mCard = false;
        this.vCard = false;
        this.aCard = false;
        params.context.paymentType = "Credit Card";
        this.paymentType = params.context.paymentType;
        this.cardType = params.context[0].cardType;
        this.cardNumber = params.context[0].cardNumber;
        this.cvv = params.context[0].cvv;
        this.expiryDate = params.context[0].expiryDate;
        this.cardHolder = params.context[0].cardHolder;
        this.address = params.context.address;
        this.city = params.context.city;
        this.state = params.context.state;
        this.country = params.context.country;
        this.zipcode = params.context.zipcode;
    }
    PaymentComponent.prototype.ngOnInit = function () {
    };
    PaymentComponent.prototype.submit = function () {
        if (this.cardNumber != "") {
            var paymentDetails = {
                "paymentType": "CC",
                "cardType": this.cardType,
                "cardNumber": this.cardNumber,
                "cvv": this.cvv,
                "expiryDate": this.expiryDate,
                "cardHolder": this.cardHolder,
                "address": this.address,
                "city": this.city,
                "state": this.state,
                "country": this.country,
                "zipcode": this.zipcode
            };
            this.params.closeCallback(paymentDetails);
        }
        else {
            if (this.cardNumber == "") {
                this.isCardNumber = true;
            }
            else
                this.isCardNumber = false;
            var reg = new RegExp('^[0-9]+$');
            var test = reg.test(this.cardNumber);
            if (test == false) {
                this.isCardNumber = true;
            }
        }
    };
    PaymentComponent.prototype.btnclicked = function (cardType) {
        if (cardType == "MCard") {
            this.mCard = true;
            this.vCard = false;
            this.aCard = false;
            this.cardType = "MC";
        }
        else if (cardType == "VCard") {
            this.mCard = false;
            this.vCard = true;
            this.aCard = false;
            this.cardType = "VC";
        }
        else if (cardType == "ACard") {
            this.mCard = false;
            this.vCard = false;
            this.aCard = true;
            this.cardType = "AX";
        }
        if (this.zipcode == "" || this.country == "" || this.city == "" || this.address == "" || this.cardHolder == "" || this.expiryDate == "" || this.cvv == "" || this.cardType == "" || this.zipcode == null || this.country == null || this.city == null || this.address == null || this.cardHolder == null || this.expiryDate == null || this.cvv == null || this.cardType == null) {
            this.isButtonEnabled = false;
        }
        else {
            this.isButtonEnabled = true;
        }
    };
    PaymentComponent.prototype.onChange = function (args, index) {
        console.log(index);
        switch (index) {
            case 0:
                if (this.paymentType == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
                break;
            case 1:
                if (this.cardType == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 2:
                if (this.cardNumber == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 3:
                if (this.cvv == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 4:
                if (this.expiryDate == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 5:
                if (this.cardHolder == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 6:
                if (this.address == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 7:
                if (this.city == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 8:
                if (this.state == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 9:
                if (this.country == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            case 10:
                if (this.zipcode == "") {
                    Toast.makeText("mandatory field shoud not be empty").show();
                }
            default:
                break;
        }
        if (this.zipcode == "" || this.country == "" || this.city == "" || this.address == "" || this.cardHolder == "" || this.expiryDate == "" || this.cvv == "" || this.cardType == "" || this.zipcode == null || this.country == null || this.city == null || this.address == null || this.cardHolder == null || this.expiryDate == null || this.cvv == null || this.cardType == null) {
            this.isButtonEnabled = false;
        }
        else {
            this.isButtonEnabled = true;
        }
    };
    PaymentComponent.prototype.cancel = function () {
        this.params.closeCallback();
    };
    PaymentComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            templateUrl: "./payment-modal.html",
            styleUrls: ["./payment-modal.css"]
        }),
        __metadata("design:paramtypes", [modal_dialog_1.ModalDialogParams, page_1.Page])
    ], PaymentComponent);
    return PaymentComponent;
}());
exports.PaymentComponent = PaymentComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1tb2RhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInBheW1lbnQtbW9kYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSx5RUFBeUU7QUFDekUsc0NBQTBDO0FBQzFDLGtFQUFzRTtBQUV0RSxnQ0FBK0I7QUFDL0IsMENBQTRDO0FBTzVDO0lBaUJJLDBCQUFvQixNQUF5QixFQUFVLElBQVU7UUFBN0MsV0FBTSxHQUFOLE1BQU0sQ0FBbUI7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFNO1FBVDFELFlBQU8sR0FBVyxPQUFPLENBQUM7UUFDMUIsU0FBSSxHQUFXLFNBQVMsQ0FBQztRQUN6QixVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLFlBQU8sR0FBVyxPQUFPLENBQUM7UUFDMUIsWUFBTyxHQUFXLFFBQVEsQ0FBQztRQUNsQyxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUM5QixVQUFLLEdBQVksS0FBSyxDQUFDO1FBQ3ZCLFVBQUssR0FBWSxLQUFLLENBQUM7UUFDdkIsVUFBSyxHQUFZLEtBQUssQ0FBQztRQUVuQixNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUE7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUM5QyxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzNDLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7UUFDL0MsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNqQyxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO1FBQy9DLElBQUksQ0FBQyxV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Q1AsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFdBQVcsRUFBRSxzQkFBc0I7WUFDbkMsU0FBUyxFQUFFLENBQUMscUJBQXFCLENBQUM7U0FDckMsQ0FBQzt5Q0FrQjhCLGdDQUFpQixFQUFnQixXQUFJO09BakJ4RCxnQkFBZ0IsQ0F1SzVCO0lBQUQsdUJBQUM7Q0FBQSxBQXZLRCxJQXVLQztBQXZLWSw0Q0FBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyIvL2FuZ3VsYXIgJiBuYXRpdmVzY3JpcHQgcmVmZXJlbmNlc1xuaW1wb3J0IHsgT25Jbml0LCBOZ01vZHVsZSwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuLy8gaW1wb3J0IHsgTW9kYWxEaWFsb2dQYXJhbXMgfSBmcm9tIFwibmF0aXZlc2NyaXB0LWFuZ3VsYXIvbW9kYWwtZGlhbG9nXCI7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgTW9kYWxEaWFsb2dQYXJhbXMgfSBmcm9tIFwibmF0aXZlc2NyaXB0LWFuZ3VsYXIvbW9kYWwtZGlhbG9nXCI7XG5pbXBvcnQgeyBMaXN0VmlldywgSXRlbUV2ZW50RGF0YSB9IGZyb20gXCJ1aS9saXN0LXZpZXdcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwidWkvcGFnZVwiO1xuaW1wb3J0ICogYXMgVG9hc3QgZnJvbSAnbmF0aXZlc2NyaXB0LXRvYXN0JztcblxuQENvbXBvbmVudCh7XG4gICAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcbiAgICB0ZW1wbGF0ZVVybDogXCIuL3BheW1lbnQtbW9kYWwuaHRtbFwiLFxuICAgIHN0eWxlVXJsczogW1wiLi9wYXltZW50LW1vZGFsLmNzc1wiXVxufSlcbmV4cG9ydCBjbGFzcyBQYXltZW50Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBwdWJsaWMgcGF5bWVudFR5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgY2FyZFR5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgY2FyZE51bWJlcjogc3RyaW5nO1xuICAgIHB1YmxpYyBjdnY6IHN0cmluZztcbiAgICBwdWJsaWMgZXhwaXJ5RGF0ZTogc3RyaW5nO1xuICAgIHB1YmxpYyBjYXJkSG9sZGVyOiBzdHJpbmc7XG4gICAgcHVibGljIGlzQnV0dG9uRW5hYmxlZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgYWRkcmVzczogc3RyaW5nID0gXCJWaWxsZVwiO1xuICAgIHB1YmxpYyBjaXR5OiBzdHJpbmcgPSBcIkNoZW5uYWlcIjtcbiAgICBwdWJsaWMgc3RhdGU6IHN0cmluZyA9IFwiXCI7XG4gICAgcHVibGljIGNvdW50cnk6IHN0cmluZyA9IFwiSW5kaWFcIjtcbiAgICBwdWJsaWMgemlwY29kZTogc3RyaW5nID0gXCI2MDAwNTNcIjtcbiAgICBpc0NhcmROdW1iZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBtQ2FyZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHZDYXJkOiBib29sZWFuID0gZmFsc2U7XG4gICAgYUNhcmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmFtczogTW9kYWxEaWFsb2dQYXJhbXMsIHByaXZhdGUgcGFnZTogUGFnZSkge1xuICAgICAgICBwYXJhbXMuY29udGV4dC5wYXltZW50VHlwZSA9IFwiQ3JlZGl0IENhcmRcIlxuICAgICAgICB0aGlzLnBheW1lbnRUeXBlID0gcGFyYW1zLmNvbnRleHQucGF5bWVudFR5cGU7XG4gICAgICAgIHRoaXMuY2FyZFR5cGUgPSBwYXJhbXMuY29udGV4dFswXS5jYXJkVHlwZTtcbiAgICAgICAgdGhpcy5jYXJkTnVtYmVyID0gcGFyYW1zLmNvbnRleHRbMF0uY2FyZE51bWJlcjtcbiAgICAgICAgdGhpcy5jdnYgPSBwYXJhbXMuY29udGV4dFswXS5jdnY7XG4gICAgICAgIHRoaXMuZXhwaXJ5RGF0ZSA9IHBhcmFtcy5jb250ZXh0WzBdLmV4cGlyeURhdGU7XG4gICAgICAgIHRoaXMuY2FyZEhvbGRlciA9IHBhcmFtcy5jb250ZXh0WzBdLmNhcmRIb2xkZXI7XG5cbiAgICAgICAgdGhpcy5hZGRyZXNzID0gcGFyYW1zLmNvbnRleHQuYWRkcmVzcztcbiAgICAgICAgdGhpcy5jaXR5ID0gcGFyYW1zLmNvbnRleHQuY2l0eTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHBhcmFtcy5jb250ZXh0LnN0YXRlO1xuICAgICAgICB0aGlzLmNvdW50cnkgPSBwYXJhbXMuY29udGV4dC5jb3VudHJ5O1xuICAgICAgICB0aGlzLnppcGNvZGUgPSBwYXJhbXMuY29udGV4dC56aXBjb2RlO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgfVxuICAgIHB1YmxpYyBzdWJtaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhcmROdW1iZXIgIT0gXCJcIikge1xuICAgICAgICAgICAgbGV0IHBheW1lbnREZXRhaWxzOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgXCJwYXltZW50VHlwZVwiOiBcIkNDXCIsXG4gICAgICAgICAgICAgICAgXCJjYXJkVHlwZVwiOiB0aGlzLmNhcmRUeXBlLFxuICAgICAgICAgICAgICAgIFwiY2FyZE51bWJlclwiOiB0aGlzLmNhcmROdW1iZXIsXG4gICAgICAgICAgICAgICAgXCJjdnZcIjogdGhpcy5jdnYsXG4gICAgICAgICAgICAgICAgXCJleHBpcnlEYXRlXCI6IHRoaXMuZXhwaXJ5RGF0ZSxcbiAgICAgICAgICAgICAgICBcImNhcmRIb2xkZXJcIjogdGhpcy5jYXJkSG9sZGVyLFxuICAgICAgICAgICAgICAgIFwiYWRkcmVzc1wiOiB0aGlzLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgXCJjaXR5XCI6IHRoaXMuY2l0eSxcbiAgICAgICAgICAgICAgICBcInN0YXRlXCI6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgXCJjb3VudHJ5XCI6IHRoaXMuY291bnRyeSxcbiAgICAgICAgICAgICAgICBcInppcGNvZGVcIjogdGhpcy56aXBjb2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5jbG9zZUNhbGxiYWNrKHBheW1lbnREZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcmROdW1iZXIgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDYXJkTnVtYmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgdGhpcy5pc0NhcmROdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKCdeWzAtOV0rJCcpO1xuICAgICAgICAgICAgdmFyIHRlc3QgPSByZWcudGVzdCh0aGlzLmNhcmROdW1iZXIpO1xuICAgICAgICAgICAgaWYgKHRlc3QgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2FyZE51bWJlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBidG5jbGlja2VkKGNhcmRUeXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGNhcmRUeXBlID09IFwiTUNhcmRcIikge1xuICAgICAgICAgICAgdGhpcy5tQ2FyZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnZDYXJkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFDYXJkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhcmRUeXBlID0gXCJNQ1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhcmRUeXBlID09IFwiVkNhcmRcIikge1xuICAgICAgICAgICAgdGhpcy5tQ2FyZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52Q2FyZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFDYXJkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhcmRUeXBlID0gXCJWQ1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhcmRUeXBlID09IFwiQUNhcmRcIikge1xuICAgICAgICAgICAgdGhpcy5tQ2FyZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52Q2FyZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hQ2FyZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNhcmRUeXBlID0gXCJBWFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLnppcGNvZGUgPT0gXCJcIiB8fCB0aGlzLmNvdW50cnkgPT0gXCJcIiB8fCB0aGlzLmNpdHkgPT0gXCJcIiB8fCB0aGlzLmFkZHJlc3MgPT0gXCJcInx8IHRoaXMuY2FyZEhvbGRlciA9PSBcIlwiIHx8IHRoaXMuZXhwaXJ5RGF0ZSA9PSBcIlwiIHx8IHRoaXMuY3Z2ID09IFwiXCIgfHwgdGhpcy5jYXJkVHlwZSA9PSBcIlwiICB8fCB0aGlzLnppcGNvZGUgPT0gbnVsbCB8fCB0aGlzLmNvdW50cnkgPT0gbnVsbCB8fCB0aGlzLmNpdHkgPT0gbnVsbCB8fCB0aGlzLmFkZHJlc3MgPT0gbnVsbHx8IHRoaXMuY2FyZEhvbGRlciA9PSBudWxsIHx8IHRoaXMuZXhwaXJ5RGF0ZSA9PSBudWxsIHx8IHRoaXMuY3Z2ID09IG51bGwgfHwgdGhpcy5jYXJkVHlwZSA9PSBudWxsICkge1xuXG4gICAgICAgICAgICB0aGlzLmlzQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0J1dHRvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxub25DaGFuZ2UoYXJnczogYW55LCBpbmRleDogYW55KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBheW1lbnRUeXBlID09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJtYW5kYXRvcnkgZmllbGQgc2hvdWQgbm90IGJlIGVtcHR5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcmRUeXBlID09IFwiXCIpeyBcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJtYW5kYXRvcnkgZmllbGQgc2hvdWQgbm90IGJlIGVtcHR5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FyZE51bWJlciA9PSBcIlwiKXsgXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwibWFuZGF0b3J5IGZpZWxkIHNob3VkIG5vdCBiZSBlbXB0eVwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN2diA9PSBcIlwiKXsgXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwibWFuZGF0b3J5IGZpZWxkIHNob3VkIG5vdCBiZSBlbXB0eVwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4cGlyeURhdGUgPT0gXCJcIil7IFxuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIm1hbmRhdG9yeSBmaWVsZCBzaG91ZCBub3QgYmUgZW1wdHlcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXJkSG9sZGVyID09IFwiXCIpeyBcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJtYW5kYXRvcnkgZmllbGQgc2hvdWQgbm90IGJlIGVtcHR5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkcmVzcyA9PSBcIlwiKXsgXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwibWFuZGF0b3J5IGZpZWxkIHNob3VkIG5vdCBiZSBlbXB0eVwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNpdHkgPT0gXCJcIil7IFxuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIm1hbmRhdG9yeSBmaWVsZCBzaG91ZCBub3QgYmUgZW1wdHlcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09IFwiXCIpeyBcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJtYW5kYXRvcnkgZmllbGQgc2hvdWQgbm90IGJlIGVtcHR5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnRyeSA9PSBcIlwiKXsgXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwibWFuZGF0b3J5IGZpZWxkIHNob3VkIG5vdCBiZSBlbXB0eVwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy56aXBjb2RlID09IFwiXCIpeyBcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJtYW5kYXRvcnkgZmllbGQgc2hvdWQgbm90IGJlIGVtcHR5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICggdGhpcy56aXBjb2RlID09IFwiXCIgfHwgdGhpcy5jb3VudHJ5ID09IFwiXCIgfHwgdGhpcy5jaXR5ID09IFwiXCIgfHwgdGhpcy5hZGRyZXNzID09IFwiXCJ8fCB0aGlzLmNhcmRIb2xkZXIgPT0gXCJcIiB8fCB0aGlzLmV4cGlyeURhdGUgPT0gXCJcIiB8fCB0aGlzLmN2diA9PSBcIlwiIHx8IHRoaXMuY2FyZFR5cGUgPT0gXCJcIiB8fCB0aGlzLnppcGNvZGUgPT0gbnVsbCB8fCB0aGlzLmNvdW50cnkgPT0gbnVsbCB8fCB0aGlzLmNpdHkgPT0gbnVsbCB8fCB0aGlzLmFkZHJlc3MgPT0gbnVsbHx8IHRoaXMuY2FyZEhvbGRlciA9PSBudWxsIHx8IHRoaXMuZXhwaXJ5RGF0ZSA9PSBudWxsIHx8IHRoaXMuY3Z2ID09IG51bGwgfHwgdGhpcy5jYXJkVHlwZSA9PSBudWxsICkge1xuXG4gICAgICAgICAgICB0aGlzLmlzQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0J1dHRvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgY2FuY2VsKCl7XG4gICAgICAgIHRoaXMucGFyYW1zLmNsb3NlQ2FsbGJhY2soKTsgXG4gICAgfVxuXG59XG4iXX0=