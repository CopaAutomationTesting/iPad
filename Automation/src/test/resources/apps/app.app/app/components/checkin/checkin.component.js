"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//angular & nativescript references
var core_1 = require("@angular/core");
var router_1 = require("@angular/router");
var common_1 = require("@angular/common");
var router_2 = require("nativescript-angular/router");
var imageModule = require("image-source");
var fs = require("file-system");
var dialogs = require("ui/dialogs");
var page_1 = require("ui/page");
//external modules and plugins
var ApplicationSettings = require("application-settings");
var modal_dialog_1 = require("nativescript-angular/modal-dialog");
var Toast = require("nativescript-toast");
var moment = require("moment");
var zebra = require("nativescript-print-zebra");
//app references
var index_1 = require("../../shared/services/index");
var index_2 = require("../../shared/model/index");
var index_3 = require("../../shared/interface/index");
// import { MultiSegmentTemplate.Passenger as PassengerIntf } from "../../shared/interface/multisegment.interface"
var index_4 = require("../../shared/utils/index");
var app_executiontime_1 = require("../../app.executiontime");
var app_constants_1 = require("../../app.constants");
var DrsPage_modal_1 = require("../DRSPage/DrsPage-modal");
var CheckInComponent = /** @class */ (function () {
    function CheckInComponent(_checkin, _seatmap, _printemail, _configuration, page, _timeoutService, routerExtensions, _dataService, router, _modalService, vcRef, location, activatedRouter, _service, securityDatas, _shared) {
        this._checkin = _checkin;
        this._seatmap = _seatmap;
        this._printemail = _printemail;
        this._configuration = _configuration;
        this.page = page;
        this._timeoutService = _timeoutService;
        this.routerExtensions = routerExtensions;
        this._dataService = _dataService;
        this.router = router;
        this._modalService = _modalService;
        this.vcRef = vcRef;
        this.location = location;
        this.activatedRouter = activatedRouter;
        this._service = _service;
        this.securityDatas = securityDatas;
        this._shared = _shared;
        this.isAddresses = false;
        this.checkedCount = 0;
        this.isOffloadButtonEnabled = false;
        this.isContinueButtonEnabled = false;
        this.OrderID = "";
        this.searchString = "";
        this.shortCheckin = false;
        this.PassengerList = [];
        this.PassengerArray = [];
        this.FQTVArray = [];
        this.FlightInformation = [];
        this.selectedPassenger = new index_3.MultiSegmentTemplate.Passenger();
        this.currentPage = 0;
        this.check = false;
        this.fqtv = [];
        this.SegmentList = new index_3.MultiSegmentTemplate.FlightWithPax();
        this.FlightWithPaxArray = [];
        this.index = null;
        this.MultiSegmentPaxArray = new index_3.MultiSegmentTemplate.RootObject();
        this.StdCheckIn = false;
        this.UpDownGradeCheckIn = false;
        this.UpDownGradeArray = new index_3.UpgradeInfoArray();
        this.NewUpDownGradeArray = new index_3.UpgradeInfoArray();
        this.DepartureArray = [];
        this.DepartureArrayforFQTV = [];
        this.docCheckForCheckin = false;
        this.ShortCheckAirportCode = "";
        this.SeatProductInfo = [];
        this.isCheckinDisabled = false;
        this.isGateDisabled = false;
        this.isCompensationEnabled = false;
        this.isCheckinPrint = true;
        this.syncTicket = false;
        this.legsInfo = [];
        this.PassengerLists = [];
        this.SeatMapList = new index_3.SeatMap.RootObject();
        this.ShowSeatMapList = new index_3.SeatMap.Item();
        this.isMultiLegFLight = false;
        this.isSegSelected = [];
        this.isSecondSegSelected = true;
        this.PassengerListForOASeatMap = new index_2.SeatMapOAPax.RootObject();
        this.SuffixList = ["MSS", "DR", "MSTR", "MS", "MRS", "MR"];
        this.isInternational = false;
        this.isShortCheck = false;
        this.isError = false;
        this.errorMessage = "";
        this.paxList = [];
        this.loaderProgress = new index_3.LoaderProgress();
        this.DocumentType = [];
        this.DocumentTypeList = [];
        this.PageDocumentList = [];
        this.DocTypeIndex = [];
        this.DocIssueCountryIndex = [];
        this.ResidenceCodeIndex = [];
        this.NationalityIndex = [];
        this.CountryItems = [];
        this.CountryList = [];
        this.SelectedPassengerList = [];
        this.startDate = new Date();
        this.tagitems = [];
        this.tagitems.push("Standard CheckIn");
        this.tagitems.push("Up/Down Grade Change");
        securityDatas.ApisUpdateRequests = [new index_2.ApisUpdateRequest];
        securityDatas.ApisUpdateRequests[0].Documents = [new index_3.Document()];
        securityDatas.ApisUpdateRequests[0].ApisRequirements = [new index_3.ApisRequirement()];
        securityDatas.ApisUpdateRequests[0].ApisAddressRequirements = [];
        securityDatas.ApisUpdateRequests[0].PhoneNumbers = [new index_3.PhoneNumber()];
        securityDatas.ApisUpdateRequests[0].Addresses = [new index_3.Address()];
    }
    CheckInComponent_1 = CheckInComponent;
    CheckInComponent.prototype.ngOnInit = function () {
        var _this = this;
        // this.page.style.backgroundImage = "url('~/images/login_back.jpeg')";
        this.page.style.backgroundSize = "cover ";
        this.locationcode = "PTY";
        var date1 = new Date()
            .toJSON()
            .slice(0, 10)
            .replace(/-/g, "-");
        this.date = moment(new Date()).format("DD MMM YYYY");
        this.loaderProgress.initLoader(this.pageCont);
        this.userdetails = ApplicationSettings.getString("userdetails", "");
        this.isCheckinDisabled = ApplicationSettings.getBoolean("checkinDisabled");
        this.isGateDisabled = ApplicationSettings.getBoolean("gateDisabled");
        this.isCompensationEnabled = ApplicationSettings.getBoolean("compensationEnabled");
        this.router.events.subscribe(function () {
            console.log("checking back");
        });
        this.activatedRouter.queryParams.subscribe(function (params) {
            if (params["data"] != null &&
                params["data"] != "" &&
                params["data"] != "undefined") {
                _this.searchString = params["data"];
                _this.index = params["index"];
            }
            if (params["profile"] != null &&
                params["profile"] != "" &&
                params["profile"] != "undefined") {
                _this.Profile = params["profile"];
            }
            if (params["Paxdata"] != null &&
                params["Paxdata"] != "" &&
                params["Paxdata"] != "undefined") {
                _this.searchString = params["Paxdata"];
            }
            if (params["apidata"] != null &&
                params["apidata"] != "" &&
                params["apidata"] != "undefined") {
                _this.searchString = params["apidata"];
            }
            if (params["baggage"] != null &&
                params["baggage"] != "" &&
                params["baggage"] != "undefined") {
                _this.searchString = params["baggage"];
                _this.index = params["index"];
            }
            if (params["PassengerArray"] != null &&
                params["PassengerArray"] != "" &&
                params["PassengerArray"] != "undefined") {
                _this.searchString = params["PassengerArray"];
                _this.index = params["index"];
                // this.searchString = this.MultiSegmentPaxArray.Segment[0].Passenger[0].OrderID;
            }
            if (params["shortcheckin"] != null &&
                params["shortcheckin"] != "" &&
                params["shortcheckin"] != "undefined") {
                _this.ShortCheckAirportCode = params["shortcheckin"];
            }
            _this.OrderID = _this.searchString;
        });
        if (this.searchString != "" &&
            this.MultiSegmentPaxArray.Segment.length == 0) {
            if (this.searchString.length > 0) {
                if (this.searchString.length == 6) {
                    console.log("inside pnr");
                    // this.isShortCheckin(false);
                    this.getPaxbyOrderID(this.searchString);
                }
                else if (this.searchString.length == 13) {
                    console.log("inside getPaxbyEticket");
                    this.getPaxbyEticket(this.searchString);
                }
            }
        }
        else {
            this.FQTV();
        }
        if (this.index != null) {
            if (this.index != this.currentPage) {
                this.currentPage = this.index;
                this.visiblityVal(this.index);
            }
        }
        this.ShowEtktStatus();
        var label = this.pageCont.nativeElement;
        var self = this;
        var observer = label.on("loaded, tap, longPress, swipe, ngModelChange", function (args) {
            console.log("Event: " + args.eventName);
            console.log(self._timeoutService.timer);
            self._timeoutService.resetWatch();
        });
    };
    CheckInComponent.prototype.ShowEtktStatus = function () {
        var _this = this;
        if (this._shared.GetPassenger().Passengers[0].PrimaryTickets != null && this._shared.GetPassenger().Passengers[0].PrimaryTickets.length > 0) {
            if (this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets != null && this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets.length > 0) {
                if (this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets[0].TicketCoupons != null && this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets[0].TicketCoupons.length > 0) {
                    this.MultiSegmentPaxArray.Segment.forEach(function (Segment, index) {
                        if (_this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets[0].TicketCoupons.filter(function (m) { return (m.Origin == Segment.Origin && m.Destination == Segment.Destination) || m.SegmentNumber == Segment.RPH; }).length > 0) {
                            var TicketCoupon = _this._shared.GetPassenger().Passengers[0].PrimaryTickets[0].Tickets[0].TicketCoupons.filter(function (m) { return m.SegmentNumber == Segment.RPH && m.Origin == _this._shared.GetPassenger().Segments.filter(function (m) { return m.RPH == Segment.RPH; })[0].Origin.AirportCode; })[0];
                            if (TicketCoupon) {
                                if (TicketCoupon.CouponStatusText == "Open" || TicketCoupon.CouponStatusText == "ADJUSTED" || TicketCoupon.CouponStatusText == "CHECKED-IN" || TicketCoupon.CouponStatusText == "LIFTED" || TicketCoupon.CouponStatusText == "BOARDED") {
                                    Segment.ETKTStatusNOTOK = false;
                                }
                                else {
                                    Segment.ETKTStatusNOTOK = true;
                                }
                            }
                        }
                        else {
                            Segment.ETKTStatusNOTOK = true;
                        }
                        if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].isAPISSeatBagDisabled) {
                            _this.isContinueButtonEnabled = false;
                            _this.isOffloadButtonEnabled = false;
                        }
                    });
                }
            }
        }
    };
    CheckInComponent.prototype.isBaggageAvailable = function (item) {
        if (item.SecurityCode == 'NB' || item.SecurityCode == 'NM' || item.SecurityCode == 'VU' || item.SecurityCode == 'NE' || item.SecurityCode == 'ED' || item.SyncTicket || this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline || (this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == 'Ticket is out of sync with booked itinerary') || this.MultiSegmentPaxArray.Segment[this.currentPage].ETKTStatusNOTOK || this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled || this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
            return true;
        }
        else
            return false;
    };
    CheckInComponent.prototype.isSeatAvailable = function (item) {
        if (item.SecurityCode == 'NB' || item.SecurityCode == 'NM' || item.SecurityCode == 'VU' || item.SecurityCode == 'NE' || item.SecurityCode == 'ED' || item.SyncTicket || (this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == 'Ticket is out of sync with booked itinerary') || this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
            return true;
        }
        else {
            var previousSeg = this.currentPage - 1;
            if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                return true;
            }
            else {
                return false;
            }
        }
    };
    CheckInComponent.prototype.getPrinter = function () {
        if (ApplicationSettings.hasKey("printer")) {
            return ApplicationSettings.getString("printer");
        }
        else {
            return "";
        }
    };
    CheckInComponent.prototype.GetOrderDetails = function (id) {
        var _this = this;
        this.loaderProgress.showLoader();
        try {
            var sDate = new Date();
            console.log("Get Passenger Service --------------- Start Date Time : " + sDate);
            this._service.GetPassenger(id).subscribe(function (data) {
                _this._shared.SetPassenger(data);
                var scTable = _this._shared.GetStartupTable().Tables.SecurityCodeTable;
                var PassengerArray = index_4.Converters.ConvertToFlightWithPaxTemplate(_this._shared.GetPassenger(), null, scTable, "");
                console.log("PassengerArray Test");
                console.dir(PassengerArray);
                if (PassengerArray.Segment.length > 0) {
                    var setdepartureDate = moment(PassengerArray.Segment[0].DepartureDateTime.toString()).format("YYYY-MM-DD");
                    var setflightnumber = void 0;
                    if (PassengerArray.Segment[0].MarketingFlight.substr(0, 2) == "CM") {
                        setflightnumber = PassengerArray.Segment[0].MarketingFlight;
                    }
                    else if (PassengerArray.Segment[0].OperatingFlight != null && PassengerArray.Segment[0].OperatingFlight.substr(0, 2) == "CM") {
                        setflightnumber = PassengerArray.Segment[0].OperatingFlight;
                    }
                    else {
                        setflightnumber = PassengerArray.Segment[0].MarketingFlight;
                    }
                    var setcity = PassengerArray.Segment[0].DepartureCity;
                    var AssociatedInfantRPH = null;
                    PassengerArray.Segment.forEach(function (SegEle, SegInndex) {
                        var departureDate = moment(SegEle.DepartureDateTime.toString()).format("YYYY-MM-DD");
                        var flightnumber;
                        if (SegEle.MarketingFlight.substr(0, 2) == "CM") {
                            flightnumber = SegEle.MarketingFlight;
                        }
                        else if (SegEle.OperatingFlight != null && SegEle.OperatingFlight.substr(0, 2) == "CM") {
                            flightnumber = SegEle.OperatingFlight;
                        }
                        else {
                            flightnumber = SegEle.MarketingFlight;
                        }
                        var city = SegEle.DepartureCity;
                        SegEle.date = moment(SegEle.DepartureDateTime.toString()).format("DD-MMM-YYYY");
                        var destination = SegEle.Destination;
                        // //Inventory
                        // this._checkin
                        //     .BookingCountDisplay(departureDate, flightnumber, city)
                        //     .subscribe(data => {
                        //         let inventory: any = data;
                        SegEle.inven = _this.MultiSegmentPaxArray.Segment[SegInndex].inven;
                        // });
                        //Inbound
                        // this._checkin
                        //     .InBound(departureDate, flightnumber, city)
                        //     .subscribe(data => {
                        //         let inBound: any = data;
                        SegEle.inbound = _this.MultiSegmentPaxArray.Segment[SegInndex].inbound;
                        // });
                        //Outbound
                        // this._checkin
                        //     .OutBound(departureDate, flightnumber, destination)
                        //     .subscribe(data => {
                        //         let OutBound: any = data;
                        SegEle.outbound = _this.MultiSegmentPaxArray.Segment[SegInndex].outbound;
                        // });
                        //status
                        // this._dataService
                        //     .Status(departureDate, flightnumber, city)
                        //     .subscribe(data => {
                        //         let status: any = data;
                        // console.log(status.Flights);
                        SegEle.status = _this.MultiSegmentPaxArray.Segment[SegInndex].status;
                        SegEle.Legs = _this.MultiSegmentPaxArray.Segment[SegInndex].Legs;
                        SegEle.STD = _this.MultiSegmentPaxArray.Segment[SegInndex].STD;
                        SegEle.ETA = _this.MultiSegmentPaxArray.Segment[SegInndex].ETA;
                        SegEle.ETD = _this.MultiSegmentPaxArray.Segment[SegInndex].ETD;
                        // });
                    });
                    // this._dataService.GetBaggage(id).subscribe(data => {
                    //     this._shared.SetBaggagecatalog(data);
                    // }, err => {
                    //     console.log(err);
                    // });
                    //Tier
                    // this._dataService
                    //     .Tier(setdepartureDate, setflightnumber, setcity)
                    //     .subscribe(data => {
                    _this.ShowEtktStatus();
                    // let tier: any = data;
                    // this._shared.SetTier(tier);
                    _this._shared.SetSegmentDetail(PassengerArray);
                    _this.MultiSegmentPaxArray = PassengerArray;
                    _this._shared.GetSegmentDetail().Segment.forEach(function (SegEle, SegInndex) {
                        _this.MultiSegmentPaxArray.Segment[SegInndex].status = SegEle.status;
                        _this.MultiSegmentPaxArray.Segment[SegInndex].outbound = SegEle.outbound;
                        _this.MultiSegmentPaxArray.Segment[SegInndex].inbound = SegEle.inbound;
                        _this.MultiSegmentPaxArray.Segment[SegInndex].inven = SegEle.inven;
                    });
                    _this.PassengerArray = _this.MultiSegmentPaxArray.Segment;
                    _this.MultiSegmentPaxArray.Segment.forEach(function (SegData, SegIndex) {
                        var setdepartureDate = moment(SegData.DepartureDateTime.toString()).format("YYYY-MM-DD");
                        var setflightnumber = SegData.MarketingFlight;
                        var setcity = SegData.DepartureCity;
                        console.log("FLight:" + setflightnumber);
                        console.log(SegData.OperatingFlight);
                        if (setflightnumber.substr(0, 2) == "CM" && SegData.OperatingFlight == null) {
                            SegData.IsInterline = false;
                            _this.loaderProgress.hideLoader();
                            //     });
                        }
                        else {
                            _this.loaderProgress.hideLoader();
                            if (SegData.OperatingFlight != null && SegData.OperatingFlight.substr(0, 2) == "CM") {
                                SegData.IsInterline = false;
                            }
                            else {
                                SegData.IsInterline = true;
                            }
                        }
                    });
                    _this.routerExtensions.navigate(["checkin"], {
                        animated: false,
                        transition: {
                            name: "fade",
                            duration: 10,
                            curve: "linear"
                        },
                        queryParams: {
                            data: id,
                            index: _this.index
                        }
                    });
                    // }, err => {
                    //     console.log(err);
                    //     this.loaderProgress.hideLoader();
                    // });
                    _this.dots = [];
                    for (var i = 0; i < _this.MultiSegmentPaxArray.Segment.length; i++) {
                        _this.dots.push({ check: false });
                    }
                    _this.dots[0].check = true;
                    _this.check = false;
                    _this.isPrintbtnEnabled();
                    console.log("SSR" + PassengerArray.Passenger.SSR);
                }
                else {
                    _this.loaderProgress.hideLoader();
                    Toast.makeText("Record Not Found").show();
                }
            }, function (err) {
                console.log("Couldnt find information for this OrderID " + err);
                _this.handleServiceError(err);
                // var errorMessage = err.toString();
                // if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                //     var options = {
                //         title: "Session Time Out",
                //         message: "Your session has been time out",
                //         okButtonText: "OK"
                //     };
                //     dialogs.alert(options).then(() => {
                //         this.navigateToLogin();
                //     });
                // }
                _this.loaderProgress.hideLoader();
            });
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var eDate = new Date();
            console.log("Get Passenger Service --------------- End Date Time : " + eDate);
            console.log("Get Passenger Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
        }
    };
    CheckInComponent.prototype.getPaxbyEticket = function (id) {
        var _this = this;
        try {
            this.loaderProgress.showLoader();
            var startDate = new Date();
            this.PassengerDetails = this._shared.GetPassengerETicket();
            var scTable = this._shared.GetStartupTable().Tables.SecurityCodeTable;
            this.MultiSegmentPaxArray = index_4.Converters.ConvertToFlightWithPaxTemplate(this.PassengerDetails, this._shared.GetStatus(), scTable, "");
            console.dir(this.MultiSegmentPaxArray);
            this._shared.GetSegmentDetail().Segment.forEach(function (SegEle, SegInndex) {
                _this.MultiSegmentPaxArray.Segment[SegInndex].status = SegEle.status;
                _this.MultiSegmentPaxArray.Segment[SegInndex].outbound = SegEle.outbound;
                _this.MultiSegmentPaxArray.Segment[SegInndex].inbound = SegEle.inbound;
                _this.MultiSegmentPaxArray.Segment[SegInndex].inven = SegEle.inven;
                _this.MultiSegmentPaxArray.Segment[SegInndex].date = SegEle.date;
                _this.MultiSegmentPaxArray.Segment[SegInndex].ETA = SegEle.ETA;
                _this.MultiSegmentPaxArray.Segment[SegInndex].ETD = SegEle.ETD;
                _this.MultiSegmentPaxArray.Segment[SegInndex].STD = SegEle.STD;
                _this.MultiSegmentPaxArray.Segment[SegInndex].Legs = SegEle.Legs;
            });
            this.PassengerArray = this.MultiSegmentPaxArray.Segment;
            this.dots = [];
            for (var i = 0; i < this.MultiSegmentPaxArray.Segment.length; i++) {
                this.dots.push({ check: false });
            }
            this.dots[0].check = true;
            if (this.PassengerArray.length > 0) {
                var orderID = this.PassengerArray[0].Passenger[0].OrderID;
                this.FlightInformation = new Array();
                this.MultiSegmentPaxArray.Segment.forEach(function (SegData, SegIndex) {
                    var setdepartureDate = moment(SegData.DepartureDateTime.toString()).format("YYYY-MM-DD");
                    var setflightnumber = SegData.MarketingFlight;
                    var setcity = SegData.DepartureCity;
                    if (setflightnumber.substr(0, 2) == "CM" && SegData.OperatingFlight == null) {
                        SegData.IsInterline = false;
                        _this._dataService
                            .Tier(setdepartureDate, setflightnumber, setcity)
                            .subscribe(function (data) {
                            var tier = data;
                            console.log("All" + JSON.stringify(tier.FlightInfo.FlightNumber));
                            SegData.Passenger.forEach(function (PaxData, PaxIndex) {
                                console.log("in");
                                tier.PassengerList.forEach(function (AllPaxdata, AllIndex) {
                                    if (AllPaxdata.OrderId == PaxData.OrderID) {
                                        console.log("in");
                                        if (PaxData.FirstName == AllPaxdata.GivenName &&
                                            PaxData.LastName == AllPaxdata.Surname) {
                                            console.log("in");
                                            AllPaxdata.PassengerCharacteristics.forEach(function (tierData, tierIndex) {
                                                if (tierData == "TicketOutOfSync") {
                                                    PaxData.SyncTicket = true;
                                                }
                                                if (_this.MultiSegmentPaxArray.Warning != null && _this.MultiSegmentPaxArray.Warning[0].Message == 'Ticket is out of sync with booked itinerary') {
                                                    PaxData.SyncTicket = true;
                                                }
                                                if (tierData == "OnStandby") {
                                                    PaxData.OnStandby = true;
                                                }
                                                if (tierData == "Oversold") {
                                                    PaxData.Oversold = true;
                                                }
                                                if (AllPaxdata.SeatList != null) {
                                                    PaxData.Cabin = AllPaxdata.SeatList[0].Cabin;
                                                    console.log(AllPaxdata.SeatList[0].Cabin + "Cabin");
                                                }
                                            });
                                        }
                                    }
                                });
                            });
                            _this.loaderProgress.hideLoader();
                        }, function (err) {
                            console.log(err);
                            _this.handleServiceError(err);
                            _this.loaderProgress.hideLoader();
                        });
                    }
                    else {
                        _this.loaderProgress.hideLoader();
                        if (SegData.OperatingFlight != null && SegData.OperatingFlight.substr(0, 2) == "CM") {
                            SegData.IsInterline = false;
                        }
                        else {
                            SegData.IsInterline = true;
                        }
                    }
                });
                this.FQTV();
                this.loaderProgress.hideLoader();
            }
            else {
                this.loaderProgress.hideLoader();
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var endDate = new Date();
            console.log("SearchPaxByEticket Service --------------- End Date Time : " + endDate);
            console.log("SearchPaxByEticket Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
            // setTimeout(() => {
            //     this.loaderProgress.hideLoader();
            // }, 1490);
        }
    };
    CheckInComponent.prototype.SSrmore = function (item) {
        var options = {
            title: "SSR",
            cancelButtonText: "BACK",
            actions: item
        };
        dialogs.action(options).then(function (result) {
            console.log("ssr");
        });
    };
    CheckInComponent.prototype.getPaxbyOrderID = function (id) {
        var _this = this;
        try {
            this.loaderProgress.showLoader();
            console.log("here");
            var startDate = new Date();
            console.log("SearchPaxByOrderID Service --------------- Start Date Time : " +
                startDate);
            this.PassengerDetails = null;
            this.PassengerDetails = this._shared.GetPassenger();
            this.MultiSegmentPaxArray = this._shared.GetSegmentDetail();
            this.FlightDate = moment(this.MultiSegmentPaxArray.Segment[0].FlightDate).format("DD-MMM-YYYY");
            console.dir(this.PassengerDetails);
            var scTable = this._shared.GetStartupTable().Tables.SecurityCodeTable;
            this.MultiSegmentPaxArray = index_4.Converters.ConvertToFlightWithPaxTemplate(this.PassengerDetails, this._shared.GetStatus(), scTable, "");
            console.log("SSR" + this.MultiSegmentPaxArray.Segment[0].Passenger[0].SSR[0]);
            this.ticketNumbers = this.MultiSegmentPaxArray.Segment[0].Passenger[0].TicketNumbers;
            console.log(this.ticketNumbers);
            var AssociatedInfantRPH_1 = null;
            this._shared.GetSegmentDetail().Segment.forEach(function (SegEle, SegInndex) {
                _this.MultiSegmentPaxArray.Segment[SegInndex].outbound = SegEle.outbound;
                _this.MultiSegmentPaxArray.Segment[SegInndex].inbound = SegEle.inbound;
                _this.MultiSegmentPaxArray.Segment[SegInndex].inven = SegEle.inven;
                _this.MultiSegmentPaxArray.Segment[SegInndex].date = SegEle.date;
                _this.MultiSegmentPaxArray.Segment[SegInndex].Legs = SegEle.Legs;
                if (SegEle.Legs) {
                    _this.MultiSegmentPaxArray.Segment[SegInndex].status = SegEle.status;
                    var OriginlocDetails = SegEle.Legs.filter(function (m) { return m.DepartureAirport.LocationCode == SegEle.Origin; })[0];
                    _this.MultiSegmentPaxArray.Segment[SegInndex].ETD = OriginlocDetails.DepartureDateTime.Estimated.toString().substr(11, 5);
                    _this.MultiSegmentPaxArray.Segment[SegInndex].STD = OriginlocDetails.DepartureDateTime.Scheduled.toString().substr(11, 5);
                    _this.MultiSegmentPaxArray.Segment[SegInndex].ETA = OriginlocDetails.ArrivalDateTime.Scheduled.toString().substr(11, 5);
                }
                else {
                    _this.MultiSegmentPaxArray.Segment[SegInndex].status = "N/A";
                    _this.MultiSegmentPaxArray.Segment[SegInndex].ETD = "N/A";
                    _this.MultiSegmentPaxArray.Segment[SegInndex].STD = "N/A";
                    _this.MultiSegmentPaxArray.Segment[SegInndex].ETA = "N/A";
                }
                console.log("legs" + SegEle.ETA);
                console.log("legs" + SegEle.ETD);
                console.log("legs" + SegEle.Legs);
                console.log("legs" + JSON.stringify(_this.MultiSegmentPaxArray.Segment[SegInndex].Legs));
                if (SegEle.CheckinStatus && SegEle.AssociatedInfantRPH != null) {
                    AssociatedInfantRPH_1 = SegEle.AssociatedInfantRPH;
                }
                if (AssociatedInfantRPH_1 != null) {
                    if (AssociatedInfantRPH_1 == SegEle.RPH) {
                        SegEle.CheckinStatus = true;
                        AssociatedInfantRPH_1 = null;
                    }
                }
            });
            this.PassengerArray = this.MultiSegmentPaxArray.Segment;
            console.log(this.PassengerArray);
            this.dots = [];
            for (var i = 0; i < this.MultiSegmentPaxArray.Segment.length; i++) {
                this.dots.push({ check: false });
            }
            this.dots[0].check = true;
            if (this.PassengerArray.length > 0) {
                var orderID = id;
                this.FlightInformation = new Array();
                this.MultiSegmentPaxArray.Segment.forEach(function (SegData, SegIndex) {
                    var setdepartureDate = moment(SegData.DepartureDateTime.toString()).format("YYYY-MM-DD");
                    var setflightnumber = SegData.MarketingFlight;
                    var setcity = SegData.DepartureCity;
                    console.log("FLight:" + setflightnumber);
                    console.log(SegData.OperatingFlight);
                    if (setflightnumber.substr(0, 2) == "CM" && SegData.OperatingFlight == null) {
                        // this._dataService
                        //     .Tier(setdepartureDate, setflightnumber, setcity)
                        //     .subscribe(data => {
                        // let tier: any = this._shared.GetTier();
                        SegData.IsInterline = false;
                        // SegData.Passenger.forEach((PaxData, PaxIndex) => {
                        //     console.log("in1");
                        //     if (tier.PassengerList != null) {
                        //         tier.PassengerList.forEach((AllPaxdata, AllIndex) => {
                        //             if (AllPaxdata.OrderId == PaxData.OrderID) {
                        //                 console.log("in2" + PaxData.OrderID);
                        //                 if (
                        //                     PaxData.FirstName == AllPaxdata.GivenName &&
                        //                     PaxData.LastName == AllPaxdata.Surname
                        //                 ) {
                        //                     PaxData.PassengerSeqNumber = AllPaxdata.PassengerRefNumber;
                        //                     console.log("in3" + PaxData.PassengerSeqNumber);
                        //                     if (AllPaxdata.PassengerCharacteristics != null) {
                        //                         AllPaxdata.PassengerCharacteristics.forEach(
                        //                             (tierData, tierIndex) => {
                        //                                 console.log("in4");
                        //                                 if (tierData == "TicketOutOfSync") {
                        //                                     console.log("in5");
                        //                                     PaxData.SyncTicket = true;
                        //                                 }
                        //                                 if (this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == 'Ticket is out of sync with booked itinerary') {
                        //                                     PaxData.SyncTicket = true;
                        //                                 }
                        //                                 if (tierData == "OnStandby") {
                        //                                     PaxData.OnStandby = true;
                        //                                 }
                        //                                 if (tierData == "Oversold") {
                        //                                     PaxData.Oversold = true;
                        //                                 }
                        //                                 if (AllPaxdata.SeatList != null) {
                        //                                     PaxData.Cabin = AllPaxdata.SeatList[0].Cabin;
                        //                                     console.log(
                        //                                         AllPaxdata.SeatList[0].Cabin + "Cabin"
                        //                                     );
                        //                                 }
                        //                             }
                        //                         );
                        //                     }
                        //                 }
                        //             }
                        //         });
                        //     }
                        // });
                        _this.loaderProgress.hideLoader();
                        // },
                        // error => {
                        //     console.log("Couldnt find information for this OrderID " + error);
                        //     this.handleServiceError(error);
                        //     this.loaderProgress.hideLoader();
                        // });
                    }
                    else {
                        _this.loaderProgress.hideLoader();
                        if (SegData.OperatingFlight != null && SegData.OperatingFlight.substr(0, 2) == "CM") {
                            SegData.IsInterline = false;
                        }
                        else {
                            SegData.IsInterline = true;
                        }
                    }
                });
            }
            else {
                this.loaderProgress.hideLoader();
            }
            this.FQTV();
            // this.loaderProgress.hideLoader();
            if (this._shared.GetIsWaitlisted()) {
                this._shared.GetPassenger().Passengers.forEach(function (passenger, index) {
                    if (passenger.PassengerTypeCode != "INF") {
                        var obj = new index_3.PassengerCheckin.SelectedPassenger();
                        obj.FirstName = passenger.Firstname;
                        obj.LastName = passenger.Lastname;
                        _this.SelectedPassengerList.push(obj);
                    }
                });
                console.log(this.SelectedPassengerList);
                this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
                var checkintype = "Waitlist";
                var request = index_4.Converters.ConvertToWaitlistCheckInPostTemplate(this.PassengerArray, "CheckIn", this.SelectedPassengerList, this.SegmentList, checkintype, this.ShortCheckAirportCode, this._shared.GetBagTag());
                this.loaderProgress.showLoader();
                this._checkin.CheckInPax(request).subscribe(function (data) {
                    _this.CheckInResponse = data;
                    console.dir(_this.CheckInResponse);
                    _this._service.GetPassengerrefresh(id)
                        .subscribe(function (data) {
                        _this._shared.SetPassenger(data);
                        var POSLocation = ApplicationSettings.getString("userdetails", "").substr(0, 3);
                        if (!data.Segments.filter(function (m) { return m.Origin.AirportCode == POSLocation; })[0].Status.isWaitlistedPassenger) {
                            _this._shared.SetIsWaitlisted(false);
                        }
                        _this.loaderProgress.hideLoader();
                    }, function (err) {
                        console.log(err);
                        _this.handleServiceError(err);
                        _this.loaderProgress.hideLoader();
                    });
                }, function (error) {
                    console.log("Couldnt find information for this OrderID " + error);
                    _this.loaderProgress.hideLoader();
                    if (error != null) {
                        Toast.makeText(error).show();
                        _this.MultiSegmentPaxArray.Segment.forEach(function (seg, index) {
                            seg.ETKTStatusNOTOK = true;
                        });
                    }
                }, function () {
                    console.log("Done");
                    // this.loaderProgress.hideLoader();
                });
            }
            else {
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var endDate = new Date();
            console.log("SearchPaxByOrderID Service --------------- End Date Time : " + endDate);
            console.log("SearchPaxByOrderID Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
            // setTimeout(() => {
            //     this.loaderProgress.hideLoader();
            // }, 15000);
        }
    };
    CheckInComponent.prototype.FQTV = function () {
        var _this = this;
        this.fqtv1 = this._shared.GetFQTV();
        this.fqtv.length = 0;
        this.MultiSegmentPaxArray.Segment.forEach(function (SegEle, SegIndex) {
            SegEle.Passenger.forEach(function (PaxEle, PaxIndex) {
                PaxEle.FqtvPrograms = index_4.Converters.ConvertToFQTV(_this.fqtv1);
                //  console.dir(PaxEle.FqtvPrograms);
            });
        });
    };
    CheckInComponent.prototype.getSecurityDoc = function (id, item, indexOfPassener) {
        var _this = this;
        try {
            console.log(indexOfPassener);
            var sDate = new Date();
            console.log("Get Passenger Service --------------- Start Date Time : " + sDate);
            this._shared.SetAdultSecurityData(null);
            this._shared.SetSecurityDocument(null);
            this.loaderProgress.showLoader();
            var board = this.MultiSegmentPaxArray.Segment[this.currentPage].Origin;
            this._service.GetPassenger(id, board).subscribe(function (data) {
                _this._shared.SetPassenger(data);
                var scTable = _this._shared.GetStartupTable().Tables.SecurityCodeTable;
                var PassengerArray = index_4.Converters.ConvertToFlightWithPaxTemplate(_this._shared.GetPassenger(), null, scTable, "");
                var multiSegment = PassengerArray;
                multiSegment.Segment.forEach(function (seg, index) {
                    seg.Legs = _this.MultiSegmentPaxArray.Segment[index].Legs;
                    seg.inbound = _this.MultiSegmentPaxArray.Segment[index].inbound;
                    seg.outbound = _this.MultiSegmentPaxArray.Segment[index].outbound;
                    seg.inven = _this.MultiSegmentPaxArray.Segment[index].inven;
                    seg.status = _this.MultiSegmentPaxArray.Segment[index].status;
                    seg.FlightDate = _this.MultiSegmentPaxArray.Segment[index].FlightDate;
                });
                _this._shared.SetSegmentDetail(multiSegment);
                _this.SecurityDetails = _this._shared.GetPassenger();
                if (_this.SecurityDetails.Passengers.length > 0) {
                    _this.SecurityDetails.Passengers.forEach(function (passenger, index) {
                        if (passenger.Documents.length == 0) {
                            passenger.Documents = [new index_3.Document()];
                        }
                    });
                }
                //this._shared.SetPassenger(data);
                _this.SecurityDetails.Passengers.forEach(function (element, index) {
                    if (element.ApisDocoStatus != "Complete" || (element.ApisDocoStatus == "Complete" && element.Documents.length > 0 && element.Documents[0].IsTrustedData != true)) {
                        if (_this._shared.GetAPISDocument() != null) {
                            var suffixList = element.Firstname.split(_this._shared.GetAPISDocument().Firstname.replace(" ", ""));
                            var suffix_1 = '';
                            if (suffixList.length > 1) {
                                suffix_1 = suffixList[1];
                            }
                            console.log(suffix_1);
                            if ((element.Firstname == _this._shared.GetAPISDocument().Firstname.replace(" ", "") && element.Lastname == _this._shared.GetAPISDocument().Surname.replace(" ", "")) || (element.Lastname == _this._shared.GetAPISDocument().Surname.replace(" ", "") && _this.SuffixList.filter(function (m) { return m == suffix_1.toUpperCase(); }).length > 0)) {
                                console.log("inside");
                                _this.SecurityDetails.Passengers[index].Documents[0] = _this._shared.GetAPISDocument();
                                _this.SecurityDetails.Passengers[index].Documents[0].CountryOfResidence = null;
                                // if (this.SuffixList.filter(m => m == suffix.toUpperCase()).length > 0) {
                                //     this._shared.GetAPISDocument().Firstname = this._shared.GetScanAPISDocument().Firstname.replace(" ", "") + suffix;
                                // }
                                _this.SecurityDetails.Passengers[index].Documents[0].inputType = "Machine Readable";
                                if (_this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().DocIssueCountry; }).length > 0) {
                                    var issueCountry = _this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().DocIssueCountry; })[0].CountryCode.toString();
                                    _this.SecurityDetails.Passengers[index].Documents[0].DocIssueCountry = issueCountry;
                                }
                                if (_this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().CountryOfResidence; }).length > 0) {
                                    var residenceCountry = _this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().CountryOfResidence; })[0].CountryCode.toString();
                                    _this.SecurityDetails.Passengers[index].Documents[0].CountryOfResidence = residenceCountry;
                                }
                                if (_this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().DocHolderNationality; }).length > 0) {
                                    var docHolderNationality = _this._shared.GetCountry().Collection.filter(function (m) { return m.ISO3CountryCode == _this._shared.GetAPISDocument().DocHolderNationality; })[0].CountryCode.toString();
                                    _this.SecurityDetails.Passengers[index].Documents[0].DocHolderNationality = docHolderNationality;
                                }
                            }
                            else {
                                _this.SecurityDetails.Passengers[index].Documents[0].inputType = "Manual";
                            }
                        }
                    }
                });
                var apisPassenger = _this.SecurityDetails.Passengers;
                console.dir(_this.SecurityDetails);
                var groupedName = _this.SecurityDetails.Passengers.filter(function (m) { return m.Firstname == item.FirstName && m.Lastname == item.LastName; })[0].GroupedGivenName;
                var passengerNames = apisPassenger.filter(function (m) { return m.GroupedGivenName == groupedName; });
                var groupArray = groupedName.split('/');
                var selectedGroupArray = [];
                var selectedINFGroupArray = [];
                selectedGroupArray.length = 0;
                selectedINFGroupArray.length = 0;
                var PassengerIndex = [];
                var PassengerINFIndex = [];
                PassengerIndex.length = 0;
                PassengerINFIndex.length = 0;
                // this.PassengerArray.forEach((element,index)=>{
                // let passenger:MultiSegmentTemplate.Passenger = new MultiSegmentTemplate.Passenger();
                // })
                var isDone = false;
                if (groupedName != "" && groupedName.split('/').length > 1) {
                    groupedName.split('/').forEach(function (element, gIndex) {
                        if (item.FirstName == element) {
                            apisPassenger.forEach(function (pass, i) {
                                if (pass.Firstname == item.FirstName && pass.Lastname == item.LastName) {
                                    if (pass.AdcDecisionStatus == "OK" && pass.ApisDocoStatus == "Complete") {
                                        isDone = true;
                                    }
                                    else if (pass.AdcDecisionStatus == null && pass.ApisDocoStatus == "Complete") {
                                        isDone = true;
                                    }
                                    else if (pass.AdcDecisionStatus == "COK" && pass.ApisDocoStatus == "Complete") {
                                        isDone = true;
                                    }
                                    else if ((pass.AdcDecisionStatus == "BYPASSED" || pass.AdcDecisionStatus == "AUTOBYPASSED") && pass.ApisDocoStatus == "Complete") {
                                        isDone = true;
                                    }
                                    PassengerIndex.push(i);
                                    PassengerINFIndex.push(i);
                                }
                            });
                        }
                        else {
                            var groupNameList = passengerNames.filter(function (m) { return m.Firstname == element; })[0];
                            var groupInitial_1 = { 'Firstname': '', 'Lastname': '' };
                            groupInitial_1.Firstname = groupNameList.Firstname;
                            groupInitial_1.Lastname = groupNameList.Lastname;
                            //if (!isDone) {
                            apisPassenger.forEach(function (pass, i) {
                                if (pass.Firstname == groupInitial_1.Firstname && pass.Lastname == groupInitial_1.Lastname) {
                                    if (pass.AdcDecisionStatus == "OK" && pass.ApisDocoStatus == "Complete") {
                                        //isDone = true;
                                    }
                                    else if (pass.AdcDecisionStatus == null && pass.ApisDocoStatus == "Complete") {
                                        //isDone = true;
                                    }
                                    else if (pass.AdcDecisionStatus == "COK" && pass.ApisDocoStatus == "Complete") {
                                        //isDone = true;
                                    }
                                    else if ((pass.AdcDecisionStatus == "BYPASSED" || pass.AdcDecisionStatus == "AUTOBYPASSED") && pass.ApisDocoStatus == "Complete") {
                                        //isDone = true;
                                    }
                                    selectedGroupArray.push(groupInitial_1);
                                    selectedINFGroupArray.push(groupInitial_1);
                                }
                            });
                            //}
                        }
                    });
                }
                else {
                    _this.SecurityDetails.Passengers.forEach(function (pass, index) {
                        if (pass.Firstname == item.FirstName && pass.Lastname == item.LastName && pass.RPH == item.RPH) {
                            PassengerIndex.push(index);
                            PassengerINFIndex.push(index);
                        }
                    });
                }
                var selectedPassengerList = [new index_3.MultiSegmentTemplate.Passenger()];
                selectedPassengerList.length = 0;
                _this.MultiSegmentPaxArray.Segment.forEach(function (element, index) {
                    if (groupedName != null && groupedName != "") {
                        groupedName.split('/').forEach(function (groups, gIndex) {
                            selectedPassengerList.push(element.Passenger.filter(function (m) { return m.FirstName == groups; })[0]);
                        });
                    }
                });
                //let itemIndex:any = 0;
                console.dir(selectedPassengerList);
                console.dir(groupArray);
                _this.securityDatas.ApisUpdateRequests.length = 0;
                //let securityDataList: Array<SecurityModel> = []
                //securityDataList.length = 0;
                // securityDataList[0].ApisUpdateRequests.length = 0;
                //this.securityDatas.ApisUpdateRequests[0].Documents.length = 0;
                var isInternational = false;
                _this.MultiSegmentPaxArray.Segment.forEach(function (seg, index) {
                    if (seg.IsInternational) {
                        isInternational = true;
                    }
                });
                if (isInternational) {
                    var apisItem_1 = [new index_3.MultiSegmentTemplate.Passenger()];
                    apisItem_1.length = 0;
                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (passElements, index) {
                        apisItem_1.push(passElements);
                    });
                    var ADCbyPass_1 = _this._shared.GetStartupTable().Tables.ByPass;
                    _this.SecurityDetails.Passengers.forEach(function (element, index) {
                        if (groupArray.length > 1) {
                            if (groupArray.filter(function (m) { return m == _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger[index].FirstName; }).length > 0) {
                                item = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger[index];
                            }
                            var isContinue = false;
                            if (element.AdcDecisionStatus == "OK" && element.ApisDocoStatus == "Complete") {
                                isContinue = true;
                            }
                            else if (element.AdcDecisionStatus == "COK" && element.ApisDocoStatus == "Complete") {
                                isContinue = true;
                            }
                            else if ((element.AdcDecisionStatus == "BYPASSED" || element.AdcDecisionStatus == "AUTOBYPASSED") && element.ApisDocoStatus == "Complete") {
                                isContinue = true;
                            }
                            if (!isContinue) {
                                if (PassengerIndex[0] != index) {
                                    if (selectedGroupArray.length > 0) {
                                        selectedGroupArray.forEach(function (groupName) {
                                            if (groupName.Firstname == element.Firstname && groupName.Lastname == element.Lastname) {
                                                PassengerIndex.push(index);
                                                PassengerINFIndex.push(index);
                                            }
                                        });
                                    }
                                }
                            }
                        }
                        // item.LastName = this.SecurityDetails.Passengers[0].Lastname;
                        //if (element.Firstname == item.FirstName && element.Lastname == item.LastName) {
                        //if(this.SecurityDetails.Passengers[0].Documents[0].Firstname != null)
                        //{
                        console.log(_this.SecurityDetails);
                        var apisUpdateRequests = new index_2.ApisUpdateRequest();
                        _this.PassengerDetail = index_4.Converters.ConvertToPassengersDetail(_this.SecurityDetails, apisItem_1[index], _this.CountryList, _this.CountryItems, ADCbyPass_1);
                        console.dir(_this.PassengerDetail);
                        _this.securityDatas.ApisDocoStatus = element.ApisDocoStatus;
                        _this.securityDatas.ADCStatus = element.AdcDecisionStatus;
                        _this.securityDatas.BypassADC = null;
                        _this.securityDatas.OrderUpdateRequests = null;
                        //securityDataList.push(this.securityDatas);
                        apisUpdateRequests.Lastname = _this.PassengerDetail.ApisUpdateRequests[0].Lastname;
                        apisUpdateRequests.Firstname = _this.PassengerDetail.ApisUpdateRequests[0].Firstname;
                        apisUpdateRequests.SurnameRefNumber = _this.PassengerDetail.ApisUpdateRequests[0].SurnameRefNumber;
                        apisUpdateRequests.Prefix = _this.PassengerDetail.ApisUpdateRequests[0].Prefix;
                        apisUpdateRequests.RPH = _this.PassengerDetail.ApisUpdateRequests[0].RPH;
                        apisUpdateRequests.Emails = _this.PassengerDetail.ApisUpdateRequests[0].Emails;
                        apisUpdateRequests.Gender = _this.PassengerDetail.ApisUpdateRequests[0].Gender;
                        apisUpdateRequests.PassengerTypeCode = _this.PassengerDetail.ApisUpdateRequests[0].PassengerTypeCode;
                        apisUpdateRequests.DateOfBirth = _this.PassengerDetail.ApisUpdateRequests[0].DateOfBirth;
                        apisUpdateRequests.Age = _this.PassengerDetail.ApisUpdateRequests[0].Age;
                        apisUpdateRequests.FqtTravelers = _this.PassengerDetail.ApisUpdateRequests[0].FqtTravelers;
                        apisUpdateRequests.AssociatedInfantRPH = _this.PassengerDetail.ApisUpdateRequests[0].AssociatedInfantRPH;
                        apisUpdateRequests.AssociatedAdultRPH = _this.PassengerDetail.ApisUpdateRequests[0].AssociatedAdultRPH;
                        apisUpdateRequests.Nationality = _this.PassengerDetail.ApisUpdateRequests[0].Nationality;
                        apisUpdateRequests.ApisRequirements = [new index_3.ApisRequirement()];
                        apisUpdateRequests.ApisAddressRequirements = [];
                        apisUpdateRequests.PhoneNumbers = [new index_3.PhoneNumber()];
                        apisUpdateRequests.PhoneNumbers = item.PhoneNumbers;
                        apisUpdateRequests.Addresses = [new index_3.Address()];
                        apisUpdateRequests.Addresses = _this.PassengerDetail.ApisUpdateRequests[0].Addresses;
                        apisUpdateRequests.Documents = [new index_3.Document()];
                        apisUpdateRequests.EmergencyDetails = [new index_3.EmergencyDetail()];
                        apisUpdateRequests.EmergencyDetails[0].EmergencyPhone = new index_3.EmergencyPhone();
                        apisUpdateRequests.KnownTravelerNumber = _this.PassengerDetail.ApisUpdateRequests[0].KnownTravelerNumber;
                        apisUpdateRequests.OldKnownTravelerNumber = _this.PassengerDetail.ApisUpdateRequests[0].KnownTravelerNumber;
                        apisUpdateRequests.RedressNumber = _this.PassengerDetail.ApisUpdateRequests[0].RedressNumber;
                        apisUpdateRequests.OldRedressNumber = _this.PassengerDetail.ApisUpdateRequests[0].OldRedressNumber;
                        apisUpdateRequests.FOID = _this.PassengerDetail.ApisUpdateRequests[0].FOID;
                        apisUpdateRequests.OldNationality = _this.PassengerDetail.ApisUpdateRequests[0].OldNationality;
                        apisUpdateRequests.OldDateOfBirth = _this.PassengerDetail.ApisUpdateRequests[0].OldDateOfBirth;
                        apisUpdateRequests.OldGender = _this.PassengerDetail.ApisUpdateRequests[0].OldGender;
                        apisUpdateRequests.OldEmergencyDetails = _this.PassengerDetail.ApisUpdateRequests[0].EmergencyDetails;
                        apisUpdateRequests.Nationality = _this.PassengerDetail.ApisUpdateRequests[0].Nationality;
                        apisUpdateRequests.GivenName = _this.PassengerDetail.ApisUpdateRequests[0].GivenName;
                        // this.securityDatas.ApisUpdateRequests[0].AssociatedPassenger = this.PassengerDetail.ApisUpdateRequests[0].AssociatedPassenger;
                        apisUpdateRequests.EmergencyDetails = _this.PassengerDetail.ApisUpdateRequests[0].EmergencyDetails;
                        apisUpdateRequests.PurposeOfVisit = _this.PassengerDetail.ApisUpdateRequests[0].PurposeOfVisit != "" ? "Tourist" : _this.PassengerDetail.ApisUpdateRequests[0].PurposeOfVisit;
                        apisUpdateRequests.ExitDateJustification = _this.PassengerDetail.ApisUpdateRequests[0].ExitDateJustification;
                        apisUpdateRequests.ExitDate = _this.PassengerDetail.ApisUpdateRequests[0].ExitDate;
                        if (_this._shared.GetAPISDocument() != null) {
                            console.dir(_this.PassengerDetail);
                            _this.PassengerDetail.ApisUpdateRequests.forEach(function (passengerElement, passIndex) {
                                passengerElement.Documents.forEach(function (element, apisIndex) {
                                    var suffixList = passengerElement.Firstname.split(_this._shared.GetAPISDocument().Firstname.replace(" ", ""));
                                    var suffix = '';
                                    if (suffixList.length > 1) {
                                        suffix = suffixList[1];
                                    }
                                    console.log(suffix);
                                    if ((_this._shared.GetAPISDocument().Surname.replace(" ", "") == item.LastName && _this._shared.GetAPISDocument().Firstname.replace(" ", "") == item.FirstName) || (item.LastName == _this._shared.GetAPISDocument().Surname.replace(" ", "") && _this.SuffixList.filter(function (m) { return m == suffix.toUpperCase(); }).length > 0)) {
                                        // this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[0] = this._shared.GetAPISDocument();
                                        // this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[0].inputType = "Machine Readable"
                                        // console.log(this._shared.GetAPISDocument().DocIssueCountry);
                                        // console.log(this._shared.GetCountry().Collection.filter(m => m.ISO3CountryCode == this._shared.GetAPISDocument().DocIssueCountry)[0])
                                        // console.log(this._shared.GetCountry().Collection.filter(m => m.ISO3CountryCode == this._shared.GetAPISDocument().CountryOfResidence)[0])
                                        // console.log(this._shared.GetCountry().Collection.filter(m => m.ISO3CountryCode == this._shared.GetAPISDocument().DocHolderNationality)[0])
                                        if (_this.PassengerDetail.ApisDocoStatus != "Complete" || (_this.PassengerDetail.ApisDocoStatus == "Complete" && passengerElement.Documents.length > 0 && passengerElement.Documents[0].IsTrustedData != true)) {
                                            _this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[0].CountryOfResidence = null;
                                            _this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[0].OCRString = _this._shared.GetAPISDocument().OCRString.split('\n')[0];
                                            _this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[0].IsTrustedData = true;
                                        }
                                        // this.PassengerDetail.ApisUpdateRequests[passIndex].Documents.forEach((element, index) => {
                                        //     this.PassengerDetail.ApisUpdateRequests[passIndex].Documents[index].Firstname = this._shared.GetAPISDocument().Firstname.replace(" ", "");
                                        // })
                                    }
                                    else if (element.Surname == item.LastName && element.Firstname == item.FirstName) {
                                        element.OCRString = null;
                                        _this.PassengerDetail.ApisUpdateRequests[passIndex].Documents.push(element);
                                    }
                                });
                            });
                        }
                        apisUpdateRequests.Documents = _this.PassengerDetail.ApisUpdateRequests[0].Documents;
                        if (_this.PassengerDetail.ApisUpdateRequests[0].ApisRequirements != null && _this.PassengerDetail.ApisUpdateRequests[0].ApisRequirements.length > 0) {
                            apisUpdateRequests.ApisRequirements.length = 0;
                            apisUpdateRequests.ApisRequirements = _this.PassengerDetail.ApisUpdateRequests[0].ApisRequirements;
                        }
                        if (_this.PassengerDetail.ApisUpdateRequests[0].ApisAddressRequirements != null && _this.PassengerDetail.ApisUpdateRequests[0].ApisAddressRequirements.length > 0) {
                            apisUpdateRequests.ApisAddressRequirements.length = 0;
                            apisUpdateRequests.ApisAddressRequirements = _this.PassengerDetail.ApisUpdateRequests[0].ApisAddressRequirements;
                        }
                        if (apisUpdateRequests.Addresses.length > 0) {
                            _this.isAddresses = true;
                        }
                        // this.securityDatas.FqtTravelers = [];
                        // this.securityDatas.FqtTravelers=this.PassengerDetail.FqtTravelers;
                        _this.OrderID = _this.OrderID;
                        _this.DocumentTypeList = _this.PassengerDetail.DocumentTypeList;
                        _this.DocumentType = _this.PassengerDetail.DocumentType;
                        _this.DocTypeIndex = _this.PassengerDetail.DocTypeIndex;
                        _this.DocIssueCountryIndex = _this.PassengerDetail.DocIssueCountryIndex;
                        _this.NationalityIndex = _this.PassengerDetail.NationalityIndex;
                        _this.ResidenceCodeIndex = _this.PassengerDetail.ResidenceCodeIndex;
                        _this.SelectDocumentType = _this.PassengerDetail.ApisUpdateRequests[0].Documents.length > 0 ? _this.PassengerDetail.ApisUpdateRequests[0].Documents[0].DocType : "2";
                        _this.ADCByPassList = _this.PassengerDetail.ADCByPassList;
                        _this.ADCByPassNameList = _this.PassengerDetail.ADCByPassNameList;
                        _this._shared.SetDocumentType(_this.PassengerDetail.DocumentType);
                        if (apisUpdateRequests.Documents.length > 0) {
                            if (apisUpdateRequests.Documents[0].DocHolderGender == "Male" || apisUpdateRequests.Documents[0].DocHolderGender == "0") {
                                _this.gender = "0";
                                apisUpdateRequests.Documents[0].DocHolderGender = "0";
                            }
                            else if (apisUpdateRequests.Documents[0].DocHolderGender == "Female" || apisUpdateRequests.Documents[0].DocHolderGender == "1") {
                                _this.gender = "1";
                                apisUpdateRequests.Documents[0].DocHolderGender = "1";
                            }
                        }
                        else {
                            _this.gender = "0";
                        }
                        _this.loaderProgress.hideLoader();
                        //securityDataList[index].ApisUpdateRequests.length = 0;
                        //securityDataList[index].ApisUpdateRequests.push(apisUpdateRequests);
                        _this.securityDatas.ApisUpdateRequests.push(apisUpdateRequests);
                        //}
                        // else {
                        // Toast.makeText("API data is not available for the Passenger").show();
                        // this.loaderProgress.hideLoader();
                        // }
                        //}
                    });
                    var flightDetails = _this.MultiSegmentPaxArray.Segment[_this.currentPage];
                    //this._shared.SetSecurityDocument(this.securityDatas);
                    _this._shared.GetPassenger().Passengers.forEach(function (element, index) {
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element.RPH; })[0].AdcDecisionStatus = element.AdcDecisionStatus;
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element.RPH; })[0].ApisDocoStatus = element.ApisDocoStatus;
                    });
                    _this._shared.SetSecurityDocument(_this.securityDatas);
                    if (_this.securityDatas.ApisUpdateRequests.length > 1) {
                        var item_1 = [];
                        groupArray.forEach(function (name) {
                            item_1.push(_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name; })[0]);
                        });
                        _this._shared.SetSelectedPassenger(item_1);
                    }
                    else {
                        _this._shared.SetSelectedPassenger(item);
                    }
                    _this._shared.SetAPISPassengerList(apisItem_1);
                    _this._shared.SetSecurityPassengerList(_this.SecurityDetails.Passengers);
                    console.dir(apisItem_1);
                    console.dir(item);
                    _this._shared.SetDocumentTypeList(_this.DocumentTypeList);
                    _this._shared.SetADCByPassNameList(_this.ADCByPassNameList);
                    _this._shared.SetADCByPassList(_this.ADCByPassList);
                    _this._shared.SetMultiSegmentPax(_this.MultiSegmentPaxArray);
                    // this._shared.SetUserProfile(this.Profile);
                    _this._shared.SetFlightDetails(flightDetails);
                    var segIndex_1;
                    _this.MultiSegmentPaxArray.Segment.forEach(function (seg, index) {
                        if (seg.IsInternational) {
                            segIndex_1 = index;
                        }
                    });
                    _this._shared.SetResidentCard(_this.MultiSegmentPaxArray.Segment[segIndex_1]);
                    console.dir(_this.securityDatas);
                    //console.dir(this.securityDatas);
                    var isINHIBIT = item.SecurityCode;
                    if (_this.securityDatas.ApisUpdateRequests[0].AssociatedAdultRPH != null) {
                        var docStatus = _this.SecurityDetails.Passengers.filter(function (m) { return m.RPH == _this.securityDatas.ApisUpdateRequests[0].AssociatedAdultRPH; })[0].ApisDocoStatus;
                        var adultitem = new index_3.MultiSegmentTemplate.Passenger();
                        var adultAndInfant = _this.SecurityDetails.Passengers.filter(function (m) { return m.RPH == _this.securityDatas.ApisUpdateRequests[0].AssociatedAdultRPH; })[0];
                        adultitem.FirstName = adultAndInfant.Firstname;
                        adultitem.RPH = adultAndInfant.RPH;
                        adultitem.SurnameRefNumber = adultAndInfant.SurnameRefNumber;
                        adultitem.PassengerTypeCode = adultAndInfant.PassengerTypeCode;
                        if (docStatus == "Complete") {
                            var AdultPassengerDetail = index_4.Converters.ConvertToPassengersDetail(_this.SecurityDetails, adultitem, _this.CountryList, _this.CountryItems, ADCbyPass_1);
                            _this._shared.SetAdultSecurityData(AdultPassengerDetail);
                            console.dir(PassengerIndex + "indexxxxx");
                            _this.navigateToApis(isINHIBIT, PassengerIndex, indexOfPassener, PassengerINFIndex);
                        }
                        else {
                            Toast.makeText("Complete APIS Associated Adult Passenger").show();
                        }
                    }
                    else {
                        console.dir(PassengerIndex);
                        _this.navigateToApis(isINHIBIT, PassengerIndex, indexOfPassener, PassengerINFIndex);
                    }
                }
                else if (_this.SecurityDetails.Segments[_this.currentPage].Status.StatusCategory == "Waitlist") {
                    Toast.makeText("ADC/APIS collection is not allowed at this time. If needed, ADC/APIS informaiton will be collected after the check in button is clicked.").show();
                    _this.loaderProgress.hideLoader();
                }
                else {
                    Toast.makeText("API data is not available for the Passenger").show();
                    _this.loaderProgress.hideLoader();
                }
            }, function (err) {
                console.log(err);
                _this.handleServiceError(err);
                _this.loaderProgress.hideLoader();
            });
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var eDate = new Date();
            console.log("Get Passenger Service --------------- End Date Time : " + eDate);
            console.log("Get Passenger Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
        }
    };
    CheckInComponent.prototype.InterLineThroughCheckin = function (Flightdeatils) {
        var _this = this;
        try {
            this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
            var checkintype = this.PassengerDetails.Segments[this.currentPage].Status
                .StatusCategory;
            var request_1 = index_4.Converters.ConvertToInterlineThroughCheckInPostTemplate(this.PassengerArray, this.SelectedPassengerList, this.MultiSegmentPaxArray, this.currentPage, Flightdeatils, checkintype, this._shared.GetPassenger(), this._shared.GetBagTag());
            console.dir(request_1);
            this.SecurityDetails = this._shared.GetPassenger();
            console.log(this.SecurityDetails.Passengers[0]);
            if (this.SecurityDetails.Passengers[0].Documents.length != 0) {
                this.SelectedPassengerList.forEach(function (PaxData, PaxIndex) {
                    if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (obj) { return obj.FirstName == PaxData.FirstName && obj.LastName == PaxData.LastName; })[0].IsSecurityDocsComplete == false) {
                        // let passengerType = this.SecurityDetails.Passengers.filter(m => m.Firstname == PaxData.FirstName && m.Lastname == PaxData.LastName)[0].PassengerTypeCode;
                        // if (passengerType != "INF") {
                        if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInternational == true) {
                            _this.docCheckForCheckin = true;
                        }
                        // }
                    }
                });
            }
            if (!this.docCheckForCheckin) {
                if (request_1 != null) {
                    this._checkin.CheckInPax(request_1).subscribe(function (data) {
                        _this.CheckInResponse = data;
                        console.log(JSON.stringify(_this.CheckInResponse));
                        if (_this.CheckInResponse.SegmentTravelerInfoList != null) {
                            console.log("SegmentTravellerInfo Avilable");
                            var selectedSegment_1 = _this.MultiSegmentPaxArray.Segment[_this.currentPage];
                            var selSegTravellerInfoList = _this.CheckInResponse.SegmentTravelerInfoList.filter(function (m) { return m.SegmentRPH == selectedSegment_1.SegmentRPH; });
                            if (selSegTravellerInfoList) {
                                if (request_1.BluetoothBagTag && request_1.isManualBag == false) {
                                    _this._shared.SetBagTag(null);
                                    _this.BluetoothPrinter(request_1, _this.CheckInResponse);
                                }
                                else {
                                    _this._shared.SetBagTag(null);
                                    _this.GetOrderDetails(_this.SegmentList.Passenger[0].OrderID);
                                }
                                // this.GetOrderDetails(this.SegmentList.Passenger[0].OrderID);
                            }
                            else {
                                Toast.makeText("Unbale to find Segments").show();
                                _this.loaderProgress.hideLoader();
                            }
                        }
                        else {
                            // this.loaderProgress.hideLoader();
                            if (request_1.BluetoothBagTag && request_1.isManualBag == false) {
                                _this._shared.SetBagTag(null);
                                _this.BluetoothPrinter(request_1, _this.CheckInResponse);
                            }
                            else {
                                _this._shared.SetBagTag(null);
                                _this.GetOrderDetails(_this.SegmentList.Passenger[0].OrderID);
                            }
                            // this.GetOrderDetails(this.SegmentList.Passenger[0].OrderID);
                        }
                        // else if (this.CheckInResponse.Warnings.length > 0) {
                        if (_this.CheckInResponse.Warnings && _this.CheckInResponse.Warnings.length > 0) {
                            Toast.makeText(_this.CheckInResponse.Warnings[0].Message).show();
                        }
                        // }
                        _this.SelectedPassengerList.forEach(function (pass, index) {
                            _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                        });
                        _this.SelectedPassengerList.length = 0;
                        // this.loaderProgress.hideLoader();
                    }, function (error) {
                        console.log("Couldnt find information for this OrderID " + error);
                        _this.handleServiceError(error);
                        _this.loaderProgress.hideLoader();
                    }, function () {
                        console.log("Done");
                    });
                }
            }
            else {
                Toast.makeText("Apis Data is Required").show();
                this.docCheckForCheckin = false;
                this.loaderProgress.hideLoader();
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var endDate = new Date();
            console.log("Get Passenger Service --------------- End Date Time : " + endDate);
            // console.log('Get Passenger Service Execution Time : ' + AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
        }
    };
    CheckInComponent.prototype.gotoDRS = function (item, index) {
        var _this = this;
        this.loaderProgress.showLoader();
        var Page = item.SecurityValue.Help.Page;
        var Subject = item.SecurityValue.Help.Subject;
        var category = item.SecurityValue.Help.Category;
        console.log(Page + " " + Subject + " " + category);
        this._checkin.DrsPage("", "", "").subscribe(function (data) {
            _this.loaderProgress.hideLoader();
            var categoryName = data.Categories.filter(function (m) { return m.Value == category; })[0].Text;
            _this._checkin.DrsPage(category, "", "").subscribe(function (data) {
                var SubjectName = data.Subjects.filter(function (m) { return m.Value == Subject; })[0].Text;
                _this._checkin.DrsPage(category, Subject, "").subscribe(function (data) {
                    var PageName = data.Pages.filter(function (m) { return m.Value == Page; })[0].Text;
                    _this._checkin.DrsPage(category, Subject, Page).subscribe(function (data) {
                        _this.loaderProgress.hideLoader();
                        var options = {
                            viewContainerRef: _this.vcRef,
                            context: [data.Contents[0].Text, PageName, SubjectName, categoryName],
                            fullscreen: true
                        };
                        _this._modalService
                            .showModal(DrsPage_modal_1.DRSComponent, options)
                            .then(function (result) {
                            console.log("date result " + result);
                        });
                    }, function (err) {
                        console.log(err);
                        _this.handleServiceError(err);
                        _this.loaderProgress.hideLoader();
                    });
                }, function (err) {
                    console.log(err);
                    _this.handleServiceError(err);
                    _this.loaderProgress.hideLoader();
                });
            }, function (err) {
                console.log(err);
                _this.handleServiceError(err);
                _this.loaderProgress.hideLoader();
            });
        }, function (err) {
            console.log(err);
            _this.loaderProgress.hideLoader();
        });
    };
    CheckInComponent.prototype.OAOffload = function () {
        var _this = this;
        try {
            this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
            var checkintype = this.PassengerDetails.Segments[this.currentPage].Status
                .StatusCategory;
            var request_2 = index_4.Converters.ConvertToOAOffloadTemplate(this.PassengerArray, this.SelectedPassengerList, this.MultiSegmentPaxArray, this.currentPage, checkintype);
            console.dir(request_2);
            if (request_2 != null) {
                this._checkin.Offload(request_2).subscribe(function (data) {
                    _this.CheckInResponse = data;
                    console.dir(_this.CheckInResponse);
                    if (_this.CheckInResponse != null) {
                        if (_this.CheckInResponse.Warnings != null) {
                            if (_this.CheckInResponse.Warnings[0].Message == CheckInComponent_1.APISDATAREQUIRED) {
                                Toast.makeText(_this._configuration.ApisDataRequired).show();
                                _this.GetOrderDetails(request_2.PassengerList[0].OrderId);
                            }
                            else {
                                if (_this.CheckInResponse.Warnings[0].Message.indexOf(" ERROR-REPORT ENTRY") == -1) {
                                    Toast.makeText(_this.CheckInResponse.Warnings[0].Message).show();
                                }
                                _this.SelectedPassengerList.forEach(function (pass, index) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    });
                                });
                                _this.isContinueButtonEnabled = false;
                                _this.isOffloadButtonEnabled = false;
                                _this.SelectedPassengerList.length = 0;
                                _this.GetOrderDetails(request_2.PassengerList[0].OrderId);
                            }
                        }
                        else if (_this.CheckInResponse.Errors != null) {
                            //alert(this.CheckInResponse.Errors);
                            _this.SelectedPassengerList.forEach(function (pass, index) {
                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                });
                            });
                            _this.isContinueButtonEnabled = false;
                            _this.isOffloadButtonEnabled = false;
                            _this.SelectedPassengerList.length = 0;
                            _this.GetOrderDetails(request_2.PassengerList[0].OrderId);
                        }
                        else {
                            console.log("after checkin" + JSON.stringify(_this.CheckInResponse));
                            _this.SelectedPassengerList.forEach(function (pass, index) {
                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                });
                            });
                            _this.isContinueButtonEnabled = false;
                            _this.isOffloadButtonEnabled = false;
                            _this.SelectedPassengerList.length = 0;
                            var AssociatedInfantRPH_2 = null;
                            _this.CheckInResponse.SegmentTravelerInfoList.forEach(function (SegmentTraveler, Detailndex) {
                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (data, SegIndex) {
                                    if (data.RPH == SegmentTraveler.PassengerRPH &&
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage]
                                            .SegmentRPH == SegmentTraveler.SegmentRPH) {
                                        if (SegmentTraveler.CheckinInfos[0].Status ==
                                            "Checkedin" ||
                                            SegmentTraveler.CheckinInfos[0].Status ==
                                                "CheckedinNonRevSpaceAvailable") {
                                            data.CheckinStatus = true;
                                        }
                                        data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                    }
                                    // if (data.RPH == SegmentTraveler.PassengerRPH && this.MultiSegmentPaxArray.Segment[this.currentPage].SegmentRPH == SegmentTraveler.SegmentRPH) {
                                    //     data.CheckinStatus = SegmentTraveler.CheckinInfos[0].Status == "Checkedin" ? true : false;
                                    //     data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                    // }
                                    if (!data.CheckinStatus &&
                                        data.AssociatedInfantRPH != null) {
                                        AssociatedInfantRPH_2 = data.AssociatedInfantRPH;
                                    }
                                    if (AssociatedInfantRPH_2 != null) {
                                        if (AssociatedInfantRPH_2 == data.RPH) {
                                            data.CheckinStatus = false;
                                            AssociatedInfantRPH_2 = null;
                                        }
                                    }
                                });
                            });
                            _this.GetOrderDetails(request_2.PassengerList[0].OrderId);
                        }
                    }
                    // this.loaderProgress.hideLoader();
                }, function (error) {
                    console.log("Couldnt find information for this OrderID " + error);
                    _this.handleServiceError(error);
                    // var errorMessage = error.toString();
                    // if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                    //     var options = {
                    //         title: "Session Time Out",
                    //         message: "Your session has been time out",
                    //         okButtonText: "OK"
                    //     };
                    //     dialogs.alert(options).then(() => {
                    //         this.navigateToLogin();
                    //     });
                    // }
                    _this.loaderProgress.hideLoader();
                }, function () {
                    console.log("Done");
                    // this.loaderProgress.hideLoader();
                });
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var endDate = new Date();
            console.log("Get Passenger Service --------------- End Date Time : " + endDate);
            // console.log('Get Passenger Service Execution Time : ' + AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
        }
    };
    CheckInComponent.prototype.CheckinOrInterLineThroughCheck = function (id) {
        this.loaderProgress.showLoader();
        if (this.syncTicket != true && (this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning.length == 0 || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING)) {
            if (id == "CheckIn") {
                var nPage = this.MultiSegmentPaxArray.Segment.length;
                console.log("Page :" + nPage);
                var nextLeg = this.currentPage + 1;
                if (nextLeg < nPage) {
                    console.log("C1 :" +
                        this.MultiSegmentPaxArray.Segment[this.currentPage]
                            .DepartureDateTime);
                    console.log("N1 :" + this.MultiSegmentPaxArray.Segment[nextLeg].DepartureDateTime);
                    console.log("C :" +
                        moment(this.MultiSegmentPaxArray.Segment[this.currentPage]
                            .ArrivalDateTime).format("HH:mm:ss"));
                    console.log("N :" +
                        moment(this.MultiSegmentPaxArray.Segment[nextLeg].DepartureDateTime).format("HH:mm:ss"));
                    var sTime = moment(this.MultiSegmentPaxArray.Segment[this.currentPage].ArrivalDateTime);
                    var eTime = moment(this.MultiSegmentPaxArray.Segment[nextLeg].DepartureDateTime);
                    var diffTime = moment.duration(eTime.diff(sTime)).asHours();
                    console.log("DiffTime :" + diffTime);
                    this.DifferenceInTimeDuration = diffTime;
                    console.log("Test Time :" + this.DifferenceInTimeDuration);
                    console.log("Test Leg1 :" +
                        this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2));
                    console.log("Test Leg2 :" +
                        this.MultiSegmentPaxArray.Segment[nextLeg].MarketingFlight.substr(0, 2));
                    // if (this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) == "CM" && this.MultiSegmentPaxArray.Segment[nextLeg].MarketingFlight.substr(0, 2) == "CM" && this.DifferenceInTimeDuration <= 12.0 && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight == null) {
                    //     if (this.MultiSegmentPaxArray.Segment[this.currentPage].DepartureCity == this.MultiSegmentPaxArray.Segment[nextLeg].Destination) {
                    //         this.ShortCheckAirportCode = this.MultiSegmentPaxArray.Segment[this.currentPage].Destination
                    //     } else {
                    //         this.ShortCheckAirportCode = ""
                    //     }
                    // }
                    if (this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) == "CM" && this.MultiSegmentPaxArray.Segment[nextLeg].MarketingFlight.substr(0, 2) != "CM" && this.DifferenceInTimeDuration <= 12.0) {
                        console.log(" Checkin type 1");
                        var nextMarketingFlight = this.MultiSegmentPaxArray.Segment[nextLeg]
                            .MarketingFlight;
                        this.InterLineThroughCheckin(nextMarketingFlight);
                    }
                    else if (this.MultiSegmentPaxArray.Segment[nextLeg].OperatingFlight != null) {
                        if (this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) == "CM" &&
                            this.MultiSegmentPaxArray.Segment[nextLeg].OperatingFlight.substr(0, 2) != "CM" &&
                            this.DifferenceInTimeDuration <= 12.0) {
                            console.log("Check in type 2A");
                            var nextOperatingFlight = this.MultiSegmentPaxArray.Segment[nextLeg]
                                .OperatingFlight;
                            this.InterLineThroughCheckin(nextOperatingFlight);
                        }
                        else {
                            console.log("Checkin type 2");
                            this.CheckInPax(id);
                        }
                    }
                    else {
                        console.log("Checkin type 2");
                        this.CheckInPax(id);
                    }
                }
                else {
                    this.CheckInPax(id);
                }
            }
            else {
                console.log("Checkin type 3");
                if ((this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) == "CM" &&
                    this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight ==
                        null) || (this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) != "CM" &&
                    this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight !=
                        null && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight.substr(0, 2) == "CM")) {
                    this.CheckInPax(id);
                }
                else {
                    this.OAOffload();
                }
            }
        }
        else {
            this.loaderProgress.hideLoader();
            // Toast.makeText(" passengers are ticket out of sync passengers. Checkin will be allowed only when those passengers ticket is synced. If you want to checkin non e-ticketed passengers, click 'OK' and unselect the ticket out of sync passenger and proceed to checkin").show();
            dialogs.alert(CheckInComponent_1.TKTOUTOFSYNC).then(function (result) {
                console.log("Dialog result: " + result);
            });
        }
    };
    CheckInComponent.prototype.CheckInPax = function (id) {
        var _this = this;
        this.loaderProgress.showLoader();
        console.dir(this.MultiSegmentPaxArray.Segment);
        this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
        //console.dir(this.PassengerArray);
        var checkintype = this.PassengerDetails.Segments[this.currentPage].Status
            .StatusCategory;
        var request = index_4.Converters.ConvertToCheckInPostTemplate(this.PassengerArray, id, this.SelectedPassengerList, this.SegmentList, checkintype, this.ShortCheckAirportCode, this._shared.GetBagTag());
        if (id == "CheckIn") {
            try {
                this.SecurityDetails = this._shared.GetPassenger();
                if (this.SecurityDetails.Passengers[0].Documents.length != 0) {
                    this.SelectedPassengerList.forEach(function (PaxData, PaxIndex) {
                        if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (obj) {
                            return obj.FirstName == PaxData.FirstName &&
                                obj.LastName == PaxData.LastName;
                        })[0].IsSecurityDocsComplete == false) {
                            // let passengerType = this.SecurityDetails.Passengers.filter(m => m.Firstname == PaxData.FirstName && m.Lastname == PaxData.LastName)[0].PassengerTypeCode;
                            // if (passengerType != "INF") {
                            if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInternational == true) {
                                _this.docCheckForCheckin = true;
                            }
                            // }
                        }
                    });
                }
                if (!this.docCheckForCheckin) {
                    var startDate = new Date();
                    console.log("CheckInPax Service --------------- Start Date Time : " + startDate);
                    console.dir(request);
                    if (request != null) {
                        console.time("checkin");
                        this._checkin.CheckInPax(request).subscribe(function (data) {
                            console.timeEnd("checkin");
                            _this.CheckInResponse = data;
                            console.dir(_this.CheckInResponse);
                            if (_this.CheckInResponse != null && _this.CheckInResponse.Success) {
                                console.log("inside check in response not equal null");
                                if (_this.CheckInResponse.Warnings != null && _this.CheckInResponse.Warnings.length > 0) {
                                    // this.CheckInResponse.Warnings.forEach((message, index) => {
                                    if (_this.CheckInResponse.Warnings[0].Message == CheckInComponent_1.APISDATAREQUIRED) {
                                        console.log("Toast 1");
                                        Toast.makeText(_this._configuration.ApisDataRequired).show();
                                        _this.loaderProgress.hideLoader();
                                        // this.GetOrderDetails(request.PassengerList[0].OrderId);
                                    }
                                    else {
                                        _this.CheckInResponse.Warnings.forEach(function (message, index) {
                                            Toast.makeText(message.Message).show();
                                        });
                                        _this.SelectedPassengerList.forEach(function (pass, index) {
                                            _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                        });
                                        _this.SelectedPassengerList.length = 0;
                                        _this.isContinueButtonEnabled = false;
                                        _this.isOffloadButtonEnabled = false;
                                        var AssociatedInfantRPH_3 = null;
                                        if (_this.CheckInResponse.SegmentTravelerInfoList != null && _this.CheckInResponse.SegmentTravelerInfoList.length > 0) {
                                            _this.CheckInResponse.SegmentTravelerInfoList.forEach(function (SegmentTraveler, Detailndex) {
                                                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (data, SegIndex) {
                                                    if (data.RPH == SegmentTraveler.PassengerRPH && _this.MultiSegmentPaxArray.Segment[_this.currentPage].SegmentRPH == SegmentTraveler.SegmentRPH) {
                                                        if (SegmentTraveler.CheckinInfos != null) {
                                                            if (SegmentTraveler.CheckinInfos[0].Status == "Checkedin" || SegmentTraveler.CheckinInfos[0].Status == "CheckedinNonRevSpaceAvailable" || SegmentTraveler.CheckinInfos[0].Status == "CheckedinStandby") {
                                                                data.CheckinStatus = true;
                                                                Toast.makeText("Passenger Checkedin Sucessfully").show();
                                                            }
                                                        }
                                                        if (SegmentTraveler.Seats != null) {
                                                            if (SegmentTraveler.Seats[0].SeatNumber != null) {
                                                                data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                                                data.Seats = SegmentTraveler.Seats;
                                                                data.Cabin = SegmentTraveler.Seats[0].Cabin;
                                                            }
                                                        }
                                                        if (SegmentTraveler.IsShortCheckin) {
                                                            _this.isShortCheck = true;
                                                        }
                                                    }
                                                    if (data.CheckinStatus && data.AssociatedInfantRPH != null) {
                                                        AssociatedInfantRPH_3 = data.AssociatedInfantRPH;
                                                    }
                                                    if (AssociatedInfantRPH_3 != null) {
                                                        if (AssociatedInfantRPH_3 == data.RPH) {
                                                            data.CheckinStatus = true;
                                                            AssociatedInfantRPH_3 = null;
                                                        }
                                                    }
                                                });
                                            });
                                        }
                                        var ErrorMessage = " ERROR-REPORT ENTRY>";
                                        ErrorMessage.toString();
                                        console.log(" inside Toast else 2");
                                        if (request.BluetoothBagTag && request.isManualBag == false) {
                                            console.log("bluetooth Toast else 1");
                                            _this._shared.SetBagTag(null);
                                            _this.BluetoothPrinter(request, _this.CheckInResponse);
                                        }
                                        else {
                                            console.log("bluetooth Toast else 2");
                                            _this._shared.SetBagTag(null);
                                            _this.GetOrderDetails(request.PassengerList[0].OrderId);
                                        }
                                        if (_this.CheckInResponse.Information != null) {
                                            _this.CheckInResponse.Information.forEach(function (message, index) {
                                                console.log("Toast 2");
                                                console.log(message.Message);
                                                Toast.makeText(message.Message).show();
                                            });
                                        }
                                        if (_this.CheckInResponse.Errors != null && _this.CheckInResponse.Errors.length > 0) {
                                            _this.CheckInResponse.Errors.forEach(function (message, index) {
                                                console.log("Toast err");
                                                console.log(message.Message);
                                                Toast.makeText(message.Message).show();
                                            });
                                        }
                                    }
                                    // })
                                }
                                else {
                                    console.log("Checkin Completed 1");
                                    _this.SelectedPassengerList.forEach(function (pass, index) {
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    });
                                    _this.SelectedPassengerList.length = 0;
                                    _this.isContinueButtonEnabled = false;
                                    _this.isOffloadButtonEnabled = false;
                                    var AssociatedInfantRPH_4 = null;
                                    if (_this.CheckInResponse.SegmentTravelerInfoList != null && _this.CheckInResponse.SegmentTravelerInfoList.length > 0) {
                                        _this.CheckInResponse.SegmentTravelerInfoList.forEach(function (SegmentTraveler, Detailndex) {
                                            _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (data, SegIndex) {
                                                if (data.RPH == SegmentTraveler.PassengerRPH && _this.MultiSegmentPaxArray.Segment[_this.currentPage].SegmentRPH == SegmentTraveler.SegmentRPH) {
                                                    if (SegmentTraveler.CheckinInfos[0].Status == "Checkedin" || SegmentTraveler.CheckinInfos[0].Status == "CheckedinNonRevSpaceAvailable" || SegmentTraveler.CheckinInfos[0].Status == "CheckedinStandby") {
                                                        data.CheckinStatus = true;
                                                        Toast.makeText("Passenger Checkedin Sucessfully").show();
                                                    }
                                                    data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                                    data.Seats = SegmentTraveler.Seats;
                                                    data.Cabin = SegmentTraveler.Seats[0].Cabin;
                                                }
                                                if (data.CheckinStatus && data.AssociatedInfantRPH != null) {
                                                    AssociatedInfantRPH_4 = data.AssociatedInfantRPH;
                                                }
                                                if (AssociatedInfantRPH_4 != null) {
                                                    if (AssociatedInfantRPH_4 == data.RPH) {
                                                        data.CheckinStatus = true;
                                                        AssociatedInfantRPH_4 = null;
                                                    }
                                                }
                                            });
                                        });
                                    }
                                    if (request.BluetoothBagTag && request.isManualBag == false) {
                                        _this._shared.SetBagTag(null);
                                        _this.BluetoothPrinter(request, _this.CheckInResponse);
                                    }
                                    else {
                                        _this._shared.SetBagTag(null);
                                        _this.GetOrderDetails(request.PassengerList[0].OrderId);
                                    }
                                }
                            }
                            else {
                                if (_this.CheckInResponse.Errors != null) {
                                    _this.loaderProgress.hideLoader();
                                    _this.CheckInResponse.Errors.forEach(function (errors, index) {
                                        Toast.makeText(errors.Message).show();
                                    });
                                }
                                _this.GetOrderDetails(request.PassengerList[0].OrderId);
                            }
                        }, function (error) {
                            console.log("Couldnt find information for this OrderID " + error);
                            _this.handleServiceError(error);
                            // var errorMessage = error.toString();
                            // if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                            //     var options = {
                            //         title: "Session Time Out",
                            //         message: "Your session has been time out",
                            //         okButtonText: "OK"
                            //     };
                            //     dialogs.alert(options).then(() => {
                            //         this.navigateToLogin();
                            //     });
                            // }
                            _this.loaderProgress.hideLoader();
                        }, function () {
                            console.log("Done");
                            // this.loaderProgress.hideLoader();
                        });
                    }
                }
                else {
                    Toast.makeText("Apis Data is Required").show();
                    this.docCheckForCheckin = false;
                    this.loaderProgress.hideLoader();
                }
            }
            catch (error) {
                console.log(error.message);
                this.loaderProgress.hideLoader();
            }
            finally {
                var endDate = new Date();
                console.log("CheckInPax Service --------------- End Date Time : " + endDate);
                console.log("CheckInPax Service Execution Time : " +
                    app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
            }
        }
        else {
            try {
                var startDate = new Date();
                console.log("Offload Service --------------- Start Date Time : " + startDate);
                this.loaderProgress.showLoader();
                console.log(JSON.stringify(request));
                if (request != null) {
                    this._checkin.Offload(request).subscribe(function (data) {
                        _this.CheckInResponse = data;
                        console.dir(_this.CheckInResponse);
                        if (_this.CheckInResponse != null) {
                            if (_this.CheckInResponse.Warnings != null) {
                                if (_this.CheckInResponse.Warnings[0].Message ==
                                    CheckInComponent_1.APISDATAREQUIRED) {
                                    Toast.makeText(_this._configuration.ApisDataRequired).show();
                                    _this.GetOrderDetails(request.PassengerList[0].OrderId);
                                }
                                else {
                                    if (_this.CheckInResponse.Warnings[0].Message.indexOf(" ERROR-REPORT ENTRY") == -1) {
                                        Toast.makeText(_this.CheckInResponse.Warnings[0].Message).show();
                                    }
                                    _this.SelectedPassengerList.forEach(function (pass, index) {
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                            _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                        });
                                    });
                                    _this.isContinueButtonEnabled = false;
                                    _this.isOffloadButtonEnabled = false;
                                    _this.SelectedPassengerList.length = 0;
                                    _this.GetOrderDetails(request.PassengerList[0].OrderId);
                                }
                            }
                            else if (_this.CheckInResponse.Errors != null && _this.CheckInResponse.Errors.length > 0) {
                                //alert(this.CheckInResponse.Errors);
                                _this.SelectedPassengerList.forEach(function (pass, index) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    });
                                });
                                _this.isContinueButtonEnabled = false;
                                _this.isOffloadButtonEnabled = false;
                                _this.SelectedPassengerList.length = 0;
                                _this.GetOrderDetails(request.PassengerList[0].OrderId);
                            }
                            else {
                                console.log("after checkin" + JSON.stringify(_this.CheckInResponse));
                                _this.SelectedPassengerList.forEach(function (pass, index) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (element, index) {
                                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
                                    });
                                });
                                _this.isContinueButtonEnabled = false;
                                _this.isOffloadButtonEnabled = false;
                                _this.SelectedPassengerList.length = 0;
                                var AssociatedInfantRPH_5 = null;
                                _this.CheckInResponse.SegmentTravelerInfoList.forEach(function (SegmentTraveler, Detailndex) {
                                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.forEach(function (data, SegIndex) {
                                        if (data.RPH == SegmentTraveler.PassengerRPH &&
                                            _this.MultiSegmentPaxArray.Segment[_this.currentPage]
                                                .SegmentRPH == SegmentTraveler.SegmentRPH) {
                                            if (SegmentTraveler.CheckinInfos[0].Status ==
                                                "Checkedin" ||
                                                SegmentTraveler.CheckinInfos[0].Status ==
                                                    "CheckedinNonRevSpaceAvailable") {
                                                data.CheckinStatus = true;
                                            }
                                            data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                        }
                                        // if (data.RPH == SegmentTraveler.PassengerRPH && this.MultiSegmentPaxArray.Segment[this.currentPage].SegmentRPH == SegmentTraveler.SegmentRPH) {
                                        //     data.CheckinStatus = SegmentTraveler.CheckinInfos[0].Status == "Checkedin" ? true : false;
                                        //     data.SeatNumber = SegmentTraveler.Seats[0].SeatNumber;
                                        // }
                                        if (!data.CheckinStatus &&
                                            data.AssociatedInfantRPH != null) {
                                            AssociatedInfantRPH_5 = data.AssociatedInfantRPH;
                                        }
                                        if (AssociatedInfantRPH_5 != null) {
                                            if (AssociatedInfantRPH_5 == data.RPH) {
                                                data.CheckinStatus = false;
                                                AssociatedInfantRPH_5 = null;
                                            }
                                        }
                                    });
                                });
                                _this.GetOrderDetails(request.PassengerList[0].OrderId);
                            }
                        }
                        // this.loaderProgress.hideLoader();
                    }, function (error) {
                        console.log("Couldnt find information for this OrderID " + error);
                        _this.handleServiceError(error);
                        // var errorMessage = error.toString();
                        // if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                        //     var options = {
                        //         title: "Session Time Out",
                        //         message: "Your session has been time out",
                        //         okButtonText: "OK"
                        //     };
                        //     dialogs.alert(options).then(() => {
                        //         this.navigateToLogin();
                        //     });
                        // }
                        _this.loaderProgress.hideLoader();
                    }, function () {
                        console.log("Done");
                        // this.loaderProgress.hideLoader();
                    });
                }
            }
            catch (error) {
                console.log(error.message);
                this.loaderProgress.hideLoader();
            }
            finally {
                var endDate = new Date();
                console.log("Offload Service --------------- End Date Time : " + endDate);
                console.log("Offload Service Execution Time : " +
                    app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
            }
        }
        // this.isPrintbtnEnabled();
    };
    CheckInComponent.prototype.isShortCheckin = function (args) {
        var _this = this;
        // console.log(args.ShortCheckinArrivalCodesByFlights);
        // console.log(this.MultiSegmentPaxArray.Segment[this.index].FlightNumber);
        if (args.ShortCheckinArrivalCodesByFlights != null && args.ShortCheckinArrivalCodesByFlights.filter(function (m) { return m.FlightNumber == _this.MultiSegmentPaxArray.Segment[_this.currentPage].MarketingFlight || m.FlightNumber == _this.MultiSegmentPaxArray.Segment[_this.currentPage].OperatingFlight; }).length > 0 && args.ShortCheckinArrivalCodesByFlights.filter(function (m) { return m.FlightNumber == _this.MultiSegmentPaxArray.Segment[_this.currentPage].MarketingFlight || m.FlightNumber == _this.MultiSegmentPaxArray.Segment[_this.currentPage].OperatingFlight; })[0].ShortCheckinArrivalCodes.IsEligibleForShortCheckin) {
            this.isShortCheck = true;
            return true;
        }
        else {
            return false;
        }
        // console.log("chckargs:");
        // if (this.isShortCheck === true && index == 0) {
        //     console.log("chckargs:");
        //     return 'visible';
        // } else {
        //     return 'collapse';
        // }
    };
    CheckInComponent.prototype.selectShortCheckCode = function (args, i) {
        var _this = this;
        console.log("i:" + i);
        var ShortcheckCodes = args.ShortCheckinArrivalCodesByFlights.filter(function (m) { return m.FlightNumber == _this.MultiSegmentPaxArray.Segment[_this.currentPage].MarketingFlight; })[0].ShortCheckinArrivalCodes.ShortCheckInArrivalCodes;
        if (ShortcheckCodes != null && ShortcheckCodes != []) {
            var options = {
                title: "ShortCheck",
                message: "Choose Destination",
                actions: ShortcheckCodes
            };
            dialogs.action(options).then(function (result) {
                console.log(result);
                if (result) {
                    _this.ShortCheckAirportCode = result;
                    args.ShortCheckAirportCode = result;
                }
                else {
                    _this.ShortCheckAirportCode = ShortcheckCodes[0];
                    args.ShortCheckAirportCode = ShortcheckCodes[0];
                }
            });
        }
    };
    CheckInComponent.prototype.SendBaordingPassEmail = function () {
        var _this = this;
        try {
            var sDate = new Date();
            this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
            if (this.SelectedPassengerList.length > 0) {
                // if (this.SelectedPassengerList.length == 1) {
                this.SelectedPassengerList.forEach(function (elements, index) {
                    _this.selectedPassenger = _this.SegmentList.Passenger.filter(function (m) {
                        return m.FirstName == elements.FirstName &&
                            m.LastName == elements.LastName;
                    })[0];
                    if (_this.selectedPassenger != null) {
                        if (_this.selectedPassenger.CheckinStatus == true) {
                            _this.loaderProgress.showLoader();
                            var request = index_4.Converters.ConvertToPrintBoardingPass(_this.SelectedPassengerList, _this.SegmentList, _this.PassengerDetails, "", _this.MultiSegmentPaxArray, _this.currentPage);
                            try {
                                var sDate = new Date();
                                console.log("SendBaordingPassEmail Services --------------- Start Date Time : " +
                                    sDate);
                                if (request != null) {
                                    _this._printemail.SendBaordingPassEmail(request).subscribe(function (data) {
                                        console.dir(data);
                                        if (data != null &&
                                            data != "undefined" &&
                                            data.JobResponse != null &&
                                            data.JobResponse != "undefined") {
                                            if (data.JobResponse.Status != "Failed") {
                                                alert("BaordingPass Email Sent Succesfully ");
                                            }
                                            else {
                                                alert(data.JobResponse.Message);
                                            }
                                        }
                                    }, function (error) {
                                        console.log("Couldnt find information for this OrderID " + error);
                                        var errorMessage = error.toString();
                                        if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                                            var options = {
                                                title: "Session Time Out",
                                                message: "Your session has been time out",
                                                okButtonText: "OK"
                                            };
                                            dialogs.alert(options).then(function () {
                                                _this.navigateToLogin();
                                            });
                                        }
                                        _this.loaderProgress.hideLoader();
                                    }, function () {
                                        _this.loaderProgress.hideLoader();
                                    });
                                }
                            }
                            catch (error) {
                                console.log(error.message);
                                _this.loaderProgress.hideLoader();
                            }
                            finally {
                                var eDate = new Date();
                                console.log("SendBaordingPassEmail Service --------------- End Date Time : " +
                                    eDate);
                                console.log("SendBaordingPassEmail Service Execution Time : " +
                                    app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
                            }
                            // }
                        }
                        else {
                            Toast.makeText("check in is not completed").show();
                        }
                    }
                });
                // } else {
                //     Toast.makeText("Kindly DeSelect passengers.BoardingPass Applicable only for single passenger").show();
                // }
            }
            else {
                Toast.makeText("Select Passenger").show();
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var eDate = new Date();
            console.log("SendBaordingPassEmail Service --------------- End Date Time : " + eDate);
            console.log("SendBaordsingPassEmail Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
        }
    };
    CheckInComponent.prototype.BluetoothPrinter = function (request, CheckInResponse) {
        if (!ApplicationSettings.getBoolean("isHostBagtag")) {
            var bagtagElement_1 = Object.assign({}, request);
            var bagtagList_1 = Object.assign({}, CheckInResponse);
            console.log("Bluetooth before");
            console.log(CheckInResponse);
            if (CheckInResponse.BagTagOutput && CheckInResponse.BagTagOutput.length > 0) {
                console.log("Bluetooth before in 1");
                if (CheckInResponse.BagTagOutput[0].PicRawData) {
                    console.log("Bluetooth before in 1");
                    console.log("Bluetooth inside before");
                    var image = imageModule.fromBase64(CheckInResponse.BagTagOutput[0].PicRawData);
                    var paths = fs.path.join(fs.knownFolders.temp().path, "stuff");
                    var dest = fs.path.join(fs.knownFolders.currentApp().path, "/assets");
                    // Zip.zip(paths,dest,);
                    var folder_1 = fs.knownFolders.documents();
                    var filename_1 = moment(new Date()).format("hhmmss");
                    var path = fs.path.join(folder_1.path, "tempBPImage" + filename_1 + ".jpg");
                    try {
                        image.saveToFile(path, "jpeg");
                        var printerID = this.getPrinter();
                        if (printerID.trim() != "") {
                            var self_1 = this;
                            console.time("PrintBagtag");
                            new zebra.Printer({ address: printerID, language: "CPCL", debugging: false }).then(function (curPrinter, result) {
                                var document = curPrinter.createDocument();
                                document.image(fs.path.join(folder_1.path, "tempBPImage" + filename_1 + ".jpg"), 0);
                                curPrinter.getStatus().then(function (result) {
                                    console.log(result);
                                    if (result.ready && !result.latchOpen && !result.lowBattery && !result.paperOut) {
                                        curPrinter.print(document).then(function () {
                                            console.log("Printing Done");
                                            var file = folder_1.getFile("tempBPImage" + filename_1 + ".jpg");
                                            file.remove().then(function (res) {
                                                console.log("file removed");
                                            });
                                            Toast.makeText("BagTag printed sucessfully").show();
                                            var Remakrequest = index_4.Converters.BluetoothPrinterResponseCheckin(bagtagElement_1, bagtagList_1, true);
                                            console.log(JSON.stringify(Remakrequest));
                                            console.time("RemarksCheckin");
                                            self_1._printemail.RemarksCheckin(Remakrequest).subscribe(function (data) {
                                                console.log(data);
                                                console.timeEnd("RemarksCheckin");
                                                if (data.Information != null && data.Information.length > 0) {
                                                    Toast.makeText(data.Information[0].Message).show();
                                                }
                                                self_1.GetOrderDetails(self_1.OrderID);
                                            }, function (error) {
                                                Toast.makeText("Error in adding remarks").show();
                                                self_1.GetOrderDetails(self_1.OrderID);
                                                // this.handleServiceError(error);
                                                // this.loaderProgress.hideLoader();
                                            });
                                            curPrinter.close().then(function () {
                                                console.timeEnd("PrintBagtag");
                                                Toast.makeText("Printer is ready to print").show();
                                                // this.loaderProgress.hideLoader();
                                            }).catch(function (err) {
                                                Toast.makeText("Error Occured while Printing:").show();
                                                // console.log("Printing Error: ", err);
                                                curPrinter.close();
                                                self_1.PrintFail(bagtagElement_1, bagtagList_1);
                                            });
                                        }).catch(function (status) {
                                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                            self_1.PrintFail(bagtagElement_1, bagtagList_1);
                                        });
                                    }
                                    else {
                                        if (result.latchOpen) {
                                            Toast.makeText("!!!!LatchOpen").show();
                                        }
                                        if (result.lowBattery) {
                                            Toast.makeText("!!!!LowBattery").show();
                                        }
                                        if (result.paperOut) {
                                            Toast.makeText("!!!!PaperOut").show();
                                        }
                                        self_1.PrintFail(bagtagElement_1, bagtagList_1);
                                    }
                                }).catch(function (status) {
                                    console.log(status);
                                });
                            }).catch(function (err) {
                                Toast.makeText(CheckInComponent_1.PRINTERSESSION).show();
                                console.log("HI");
                                self_1.PrintFail(bagtagElement_1, bagtagList_1);
                            });
                        }
                        else {
                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                            this.PrintFail(bagtagElement_1, bagtagList_1);
                        }
                    }
                    catch (e) {
                        console.log(e);
                        Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                        this.PrintFail(bagtagElement_1, bagtagList_1);
                    }
                }
                else {
                    console.log("Bluetooth inside else before 1");
                    Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                    this.PrintFail(bagtagElement_1, bagtagList_1);
                }
            }
            else {
                console.log("Bluetooth inside else before  2");
                Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                this.PrintFail(bagtagElement_1, bagtagList_1);
            }
        }
        else {
            this.GetOrderDetails(this.OrderID);
        }
    };
    CheckInComponent.prototype.PrintFail = function (bagtagElement, bagtagList) {
        var _this = this;
        var Remakrequest = index_4.Converters.BluetoothPrinterResponseCheckin(bagtagElement, bagtagList, false);
        console.log(JSON.stringify(Remakrequest));
        this._printemail.RemarksCheckin(Remakrequest).subscribe(function (data) {
            console.log(data);
            if (data.Information != null && data.Information.length > 0) {
                Toast.makeText(data.Information[0].Message).show();
            }
            _this.GetOrderDetails(_this.OrderID);
        }, function (error) {
            _this.handleServiceError(error);
            console.log(error);
            _this.loaderProgress.hideLoader();
        });
    };
    // PrintBaordingPassPopup() {
    //     if (this.SelectedPassengerList.length > 0) {
    //         let checkedInData: boolean = true;
    //         this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
    //         this.SelectedPassengerList.forEach((elements, index) => {
    //             let selectedPassenger = this.SegmentList.Passenger.filter(
    //                 m =>
    //                     m.FirstName == elements.FirstName && m.LastName == elements.LastName
    //             )[0];
    //             console.dir(selectedPassenger);
    //             if (selectedPassenger != null) {
    //                 if (selectedPassenger.CheckinStatus == false) {
    //                     checkedInData = false;
    //                 }
    //             }
    //         });
    //         if (checkedInData) {
    //             let options = {
    //                 title: "Printer",
    //                 message: "Choose Printer Type",
    //                 cancelButtonText: "Cancel",
    //                 actions: ["Boarding Pass"]
    //             };
    //             dialogs.action(options).then(result => {
    //                 console.log(result);
    //                 if (result == "Boarding Pass") {
    //                     let isHost:boolean = ApplicationSettings.getBoolean("isHost");
    //                     if(isHost)
    //                     {
    //                         this.hostPrinter("hosted");
    //                     }
    //                     else
    //                     {
    //                         this.hostPrinter("bluetooth");
    //                     }
    //                     //this.PrintBaordingPass();
    //                 }
    //                 if (result == "Bag Tag") {
    //                     //this.PrintBagTag();
    //                     let isHost:boolean = ApplicationSettings.getBoolean("isHost");
    //                     if (isHost) {
    //                         this.hostBagTagPrinter("hosted");
    //                     }
    //                     else {
    //                         this.hostBagTagPrinter("bluetooth");
    //                     }
    //                     //this.hostPrinter('bluetooth')
    //                 }
    //             });
    //         } else {
    //             Toast.makeText("Please select only checkedIn Passenger").show();
    //         }
    //     } else {
    //         Toast.makeText("Select Passenger").show();
    //     }
    // }
    // PrintBagTag() {
    //     let options = {
    //         title: "Printer",
    //         message: "Choose Printer Type",
    //         cancelButtonText: "Cancel",
    //         actions: ["Bluetooth Printer", "Host Printer"]
    //     };
    //     dialogs.action(options).then(result => {
    //         console.log(result);
    //         if (result == "Host Printer") {
    //             this.hostBagTagPrinter("hosted");
    //         }
    //         if (result == "Bluetooth Printer") {
    //             //this.Bluetoothprint();
    //             this.hostBagTagPrinter("bluetooth");
    //         }
    //     });
    // }
    // PrintBaordingPass() {
    //     let options = {
    //         title: "Printer",
    //         message: "Choose Printer Type",
    //         cancelButtonText: "Cancel",
    //         actions: ["Bluetooth Printer", "Host Printer"]
    //     };
    //     dialogs.action(options).then(result => {
    //         console.log(result);
    //         if (result == "Host Printer") {
    //             this.hostPrinter("hosted");
    //         } else if ((result = "Bluetooth Printer")) {
    //             //this.Bluetoothprint();
    //             this.hostPrinter("bluetooth");
    //         }
    //     });
    // }
    CheckInComponent.prototype.hostPrinter = function () {
        var _this = this;
        try {
            var hostedcheck = ApplicationSettings.getBoolean("isHostBoarding");
            var hosted;
            if (hostedcheck) {
                hosted = "hosted";
            }
            else {
                hosted = "bluetooth";
            }
            var sDate = new Date();
            this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
            if (this.SelectedPassengerList.length > 0) {
                // if (this.SelectedPassengerList.length == 1) {
                if (this.isCheckinPrint) {
                    this.loaderProgress.showLoader();
                    // this.SelectedPassengerList.forEach((selectedPax, index) => {
                    var request = index_4.Converters.ConvertToPrintBoardingPass(this.SelectedPassengerList, this.SegmentList, this.PassengerDetails, hosted, this.MultiSegmentPaxArray, this.currentPage);
                    if (request != null) {
                        try {
                            var sDate = new Date();
                            console.log("PrintBaordingPass Service --------------- Start Date Time : " +
                                sDate);
                            if (request != null) {
                                console.log(JSON.stringify(request));
                                this._printemail.PrintBoardingPass(request).subscribe(function (data) {
                                    console.dir(data);
                                    console.log(JSON.stringify(data));
                                    if (hosted === "bluetooth") {
                                        console.log("printing to bluetooth");
                                        if (data.BoardingPassOutput && data.BoardingPassOutput.length > 0 && data.BoardingPassOutput[0].Success) {
                                            var image = imageModule.fromBase64(data.BoardingPassOutput[0].PicRawData);
                                            var folder_2 = fs.knownFolders.documents();
                                            var filename_2 = moment(new Date()).format("hhmmss");
                                            var path = fs.path.join(folder_2.path, "tempBPImage" + filename_2 + ".jpg");
                                            try {
                                                image.saveToFile(path, "jpeg");
                                                var printerID = _this.getPrinter();
                                                if (printerID.trim() != "") {
                                                    //setting printer 
                                                    console.time("printboardinpass");
                                                    new zebra.Printer({ address: printerID, language: "CPCL", debugging: true }).then(function (curPrinter, result) {
                                                        //getting document to be printed
                                                        var document = curPrinter.createDocument();
                                                        document.image(fs.path.join(folder_2.path, "tempBPImage" + filename_2 + ".jpg"), 0);
                                                        //getting Status of the Printer
                                                        curPrinter.getStatus().then(function (result) {
                                                            console.log(result);
                                                            if (result.ready && !result.latchOpen && !result.lowBattery && !result.paperOut) {
                                                                //printing
                                                                curPrinter.print(document).then(function () {
                                                                    console.log("Printing Done");
                                                                    var file = folder_2.getFile("tempBPImage" + filename_2 + ".jpg");
                                                                    file.remove().then(function (res) {
                                                                        console.log("file removed");
                                                                    });
                                                                    Toast.makeText("BoardingPass printed sucessfully").show();
                                                                    curPrinter.close().then(function () {
                                                                        console.timeEnd("printboardinpass");
                                                                        Toast.makeText("Printer is ready to print").show();
                                                                    }).catch(function (err) {
                                                                        Toast.makeText("Error Occured while Printing:").show();
                                                                        console.log("Printing Error: ", err);
                                                                        curPrinter.close();
                                                                    });
                                                                }, function (err) {
                                                                    console.log(err);
                                                                }).catch(function (status) {
                                                                    console.log(status);
                                                                    Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                                                });
                                                            }
                                                            else {
                                                                if (result.latchOpen) {
                                                                    Toast.makeText("!!!!LatchOpen").show();
                                                                }
                                                                if (result.lowBattery) {
                                                                    Toast.makeText("!!!!LowBattery").show();
                                                                }
                                                                if (result.paperOut) {
                                                                    Toast.makeText("!!!!PaperOut").show();
                                                                }
                                                            }
                                                        }).catch(function (status) {
                                                            console.log(status);
                                                        });
                                                    }).catch(function (err) {
                                                        Toast.makeText(CheckInComponent_1.PRINTERSESSION).show();
                                                        console.log(err);
                                                    });
                                                }
                                                else {
                                                    Toast.makeText(CheckInComponent_1.NOBLUETOOTHDEVICE).show();
                                                }
                                            }
                                            catch (e) {
                                                console.log(e);
                                                Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                            }
                                        }
                                        else if (data.Errors && data.Errors.length > 0) {
                                            Toast.makeText(data.Errors[0].Message).show();
                                        }
                                        else {
                                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                        }
                                    }
                                    else {
                                        console.log("printing to host");
                                        if (data.BoardingPassOutput && data.BoardingPassOutput.length > 0) {
                                            if (data.BoardingPassOutput[0].Message != null) {
                                                Toast.makeText(data.BoardingPassOutput[0].Message).show();
                                                if (data.BoardingPassOutput[0].Message == "Sent for Print" || data.BoardingPassOutput[0].Message == "Delivered") {
                                                    Toast.makeText("Boarding Pass Printed Succesfully ").show();
                                                }
                                            }
                                            else {
                                                Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                            }
                                        }
                                        else if (data.Errors && data.Errors.length > 0) {
                                            Toast.makeText(data.Errors[0].Message).show();
                                        }
                                        else {
                                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                        }
                                    }
                                }, function (error) {
                                    console.log("Couldnt find information for this OrderID " + error);
                                    _this.handleServiceError(error);
                                    _this.loaderProgress.hideLoader();
                                }, function () {
                                    _this.loaderProgress.hideLoader();
                                });
                            }
                        }
                        catch (error) {
                            console.log(error.message);
                            this.loaderProgress.hideLoader();
                        }
                        finally {
                            var eDate = new Date();
                            console.log("SendBaordingPassEmail Service --------------- End Date Time : " +
                                eDate);
                            console.log("SendBaordingPassEmail Service Execution Time : " +
                                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
                        }
                        // }
                    }
                    else {
                        this.loaderProgress.hideLoader();
                    }
                }
                else {
                    this.loaderProgress.hideLoader();
                    Toast.makeText("APIS Data Required").show();
                }
                // } else {
                //     Toast.makeText("Kindly DeSelect passengers.BoardingPass Applicable only for single passenger").show();
                // }
            }
            else {
                Toast.makeText("Select Passenger").show();
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var eDate = new Date();
            //this.loaderProgress.hideLoader();
            console.log("SendBaordingPassEmail Service --------------- End Date Time : " + eDate);
            console.log("SendBaordingPassEmail Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
        }
    };
    CheckInComponent.prototype.hostBagTagPrinter = function (hosted) {
        var _this = this;
        try {
            var sDate = new Date();
            this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
            if (this.SelectedPassengerList.length > 0) {
                // if (this.SelectedPassengerList.length == 1) {
                this.loaderProgress.showLoader();
                var request_3 = index_4.Converters.ConvertToPrintBagTag(this.SelectedPassengerList, this.SegmentList, this.PassengerDetails, hosted, this._shared.GetPassenger().SegmentTravelerInfos);
                if (request_3 != null) {
                    try {
                        var sDate = new Date();
                        console.log("PrintBagTag Service --------------- Start Date Time : " + sDate);
                        if (request_3 != null) {
                            console.log(JSON.stringify(request_3));
                            console.time("boardinPassReq");
                            this._printemail.PrintBagTag(request_3).subscribe(function (data) {
                                console.timeEnd("boardinPassReq");
                                console.dir(data);
                                console.log(JSON.stringify(data));
                                if (hosted === "bluetooth") {
                                    console.log("printing to bluetooth");
                                    if (data.BagTagOutput &&
                                        data.BagTagOutput.length > 0 &&
                                        data.BagTagOutput[0].PicRawData) {
                                        var image = imageModule.fromBase64(data.BagTagOutput[0].PicRawData);
                                        var folder_3 = fs.knownFolders.ios.library();
                                        var filename_3 = moment(new Date()).format("hhmmss");
                                        var path = fs.path.join(folder_3.path, "tempBPImage" + filename_3 + ".jpg");
                                        try {
                                            image.saveToFile(path, "jpeg");
                                            var printerID = _this.getPrinter();
                                            if (printerID.trim() != "") {
                                                new zebra.Printer({
                                                    address: printerID,
                                                    language: "CPCL",
                                                    debugging: false
                                                }).then(function (curPrinter, result) {
                                                    var document = curPrinter.createDocument();
                                                    document.image(fs.path.join(folder_3.path, "tempBPImage" + filename_3 + ".jpg"), 0);
                                                    curPrinter
                                                        .print(document)
                                                        .then(function () {
                                                        console.log("Printing Done");
                                                        curPrinter
                                                            .close()
                                                            .then(function () {
                                                            Toast.makeText("BagTag Printed Succesfully ").show();
                                                        })
                                                            .catch(function (err) {
                                                            Toast.makeText("Error Occured while Printing:").show();
                                                            // console.log("Printing Error: ", err);
                                                            curPrinter.close();
                                                        });
                                                    })
                                                        .catch(function (status) {
                                                        Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                                    });
                                                });
                                            }
                                            else {
                                                Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                            }
                                        }
                                        catch (e) {
                                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                        }
                                    }
                                    else {
                                        Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                    }
                                }
                                else {
                                    console.log("printing to host");
                                    console.log(JSON.stringify(data));
                                    if (data && data.BagTagOutput[0].Status == "Success") {
                                        Toast.makeText("BagTag Printed Succesfully ").show();
                                    }
                                    else {
                                        var noBags_1 = false;
                                        request_3.Passengers.forEach(function (element, index) {
                                            if (element.CheckedBagCount == "0") {
                                                noBags_1 = true;
                                            }
                                        });
                                        if (noBags_1) {
                                            Toast.makeText("No Baggage Found").show();
                                            _this.loaderProgress.hideLoader();
                                        }
                                        else {
                                            Toast.makeText(CheckInComponent_1.UNABLETOPRINT).show();
                                        }
                                    }
                                }
                            }, function (error) {
                                console.log("Couldnt find information for this OrderID " + error);
                                _this.handleServiceError(error);
                                // var errorMessage = error.toString();
                                // if (errorMessage.indexOf("Unrecognized token '<'") != -1) {
                                //     var options = {
                                //         title: "Session Time Out",
                                //         message: "Your session has been time out",
                                //         okButtonText: "OK"
                                //     };
                                //     dialogs.alert(options).then(() => {
                                //         this.navigateToLogin();
                                //     });
                                // }
                                // Toast.makeText("Unable to Print").show();
                                _this.loaderProgress.hideLoader();
                            }, function () {
                                _this.loaderProgress.hideLoader();
                            });
                        }
                        else {
                            Toast.makeText("No Baggage Found").show();
                            this.loaderProgress.hideLoader();
                        }
                    }
                    catch (error) {
                        console.log(error.message);
                        this.loaderProgress.hideLoader();
                    }
                    finally {
                        var eDate = new Date();
                        console.log("PrintBagTag Service --------------- End Date Time : " + eDate);
                        console.log("PrintBagTag Service Execution Time : " +
                            app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
                    }
                    // }
                }
                else {
                    Toast.makeText("check in is not completed").show();
                    this.loaderProgress.hideLoader();
                }
                // } else {
                //     Toast.makeText("Kindly DeSelect passengers.BoardingPass Applicable only for single passenger").show();
                // }
            }
            else {
                Toast.makeText("Select Passenger").show();
                this.loaderProgress.hideLoader();
            }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            var eDate = new Date();
            //this.loaderProgress.hideLoader();
            console.log("PrintBagTag Service --------------- End Date Time : " + eDate);
            console.log("PrintBagTag Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(sDate), new Date(eDate)));
        }
    };
    CheckInComponent.prototype.Bluetoothprint = function () {
        var _this = this;
        console.log("here");
        this.SegmentList = this.MultiSegmentPaxArray.Segment[this.currentPage];
        var printer = this._shared.GetDevicePrinterDeatils();
        var SecurityDetail = this._shared.GetPassenger();
        if (this.SelectedPassengerList.length > 0) {
            if (this.SelectedPassengerList.length == 1) {
                this.SelectedPassengerList.forEach(function (elements, index) {
                    _this.selectedPassenger = _this.SegmentList.Passenger.filter(function (m) {
                        return m.FirstName == elements.FirstName &&
                            m.LastName == elements.LastName;
                    })[0];
                    if (_this.selectedPassenger != null) {
                        if (_this.selectedPassenger.CheckinStatus == true) {
                            _this.loaderProgress.showLoader();
                            // let request: any = Converters.ConverToBluetoothPrinter(printer, this.selectedPassenger, SecurityDetail,this.SegmentList);
                        }
                    }
                });
            }
        }
    };
    CheckInComponent.prototype.getBaggage = function (item) {
        try {
            var startDate = new Date();
            console.log("GetBaggage Service --------------- Start Date Time : " + startDate);
            this.loaderProgress.showLoader();
            var baggagecatalog = this._shared.GetBaggagecatalog();
            console.dir(baggagecatalog);
            console.log("bag Warning");
            // console.dir(baggagecatalog.Warnings);
            // if(baggagecatalog.Success!=){
            if (baggagecatalog.Success != false) {
                if (baggagecatalog.Warnings == null) {
                    this.navigateToBaggage(JSON.stringify(item), JSON.stringify(baggagecatalog), JSON.stringify(this.MultiSegmentPaxArray), JSON.stringify(this.currentPage), JSON.stringify(this.ticketNumbers), JSON.stringify(item.ShortCheckAirportCode), this.isShortCheck);
                }
                else if (baggagecatalog.Warnings != null && baggagecatalog.Warnings.filter(function (m) { return m.Message.indexOf("The supplied itinerary is not valid for the pricing operation") != -1; }).length > 0) {
                    Toast.makeText(baggagecatalog.Warnings[0].Message).show();
                }
                else if (baggagecatalog.Warnings != null) {
                    this.navigateToBaggage(JSON.stringify(item), JSON.stringify(baggagecatalog), JSON.stringify(this.MultiSegmentPaxArray), JSON.stringify(this.currentPage), JSON.stringify(this.ticketNumbers), JSON.stringify(this.ShortCheckAirportCode), this.isShortCheck);
                    Toast.makeText(baggagecatalog.Warnings[0].Message).show();
                }
            }
            else {
                Toast.makeText(baggagecatalog.Errors[0].Message).show();
            }
            // }
        }
        catch (error) {
            console.log(error.message);
            this.loaderProgress.hideLoader();
        }
        finally {
            this.loaderProgress.hideLoader();
            var endDate = new Date();
            console.log("GetBaggage Service --------------- End Date Time : " + endDate);
            console.log("GetBaggage Service Execution Time : " +
                app_executiontime_1.AppExecutiontime.ExecutionTime(new Date(startDate), new Date(endDate)));
        }
    };
    CheckInComponent.prototype.gotoApis = function (item, indexOfPassener) {
        var _this = this;
        var param = JSON.stringify(item);
        this.MultiSegmentPaxArray.Segment.forEach(function (seg, index) {
            if (seg.IsInternational) {
                _this.isInternational = true;
            }
        });
        if (!this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !this.MultiSegmentPaxArray.Segment[this.currentPage].ETKTStatusNOTOK) {
            if (!this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled) {
                if (this.isInternational) {
                    this.getSecurityDoc(item.OrderID, item, indexOfPassener);
                }
                else {
                    Toast.makeText("API data is not available for the Passenger").show();
                }
            }
        }
        else {
            Toast.makeText("Cannot Process Interline flight").show();
        }
    };
    CheckInComponent.prototype.navigateToApis = function (isINHIBIT, PassengerIndex, indexOfPassener, PassengerINFIndex) {
        var profile = this.Profile;
        this.routerExtensions.navigate(["apis"], {
            animated: false,
            transition: {
                name: "fade",
                duration: 10,
                curve: "linear"
            },
            queryParams: {
                index: JSON.stringify(this.currentPage),
                isInhibit: isINHIBIT,
                ApisIndex: indexOfPassener,
                PassengerIndex: PassengerIndex,
                PassengerINFIndex: PassengerINFIndex
            }
        });
    };
    CheckInComponent.prototype.onMultipleSelector = function (args, index) {
        var _this = this;
        console.log("inside select");
        this.syncTicket = false;
        var obj = new index_3.PassengerCheckin.SelectedPassenger();
        var selectedNames = [];
        selectedNames.length = 0;
        var AssociatedInfantRPH = null;
        var associatedAdultRPH = null;
        var associatedAdultINFRPH = null;
        if (args.AssociatedInfantRPH != "" && args.AssociatedInfantRPH != null) {
            associatedAdultRPH = this._shared.GetPassenger().Passengers.filter(function (m) { return m.Firstname == args.FirstName && m.Lastname == args.LastName; })[0].RPH;
            associatedAdultINFRPH = this._shared.GetPassenger().Passengers.filter(function (m) { return m.Firstname == args.FirstName && m.Lastname == args.LastName; })[0].AssociatedInfantRPH;
        }
        if (args.AssociatedAdultRPH != "" && args.AssociatedAdultRPH != null) {
            associatedAdultINFRPH = this._shared.GetPassenger().Passengers.filter(function (m) { return m.Firstname == args.FirstName && m.Lastname == args.LastName; })[0].RPH;
            associatedAdultRPH = this._shared.GetPassenger().Passengers.filter(function (m) { return m.Firstname == args.FirstName && m.Lastname == args.LastName; })[0].AssociatedAdultRPH;
        }
        this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach(function (arrayElements, arrIndex) {
            if (arrayElements.AssociatedInfantRPH != "" && arrayElements.AssociatedInfantRPH != null) {
                if (associatedAdultINFRPH == arrayElements.AssociatedInfantRPH) {
                    console.log(arrayElements.serviceText);
                    var AdultName = arrayElements.AssociatedInfantRPH; //.split('/')[1];
                    var INFName = arrayElements.FirstName; //.split('/').length == 2 ? SecondSelectdText.split('/')[1] : "";
                    if (AdultName != "") {
                        console.log("adultNsme" + AdultName);
                        selectedNames.push(AdultName);
                    }
                }
            }
            else if (arrayElements.AssociatedAdultRPH != "" && arrayElements.AssociatedAdultRPH != null) {
                if (associatedAdultRPH == arrayElements.AssociatedAdultRPH) {
                    console.log(arrayElements.serviceText);
                    var INFName = arrayElements.AssociatedAdultRPH; //.split('/').length == 2 ? SecondSelectdText.split('/')[1] : "";
                    if (INFName != "") {
                        console.log("infanttNsme" + INFName);
                        selectedNames.push(INFName);
                    }
                }
            }
            if (arrayElements.CheckinStatus && arrayElements.AssociatedInfantRPH == associatedAdultINFRPH) {
                AssociatedInfantRPH = associatedAdultINFRPH;
                console.log("AssociateInfant" + AssociatedInfantRPH);
            }
            if (AssociatedInfantRPH != null) {
                if (AssociatedInfantRPH == arrayElements.RPH) {
                    // arrayElements.CheckinStatus = true;
                    AssociatedInfantRPH = null;
                }
            }
        });
        if (selectedNames.filter(function (m) { return m.toString() == args.RPH; })[0] == null) {
            selectedNames.length = 0;
        }
        obj.FirstName = args.FirstName;
        obj.LastName = args.LastName;
        if (selectedNames.length == 0) {
            if (this.SelectedPassengerList.filter(function (m) { return m.FirstName == args.FirstName && m.LastName == args.LastName; })[0] == null) {
                this.SelectedPassengerList.push(obj);
                console.dir(this.SelectedPassengerList);
            }
        }
        else if (selectedNames.length > 0) {
            selectedNames.forEach(function (element, index) {
                if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element; })[0] != null) {
                    var objSelected_1 = new index_3.PassengerCheckin.SelectedPassenger();
                    objSelected_1.FirstName = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element.trim(); })[0].FirstName;
                    objSelected_1.LastName = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element.trim(); })[0].LastName;
                    if (_this.SelectedPassengerList.filter(function (m) { return m.FirstName == objSelected_1.FirstName && m.LastName == objSelected_1.LastName; })[0] ==
                        null) {
                        _this.SelectedPassengerList.push(objSelected_1);
                        console.dir(_this.SelectedPassengerList);
                    }
                }
            });
        }
        if (args.IsChecked != false) {
            if (this.SelectedPassengerList.filter(function (m) { return m.FirstName == args.FirstName && m.LastName == args.LastName; })[0] != null) {
                if (selectedNames.length == 0) {
                    this.SelectedPassengerList.forEach(function (elements, index) {
                        if (elements.FirstName == args.FirstName &&
                            elements.LastName == args.LastName) {
                            _this.SelectedPassengerList.splice(index, 1);
                        }
                    });
                }
                else if (selectedNames.length > 0) {
                    selectedNames.forEach(function (element, index) {
                        var Firstname = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element; })[0].FirstName;
                        var Lastname = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == element; })[0].LastName;
                        _this.SelectedPassengerList.forEach(function (elements, index) {
                            if (elements.FirstName == Firstname.trim() && elements.LastName == Lastname.trim()) {
                                _this.SelectedPassengerList.splice(index, 1);
                            }
                        });
                    });
                }
            }
        }
        console.log(args.IsChecked);
        this.isContinueButtonEnabled = false;
        this.isOffloadButtonEnabled = false;
        var checkedInStatus = false;
        var isCheckedApisStatus = true;
        var nonCheckedInStatus = false;
        if (this.SelectedPassengerList.length > 0) {
            this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach(function (pass, index) {
                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName && m.LastName == pass.LastName; })[0].IsChecked = false;
            });
            this.SelectedPassengerList.forEach(function (Selectedpass, index) {
                // this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach((pass, index) => {
                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == Selectedpass.FirstName && m.LastName == Selectedpass.LastName; })[0].IsChecked = true;
                if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == Selectedpass.FirstName && m.LastName == Selectedpass.LastName; })[0].CheckinStatus) {
                    checkedInStatus = true;
                    _this.isContinueButtonEnabled = false;
                }
                else if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == Selectedpass.FirstName && m.LastName == Selectedpass.LastName; })[0].CheckinStatus) {
                    if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInternational && _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == Selectedpass.FirstName && m.LastName == Selectedpass.LastName; })[0].ApisDocoStatus != "NotComplete") {
                        nonCheckedInStatus = true;
                        _this.isContinueButtonEnabled = true;
                    }
                    else if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInternational) {
                        nonCheckedInStatus = true;
                        _this.isContinueButtonEnabled = true;
                    }
                }
                if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == Selectedpass.FirstName && m.LastName == Selectedpass.LastName; })[0]
                    .CheckinStatus) {
                    nonCheckedInStatus = true;
                    _this.isOffloadButtonEnabled = false;
                }
                // });
                // this.isContinueButtonEnabled = true;
            });
        }
        else {
            this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach(function (pass, index) {
                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName && m.LastName == pass.LastName; })[0].IsChecked = false;
            });
        }
        if (checkedInStatus && nonCheckedInStatus) {
            this.isContinueButtonEnabled = false;
            this.isOffloadButtonEnabled = false;
        }
        else if (checkedInStatus) {
            this.isContinueButtonEnabled = false;
            this.isOffloadButtonEnabled = true;
        }
        var passenger = this._shared.GetPassenger();
        this.SelectedPassengerList.forEach(function (name, index) {
            if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SyncTicket == true) {
                _this.syncTicket = true;
            }
            if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInternational) {
                if (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].ApisDocoStatus != "Complete") {
                    isCheckedApisStatus = false;
                }
                if ((_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].ApisDocoStatus == "Complete" &&
                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].AdcDecisionStatus != "OK" &&
                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].AdcDecisionStatus != "BYPASSED" &&
                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].AdcDecisionStatus != "AUTOBYPASSED" &&
                    _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].AdcDecisionStatus != "COK") ||
                    (_this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SecurityCode == 'NB' ||
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SecurityCode == 'NM' ||
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SecurityCode == 'VU' ||
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SecurityCode == 'NE' ||
                        _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == name.FirstName && m.LastName == name.LastName; })[0].SecurityCode == 'ED')) {
                    isCheckedApisStatus = false;
                }
            }
            else {
                isCheckedApisStatus = true;
            }
        });
        if (!isCheckedApisStatus) {
            this.isContinueButtonEnabled = false;
            this.isCheckinPrint = false;
        }
        else {
            this.isCheckinPrint = true;
        }
        if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline || this.MultiSegmentPaxArray.Segment[this.currentPage].ETKTStatusNOTOK) {
            this.isContinueButtonEnabled = false;
            this.isOffloadButtonEnabled = false;
        }
        // this.SelectedPassengerList.forEach((name,index)=>{
        //     if(this.MultiSegmentPaxArray.Segment[
        //         this.currentPage
        //     ].Passenger.filter(m=>m.FirstName==name.FirstName&&m.LastName==name.LastName)[0].SecurityCode=="NB"||this.MultiSegmentPaxArray.Segment[
        //         this.currentPage
        //     ].Passenger.filter(m=>m.FirstName==name.FirstName&&m.LastName==name.LastName)[0].SecurityCode=="NM"||this.MultiSegmentPaxArray.Segment[
        //         this.currentPage
        //     ].Passenger.filter(m=>m.FirstName==name.FirstName&&m.LastName==name.LastName)[0].SecurityCode=="VU" || this.MultiSegmentPaxArray.Segment[
        //         this.currentPage
        //     ].Passenger.filter(m=>m.FirstName==name.FirstName&&m.LastName==name.LastName)[0].SecurityCode=="NE" || this.MultiSegmentPaxArray.Segment[
        //         this.currentPage
        //     ].Passenger.filter(m=>m.FirstName==name.FirstName&&m.LastName==name.LastName)[0].SecurityCode=="ED" ){
        //         this.isContinueButtonEnabled = false
        //     }
        // })
        if (this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled || this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
            this.isContinueButtonEnabled = false;
            this.isOffloadButtonEnabled = false;
        }
    };
    CheckInComponent.prototype.gotoBaggage = function (item, btn) {
        var _this = this;
        if (item.INFwithoutSeat != true) {
            this.loaderProgress.showLoader();
            var previousSeg = this.currentPage - 1;
            if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInternational) {
                if ((!this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted && (this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING)) && (item.SecurityCode != "NB" && item.SecurityCode != "NM" && item.SecurityCode != "VU" && item.SecurityCode != 'NE' && item.SecurityCode != 'ED') && (item.AdcDecisionStatus == "OK" || item.AdcDecisionStatus == "COK" || item.AdcDecisionStatus == "BYPASSED" || item.AdcDecisionStatus == "AUTOBYPASSED") && item.ApisDocoStatus == "Complete") {
                    if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                        Toast.makeText("Cannot Process Interline flight").show();
                        this.loaderProgress.hideLoader();
                    }
                    else {
                        var catalogReq = index_4.Converters.GetBagCatalog(this._shared.GetPassenger());
                        this._dataService.GetBaggage(catalogReq, this.OrderID).subscribe(function (data) {
                            _this.loaderProgress.hideLoader();
                            _this._shared.SetBaggagecatalog(data);
                            console.log("err");
                            if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInterline && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].ETKTStatusNOTOK && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsFlightRestricted) {
                                if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].isAPISSeatBagDisabled) {
                                    _this.GetOrderService(_this.OrderID, item, _this.MultiSegmentPaxArray, btn);
                                }
                            }
                        }, function (err) {
                            console.log(err);
                            var error = { "Errors": [{ "Message": err }], "Success": false };
                            _this._shared.SetBaggagecatalog(error);
                            _this.loaderProgress.hideLoader();
                        });
                    }
                }
                else if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    Toast.makeText("Flight is Restricted for this agent").show();
                    this.loaderProgress.hideLoader();
                }
                else if (!this._shared.GetIsWaitlisted() && !this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    Toast.makeText("APIS Data Required").show();
                    this.loaderProgress.hideLoader();
                }
            }
            else {
                if ((!this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted && (this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING))) {
                    if (!this.isInternational) {
                        if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                            Toast.makeText("Cannot Process Interline flight").show();
                            this.loaderProgress.hideLoader();
                        }
                        else {
                            var catalogReq = index_4.Converters.GetBagCatalog(this._shared.GetPassenger());
                            this._dataService.GetBaggage(catalogReq, this.OrderID).subscribe(function (data) {
                                _this.loaderProgress.hideLoader();
                                _this._shared.SetBaggagecatalog(data);
                                console.log("err");
                                if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInterline && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].ETKTStatusNOTOK && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsFlightRestricted) {
                                    if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].isAPISSeatBagDisabled) {
                                        _this.GetOrderService(_this.OrderID, item, _this.MultiSegmentPaxArray, btn);
                                    }
                                }
                            }, function (err) {
                                console.log(err);
                                var error = { "Errors": [{ "Message": err }], "Success": false };
                                _this._shared.SetBaggagecatalog(error);
                                _this.loaderProgress.hideLoader();
                            });
                        }
                    }
                    else {
                        if ((item.AdcDecisionStatus == "OK" || item.AdcDecisionStatus == "COK" || item.AdcDecisionStatus == "BYPASSED" || item.AdcDecisionStatus == "AUTOBYPASSED") && item.ApisDocoStatus == "Complete") {
                            var catalogReq = index_4.Converters.GetBagCatalog(this._shared.GetPassenger());
                            this._dataService.GetBaggage(catalogReq, this.OrderID).subscribe(function (data) {
                                _this.loaderProgress.hideLoader();
                                _this._shared.SetBaggagecatalog(data);
                                console.log("err");
                                if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsInterline && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].ETKTStatusNOTOK && !_this.MultiSegmentPaxArray.Segment[_this.currentPage].IsFlightRestricted) {
                                    if (!_this.MultiSegmentPaxArray.Segment[_this.currentPage].isAPISSeatBagDisabled) {
                                        _this.GetOrderService(_this.OrderID, item, _this.MultiSegmentPaxArray, btn);
                                    }
                                }
                            }, function (err) {
                                console.log(err);
                                var error = { "Errors": [{ "Message": err }], "Success": false };
                                _this._shared.SetBaggagecatalog(error);
                                _this.loaderProgress.hideLoader();
                            });
                        }
                        else {
                            console.log(":1");
                            Toast.makeText("API Data Required").show();
                            this.loaderProgress.hideLoader();
                        }
                        // console.log(":2");
                        // Toast.makeText("API Data Required").show();
                        // this.loaderProgress.hideLoader();
                    }
                }
                else if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    Toast.makeText("Flight is Restricted for this agent").show();
                    this.loaderProgress.hideLoader();
                }
            }
        }
        else {
            Toast.makeText('Baggage is not allowed for this passenger type').show();
        }
    };
    CheckInComponent.prototype.TicketBag = function (passengerDtl, multiSegment) {
        try {
            // let ticket: any = this._shared.GetTier();
            // console.dir(ticket);
            // if (ticket.Success != false) {
            //     ticket.PassengerList.forEach((Paxdata, index) => {
            //         if (passengerDtl.OrderID == Paxdata.OrderId) {
            //             Paxdata.PassengerCharacteristics.forEach((tierData, tierIndex) => {
            //                 console.log(JSON.stringify(tierData));
            //                 if (tierData == "TicketOutOfSync") {
            //                     passengerDtl.SyncTicket = true;
            //                 }
            //             });
            //         }
            //     });
            // }
            this.MultiSegmentPaxArray = multiSegment;
            if (!passengerDtl.INFwithoutSeat) {
                this.SecurityDetails = this._shared.GetPassenger();
                this.securityDatas.ApisUpdateRequests[0].Documents.length = 0;
                var grpName = this.SecurityDetails.Passengers.filter(function (m) { return m.Firstname == passengerDtl.FirstName && m.Lastname == passengerDtl.LastName; })[0].GroupedGivenName.split('/');
                if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInternational) {
                    console.log(grpName);
                    if (((this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING)) && grpName.length <= 1 && (passengerDtl.SecurityCode != "NB" && passengerDtl.SecurityCode != "NM" && passengerDtl.SecurityCode != "VU" && passengerDtl.SecurityCode != 'NE' && passengerDtl.SecurityCode != 'ED') && (passengerDtl.AdcDecisionStatus == "OK" || passengerDtl.AdcDecisionStatus == "COK" || passengerDtl.AdcDecisionStatus == "BYPASSED" || passengerDtl.AdcDecisionStatus == "AUTOBYPASSED") && passengerDtl.ApisDocoStatus == "Complete" && (this.SecurityDetails.Passengers[0].Documents.length == 0 || passengerDtl.IsSecurityDocsComplete)) {
                        this.getBaggage(passengerDtl);
                    }
                    else if (grpName.length > 2) {
                        alert("Multi-initial surname passenger. Please divide names before adding bags");
                        this.loaderProgress.hideLoader();
                    }
                    else if (grpName.length == 2) {
                        if (passengerDtl.AssociatedInfantRPH != null || passengerDtl.AssociatedAdultRPH != null) {
                            this.getBaggage(passengerDtl);
                        }
                        else {
                            alert("Multi-initial surname passenger. Please divide names before adding bags");
                            this.loaderProgress.hideLoader();
                        }
                    }
                    else if ((this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == CheckInComponent_1.WARNING)) {
                        Toast.makeText("Ticket is out of SYNC").show();
                        this.loaderProgress.hideLoader();
                    }
                    else {
                        Toast.makeText(this._configuration.ApisDataRequired).show();
                        this.loaderProgress.hideLoader();
                    }
                }
                else {
                    if (((this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING)) && grpName.length <= 1) {
                        this.getBaggage(passengerDtl);
                    }
                    else if (grpName.length > 2) {
                        alert("Multi-initial surname passenger. Please divide names before adding bags");
                        this.loaderProgress.hideLoader();
                    }
                    else if (grpName.length == 2) {
                        if (passengerDtl.AssociatedInfantRPH != null || passengerDtl.AssociatedAdultRPH != null) {
                            this.getBaggage(passengerDtl);
                        }
                        else {
                            alert("Multi-initial surname passenger. Please divide names before adding bags");
                            this.loaderProgress.hideLoader();
                        }
                    }
                    else if ((this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == CheckInComponent_1.WARNING)) {
                        Toast.makeText("Ticket is out of SYNC").show();
                        this.loaderProgress.hideLoader();
                    }
                }
            }
            //     if (passengerDtl.IsSecurityDocsComplete) {
            //         this.getBaggage(passengerDtl);
            //     }
            //     else {
            //         Toast.makeText(this._configuration.ApisDataRequired).show();
            //     }
        }
        catch (error) {
            Toast.makeText(error).show();
            this.loaderProgress.hideLoader();
        }
    };
    CheckInComponent.prototype.refreshFlifo = function () {
        var _this = this;
        this.loaderProgress.showLoader();
        this.MultiSegmentPaxArray.Segment.forEach(function (SegEle, SegInndex) {
            var departureDate = moment(SegEle.DepartureDateTime.toString()).format("YYYY-MM-DD");
            var flightnumber;
            if (SegEle.MarketingFlight.substr(0, 2) == "CM") {
                flightnumber = SegEle.MarketingFlight;
            }
            else if (SegEle.OperatingFlight != null && SegEle.OperatingFlight.substr(0, 2) == "CM") {
                flightnumber = SegEle.OperatingFlight;
            }
            else {
                flightnumber = SegEle.MarketingFlight;
            }
            var city = SegEle.DepartureCity;
            SegEle.date = moment(SegEle.DepartureDateTime.toString()).format("DD-MMM-YYYY");
            var destination = SegEle.Destination;
            // //Inventory
            _this._checkin.BookingCountDisplay(departureDate, flightnumber, city)
                .subscribe(function (data) {
                var inventory = data;
                SegEle.inven = index_4.Converters.ConvertToInventory(inventory);
            }, function (error) {
                _this.handleServiceError(error);
                console.log(error);
                _this.loaderProgress.hideLoader();
            });
            //Inbound
            _this._checkin.InBound(departureDate, flightnumber, city)
                .subscribe(function (data) {
                var inBound = data;
                SegEle.inbound = index_4.Converters.ConvertToInBound(inBound);
            }, function (error) {
                _this.handleServiceError(error);
                console.log(error);
                _this.loaderProgress.hideLoader();
            });
            //Outbound
            _this._checkin.OutBound(departureDate, flightnumber, destination)
                .subscribe(function (data) {
                var OutBound = data;
                SegEle.outbound = index_4.Converters.ConvertToOutBound(OutBound);
            }, function (error) {
                _this.handleServiceError(error);
                console.log(error);
                _this.loaderProgress.hideLoader();
            });
            //status
            _this._dataService.Status(departureDate, flightnumber, city)
                .subscribe(function (data) {
                var status = data;
                SegEle.status = status.Flights[0].Legs[0].Status;
                SegEle.Legs = status.Flights[0].Legs;
                SegEle.ETD = status.Flights[0].Legs[0].DepartureDateTime.Estimated.toString().substr(11, 5);
                SegEle.STD = status.Flights[0].Legs[0].DepartureDateTime.Scheduled.toString().substr(11, 5);
                SegEle.ETA = status.Flights[0].Legs[0].ArrivalDateTime.Scheduled.toString().substr(11, 5);
                console.log(status.Flights[0].Legs[0].DepartureDateTime.Estimated.toString().substr(11, 5) + "llll");
                var passengerLength = _this.MultiSegmentPaxArray.Segment.length - 1;
                if (passengerLength == SegInndex) {
                    _this._shared.SetBagTag(null);
                    _this._shared.SetSegmentDetail(_this.MultiSegmentPaxArray);
                    _this.loaderProgress.hideLoader();
                }
            }, function (error) {
                _this.handleServiceError(error);
                console.log(error);
                _this.loaderProgress.hideLoader();
            });
        });
    };
    CheckInComponent.prototype.navigateToBaggage = function (item, baggagecatalog, multiSegmentPaxArray, currentPage, ticketNumber, shortcheckin, isShortCheck) {
        this.routerExtensions.navigate(["/baggageinfo"], {
            animated: true,
            transition: {
                name: "slide",
                duration: 600,
                curve: "linear"
            },
            queryParams: {
                data: item,
                baggagecatalog: baggagecatalog,
                multiSegmentPaxArray: multiSegmentPaxArray,
                currentPage: currentPage,
                ticketNumber: ticketNumber,
                shortcheckin: shortcheckin,
                isShortCheck: isShortCheck
            }
        });
    };
    CheckInComponent.prototype.gotofqtv = function (item, btn) {
        if (item.INFwithoutSeat != true) {
            console.dir(this.MultiSegmentPaxArray.Segment);
            console.log("R1:" + JSON.stringify(this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled));
            if ((!this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted && !this.MultiSegmentPaxArray.Segment[this.currentPage].ETKTStatusNOTOK)) {
                if (!this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled) {
                    this.GetOrderService(this.OrderID, item, this.MultiSegmentPaxArray, btn);
                }
            }
            else {
                if (!this._shared.GetIsWaitlisted()) {
                    Toast.makeText("Cannot Process Interline flight").show();
                }
            }
        }
        else {
            Toast.makeText('Cannot add Fqtv number for this passenger type').show();
        }
    };
    CheckInComponent.prototype.Ticket = function (passengerDtl, multiSegment) {
        var param = JSON.stringify(passengerDtl.RPH);
        this.MultiSegmentPaxArray = multiSegment;
        var profile = this.Profile;
        this.loaderProgress.hideLoader();
        if (!passengerDtl.INFwithoutSeat) {
            if ((this.MultiSegmentPaxArray.Segment[this.currentPage].IsInternational && passengerDtl.ApisDocoStatus == "Complete" && (passengerDtl.AdcDecisionStatus == "OK" || passengerDtl.AdcDecisionStatus == "COK" || passengerDtl.AdcDecisionStatus == "BYPASSED" || passengerDtl.AdcDecisionStatus == "AUTOBYPASSED")) || !this.MultiSegmentPaxArray.Segment[this.currentPage].IsInternational) {
                this.routerExtensions.navigate(["fqtv"], {
                    animated: true,
                    transition: {
                        name: "slide",
                        duration: 600,
                        curve: "linear"
                    },
                    queryParams: {
                        RPHValue: param,
                        index: JSON.stringify(this.currentPage)
                    }
                });
            }
            else {
                Toast.makeText(CheckInComponent_1.APISDATAREQUIRED).show();
                this.loaderProgress.hideLoader();
            }
        }
    };
    CheckInComponent.prototype.verifyIDCheck = function (args) {
        if (args.SecurityValue != null && args.SecurityValue.Help != null) {
            if (args.Documents.length > 0 && args.Documents[0].IsVerifiedData == true) {
                return true;
            }
            else {
                return false;
            }
        }
        else {
            return true;
        }
    };
    CheckInComponent.prototype.GetOrderService = function (orderID, item, legList, btn) {
        var _this = this;
        var board = this.MultiSegmentPaxArray.Segment[this.currentPage].Origin;
        this.loaderProgress.showLoader();
        if ((this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) == "CM" && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight == null) || (this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight != null && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight.substr(0, 2) == "CM")) {
            var board = this.MultiSegmentPaxArray.Segment[this.currentPage].Origin;
            console.log("inside new conditon 1:" + board);
        }
        else {
            var previousIndex = this.currentPage - 1;
            board = this.MultiSegmentPaxArray.Segment[previousIndex].Origin;
            console.log("inside new conditon 1:" + board);
        }
        console.log("inside new conditon" + board);
        this._service.GetPassenger(orderID, board).subscribe(function (data) {
            _this._shared.SetPassenger(data);
            var scTable = _this._shared.GetStartupTable().Tables.SecurityCodeTable;
            var PassengerArray = index_4.Converters.ConvertToFlightWithPaxTemplate(_this._shared.GetPassenger(), null, scTable, "");
            var multiSegment = PassengerArray;
            multiSegment.Segment.forEach(function (seg, index) {
                seg.Legs = legList.Segment[index].Legs;
                seg.inbound = legList.Segment[index].inbound;
                seg.outbound = legList.Segment[index].outbound;
                seg.inven = legList.Segment[index].inven;
                seg.status = legList.Segment[index].status;
                seg.FlightDate = legList.Segment[index].FlightDate;
                // let OriginlocDetails = status.Flights[0].Legs.filter(m => m.DepartureAirport.LocationCode == SegEle.Origin)[0];
                // SegEle.Legs = status.Flights[0].Legs;
                seg.ETD = legList.Segment[index].ETD;
                seg.STD = legList.Segment[index].STD;
                seg.ETA = legList.Segment[index].ETA;
            });
            item = multiSegment.Segment[_this.currentPage].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0];
            if (btn == 'Seat') {
                _this._shared.SetSegmentDetail(multiSegment);
                _this.getSeatmap(true, item, multiSegment);
            }
            else if (btn == 'Bag') {
                _this._shared.SetSegmentDetail(multiSegment);
                _this.TicketBag(item, multiSegment);
            }
            else if (btn == 'FQTV') {
                _this._shared.SetSegmentDetail(multiSegment);
                _this.Ticket(item, multiSegment);
                _this.loaderProgress.hideLoader();
            }
        }, function (err) {
            console.log(err);
            _this.handleServiceError(err);
            _this.loaderProgress.hideLoader();
        });
    };
    CheckInComponent.prototype.gotoSeat = function (item, btn) {
        if (item.INFwithoutSeat != true) {
            // let ticket: any = this._shared.GetTier();
            // console.dir(ticket);
            // if (ticket.Success != false) {
            //     ticket.PassengerList.forEach((Paxdata, index) => {
            //         if (item.OrderID == Paxdata.OrderId) {
            //             Paxdata.PassengerCharacteristics.forEach((tierData, tierIndex) => {
            //                 console.log(JSON.stringify(tierData));
            //                 if (tierData == "TicketOutOfSync") {
            //                     item.SyncTicket = true;
            //                 }
            //             });
            //         }
            //     });
            // }
            var previousSeg = this.currentPage - 1;
            if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInternational) {
                if ((!this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted && (this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING)) && (item.SecurityCode != "NB" && item.SecurityCode != "NM" && item.SecurityCode != "VU" && item.SecurityCode != 'NE' && item.SecurityCode != 'ED') && (item.AdcDecisionStatus == "OK" || item.AdcDecisionStatus == "COK" || item.AdcDecisionStatus == "BYPASSED" || item.AdcDecisionStatus == "AUTOBYPASSED") && item.ApisDocoStatus == "Complete") {
                    if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                        //do not allow seatMap
                        this.loaderProgress.hideLoader();
                    }
                    else {
                        this.GetOrderService(this.OrderID, item, this.MultiSegmentPaxArray, btn);
                        // this.TicketSeat(item);
                    }
                }
                else if ((this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == CheckInComponent_1.WARNING)) {
                    Toast.makeText("Ticket is out of SYNC").show();
                    this.loaderProgress.hideLoader();
                }
                else if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    Toast.makeText("Flight is Restricted for this agent").show();
                    this.loaderProgress.hideLoader();
                }
                else if (!this._shared.GetIsWaitlisted() && !this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    Toast.makeText("APIS Data Required").show();
                    this.loaderProgress.hideLoader();
                }
            }
            else if ((this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight != null && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight.substr(0, 2) != 'CM') || (this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight == null && this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight != null && this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight.substr(0, 2) != 'CM')) {
                if ((this.MultiSegmentPaxArray.Warning == null || this.MultiSegmentPaxArray.Warning[0].Message != CheckInComponent_1.WARNING) && (item.SecurityCode != "NB" && item.SecurityCode != "NM" && item.SecurityCode != "VU" && item.SecurityCode != 'NE' && item.SecurityCode != 'ED') && (item.AdcDecisionStatus == "OK" || item.AdcDecisionStatus == "COK" || item.AdcDecisionStatus == "BYPASSED" || item.AdcDecisionStatus == "AUTOBYPASSED") && item.ApisDocoStatus == "Complete") {
                    if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                        //do not allow seatMap
                        this.loaderProgress.hideLoader();
                    }
                    else {
                        this.GetOrderService(this.OrderID, item, this.MultiSegmentPaxArray, btn);
                        // this.TicketSeat(item);
                    }
                }
            }
            else {
                if ((this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == CheckInComponent_1.WARNING) || this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                    if ((this.MultiSegmentPaxArray.Warning != null && this.MultiSegmentPaxArray.Warning[0].Message == CheckInComponent_1.WARNING)) {
                        Toast.makeText("Ticket is out of SYNC").show();
                        this.loaderProgress.hideLoader();
                    }
                    if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsFlightRestricted) {
                        Toast.makeText("Flight is Restricted for this agent").show();
                        this.loaderProgress.hideLoader();
                    }
                }
                else if (this.MultiSegmentPaxArray.Segment[this.currentPage].IsInterline && !item.CheckinStatus && (previousSeg >= 0 && this.MultiSegmentPaxArray.Segment[previousSeg].Passenger.filter(function (m) { return m.RPH == item.RPH; })[0].CheckinStatus)) {
                    //do not allow seatMap
                    this.loaderProgress.hideLoader();
                }
                else {
                    if (!this.isInternational) {
                        this.GetOrderService(this.OrderID, item, this.MultiSegmentPaxArray, btn);
                    }
                    else {
                        if ((item.AdcDecisionStatus == "OK" || item.AdcDecisionStatus == "COK" || item.AdcDecisionStatus == "BYPASSED" || item.AdcDecisionStatus == "AUTOBYPASSED") && item.ApisDocoStatus == "Complete") {
                            this.GetOrderService(this.OrderID, item, this.MultiSegmentPaxArray, btn);
                        }
                        else {
                            Toast.makeText("API Data Required").show();
                        }
                    }
                    // this.TicketSeat(item);
                }
            }
        }
        else {
            if (item.INFwithoutSeat) {
                Toast.makeText(CheckInComponent_1.SEATWARNING).show();
            }
        }
    };
    CheckInComponent.prototype.getSeatmap = function (isInit, item, multiSegment) {
        var _this = this;
        if (isInit === void 0) { isInit = false; }
        this.loaderProgress.showLoader();
        console.log("getSeatMap called here ");
        // this.MultiSegmentPaxArray = multiSegment;
        var FlightNumber = this.MultiSegmentPaxArray.Segment[this.currentPage].MarketingFlight;
        var OperatingFlight = this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight;
        var date = this.MultiSegmentPaxArray.Segment[this.currentPage].DepartureDateTime.toString();
        var Date1 = date.slice(0, 10);
        var origin = this.MultiSegmentPaxArray.Segment[this.currentPage].Origin;
        var destination = this.MultiSegmentPaxArray.Segment[this.currentPage].Destination;
        console.log("Legs" + JSON.stringify(this.MultiSegmentPaxArray.Segment[this.currentPage].Legs));
        console.log("dest" + JSON.stringify(FlightNumber.substr(0, 2)));
        if ((FlightNumber.substr(0, 2) == "CM" && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight == null) || (this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight != null && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight.substr(0, 2) == "CM")) {
            if (this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight != null && this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight.substr(0, 2) == "CM") {
                FlightNumber = this.MultiSegmentPaxArray.Segment[this.currentPage].OperatingFlight;
            }
            var selPax = this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.filter(function (pax) { return pax.RPH == item.RPH; });
            var passengerList_1 = this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger;
            var legs_1 = this.MultiSegmentPaxArray.Segment[this.currentPage].Legs;
            this._seatmap.GetSeatMap(FlightNumber, Date1, origin, selPax[0].FirstName, selPax[0].LastName, Number(selPax[0].PassengerSeqNumber), selPax[0].OrderID)
                .subscribe(function (result) {
                _this.seatmapDetails = result;
                // this._service.GetPassenger(this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger[0].OrderID)
                //     .subscribe(data => {
                // this._shared.SetPassenger(<Order.RootObject>data);
                // this.legsInfo = this.MultiSegmentPaxArray.Segment[this.currentPage].Legs;
                // let scTable: any[] = this._shared.GetStartupTable().Tables.SecurityCodeTable;
                // this.MultiSegmentPaxArray = Converters.ConvertToFlightWithPaxTemplate(this._shared.GetPassenger(), null, scTable, "");
                // this.MultiSegmentPaxArray.Segment[this.currentPage].Legs = this.legsInfo;
                //this.PassengerLists = passengerList
                var selPax = _this.PassengerLists.filter(function (pax) { return pax.RPH == item.RPH; });
                _this.SeatMapList = index_4.Converters.ConvertToSeatMap(_this.seatmapDetails, passengerList_1, FlightNumber, legs_1, origin, destination);
                _this._shared.SetSeatMap(_this.SeatMapList);
                _this.TicketSeat(item);
                _this.loaderProgress.hideLoader();
                if (result.Warnings.length > 0 || result.Warnings != null) {
                    console.log("toast");
                    result.Warnings.forEach(function (warning, index) {
                        Toast.makeText(warning.Message).show();
                    });
                }
                // })
            }, function (error) {
                console.log("Couldnt find seat information " + error);
                _this.handleServiceError(error);
                _this.loaderProgress.hideLoader();
            }, function () {
                console.log('Seat Map Retrieved successfully');
            });
        }
        else {
            console.log("OA SeatMap call");
            if (FlightNumber.substr(0, 2) == "CM") {
                var FlightNum = OperatingFlight;
            }
            else {
                FlightNum = FlightNumber;
            }
            var PaxArray_1 = [new index_2.SeatMapOAPax.Passenger()];
            PaxArray_1.length = 0;
            this.PassengerLists.forEach(function (paxData, Index) {
                var pax = new index_2.SeatMapOAPax.Passenger();
                pax.Firstname = paxData.FirstName;
                pax.Lastname = paxData.LastName;
                pax.GroupPNR = false;
                pax.OrderId = paxData.OrderID;
                pax.PassengerTypeCode = paxData.PassengerTypeCode;
                pax.RPH = paxData.RPH;
                PaxArray_1.push(pax);
            });
            this.PassengerListForOASeatMap.Passengers = PaxArray_1;
            var optionalRef = new index_2.SeatMapOAPax.OptionalFeeOptions();
            optionalRef.AccountCode = null;
            optionalRef.TicketDateOfIssue = null;
            optionalRef.TicketDesignator = null;
            optionalRef.TourCode = null;
            this.PassengerListForOASeatMap.OptionalFeeOptions = optionalRef;
            console.log("new Pax st:" + JSON.stringify(this.PassengerListForOASeatMap));
            var previousIndex = this.currentPage - 1;
            var FlightNumber = this.MultiSegmentPaxArray.Segment[previousIndex].MarketingFlight;
            var OperatingFlight = this.MultiSegmentPaxArray.Segment[previousIndex].OperatingFlight;
            var date = this.MultiSegmentPaxArray.Segment[previousIndex].DepartureDateTime.toString();
            var Date1 = date.slice(0, 10);
            var origin = this.MultiSegmentPaxArray.Segment[previousIndex].Origin;
            var destination = this.MultiSegmentPaxArray.Segment[previousIndex].Destination;
            var isSeatMapExists = false;
            var selPax = this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.filter(function (pax) { return pax.RPH == item.RPH; });
            this._seatmap.GetSeatMap(FlightNumber, Date1, origin, selPax[0].FirstName, selPax[0].LastName, Number(selPax[0].PassengerSeqNumber), selPax[0].OrderID)
                .subscribe(function (result) {
                if (result.Items != null) {
                    console.log("Inside 1st if");
                    result.Items.forEach(function (seatData, index) {
                        if (seatData.FlightSegment.Flight == _this.MultiSegmentPaxArray.Segment[_this.currentPage].MarketingFlight || seatData.FlightSegment.Flight == _this.MultiSegmentPaxArray.Segment[_this.currentPage].OperatingFlight) {
                            console.log("Inside 2nd if");
                            isSeatMapExists = true;
                            _this.seatmapDetails = result;
                            var curorigin = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Origin;
                            var curdestination = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Destination;
                            _this.PassengerLists = _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger;
                            _this.SeatMapList = index_4.Converters.OAseatmap(_this.seatmapDetails, _this.PassengerLists, FlightNum, _this.MultiSegmentPaxArray.Segment[_this.currentPage].Legs, curorigin, curdestination);
                            _this._shared.SetSeatMap(_this.SeatMapList);
                            _this.TicketSeat(item);
                            _this.loaderProgress.hideLoader();
                            if (result.Warnings.length > 0 || result.Warnings != null) {
                                result.Warnings.forEach(function (warning, index) {
                                    Toast.makeText(warning.Message).show();
                                });
                            }
                        }
                    });
                    if (!isSeatMapExists) {
                        _this.loaderProgress.hideLoader();
                        console.log("Seat map cannot be displayed");
                        Toast.makeText("Seat map cannot be displayed").show();
                    }
                }
                else {
                    Toast.makeText(result.Warnings[0].Message).show();
                    _this.loaderProgress.hideLoader();
                }
            }, function (error) {
                console.log("Couldnt find seat information " + error);
                _this.handleServiceError(error);
                _this.loaderProgress.hideLoader();
            }, function () {
                console.log('Seat Map Retrieved successfully');
            });
        }
        console.log("successfull");
    };
    CheckInComponent.prototype.TicketSeat = function (passengerDtl) {
        var param = JSON.stringify(passengerDtl.RPH);
        if (!passengerDtl.INFwithoutSeat) {
            this.routerExtensions.navigate(["seatmap"], {
                animated: true,
                transition: {
                    name: "slide",
                    duration: 600,
                    curve: "linear"
                },
                queryParams: {
                    RPHValue: param,
                    index: JSON.stringify(this.currentPage)
                }
            });
        }
    };
    CheckInComponent.prototype.navigateToSearch = function () {
        if (this.isCheckinDisabled == true) {
            this.routerExtensions.navigate(["search"], {
                animated: true,
                transition: {
                    name: "slide",
                    duration: 600,
                    curve: "linear"
                }
            });
        }
    };
    CheckInComponent.prototype.navigateToDepartures = function () {
        if (this.isGateDisabled == true) {
            this.routerExtensions.navigate(["departhome"], {
                animated: true,
                transition: {
                    name: "slide",
                    duration: 600,
                    curve: "linear"
                }
            });
        }
    };
    CheckInComponent.prototype.gotoNextLeg = function (arg, FlightWithPax) {
        var _this = this;
        console.log("Direction: " + arg.direction);
        console.log("PageNumber: " + arg.object.pageindex);
        // console.log("Page:" + JSON.stringify(this.currentPage));
        if (arg.direction == 1 || arg.direction == 2) {
            this.SelectedPassengerList = [];
            this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach(function (pass, index) {
                _this.MultiSegmentPaxArray.Segment[_this.currentPage].Passenger.filter(function (m) { return m.FirstName == pass.FirstName; })[0].IsChecked = false;
            });
        }
        if (arg.direction == 1 && this.currentPage > 0) {
            this.currentPage--;
        }
        if (arg.direction == 2 &&
            this.currentPage < this.MultiSegmentPaxArray.Segment.length - 1) {
            console.log("++");
            this.currentPage++;
        }
        this.dots[arg.object.pageindex].check = true;
        this.check = false;
        console.log("P1:" + JSON.stringify(this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled));
        console.log("P2:" + JSON.stringify(this.isContinueButtonEnabled));
        if (this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled) {
            this.isContinueButtonEnabled = false;
            this.isOffloadButtonEnabled = false;
        }
        console.log("R1:" + JSON.stringify(this.MultiSegmentPaxArray.Segment[this.currentPage].isAPISSeatBagDisabled));
        console.log("R2:" + JSON.stringify(this.isContinueButtonEnabled));
        this.FlightDate = moment(this.MultiSegmentPaxArray.Segment[this.currentPage].FlightDate).format("DD-MMM-YYYY");
        this.isPrintbtnEnabled();
    };
    CheckInComponent.prototype.visiblityVal = function (pageNumber) {
        if (pageNumber == this.currentPage) {
            return "visible";
        }
        else
            return "collapsed";
    };
    CheckInComponent.prototype.pageTabVal = function (pageNumber) {
        if (pageNumber == this.currentPage) {
            return true;
        }
        else
            return false;
    };
    CheckInComponent.prototype.isItemVisible = function (args) {
        if (args.toString().substr(0, 2) == "CM" && args.toString().length <= 5) {
            return "visible";
        }
        else
            return "collapsed";
    };
    CheckInComponent.prototype.isPrintbtnEnabled = function () {
        var _this = this;
        // console.log("Page:" + this.currentPage);
        // this.check = false;
        // console.log("isPrintbtnEnabled");
        this.MultiSegmentPaxArray.Segment[this.currentPage].Passenger.forEach(function (pass, index) {
            if (_this.currentPage == 0) {
                if (pass.CheckinStatus == true) {
                    _this.check = true;
                }
            }
        });
        if (this.check == true) {
            return "visible";
        }
        else {
            return "collapsed";
        }
    };
    CheckInComponent.prototype.Standby = function (args) {
        if (args == "NRP" || args == "NRS") {
            return "visible";
        }
        else {
            return "collapsed";
        }
    };
    CheckInComponent.prototype.navigateToSetting = function () {
        this.routerExtensions.navigate(["setting"], {
            animated: true,
            transition: {
                name: "slide",
                duration: 600,
                curve: "linear"
            }
        });
    };
    CheckInComponent.prototype.navigateToLogin = function () {
        this.routerExtensions.navigate([""], {
            animated: true,
            transition: {
                name: "slide",
                duration: 600,
                curve: "linear"
            }
        });
    };
    CheckInComponent.prototype.handleServiceError = function (error) {
        var _this = this;
        var errorMessage = error.toString();
        if (errorMessage.indexOf("SessionTimeout") > -1) {
            var options = {
                title: "Session Time Out",
                message: "Your session has been time out",
                okButtonText: "OK"
            };
            dialogs.alert(options).then(function () {
                _this.routerExtensions.navigate([""], {
                    animated: true,
                    transition: {
                        name: "slide",
                        duration: 600,
                        curve: "linear"
                    }
                });
            });
            // this.loaderProgress.hideLoader();
        }
        else {
            Toast.makeText(errorMessage).show();
        }
    };
    CheckInComponent.prototype.navigateToCompensation = function () {
        if (this.isCompensationEnabled == true) {
            this.routerExtensions.navigate(["compensation"], {
                animated: true,
                transition: {
                    name: "slide",
                    duration: 600,
                    curve: "linear"
                }
            });
        }
        else {
            Toast.makeText("Compensation Not applicable").show();
        }
    };
    var CheckInComponent_1;
    CheckInComponent.WARNING = "Ticket is out of sync with booked itinerary";
    CheckInComponent.TKTOUTOFSYNC = "Selected passengers are ticket out of sync passengers. Checkin will be allowed only when those passengers ticket is synced. If you want to checkin non e-ticketed passengers, click 'OK' and unselect the ticket out of sync passenger and proceed to checkin";
    CheckInComponent.APISDATAREQUIRED = "ApisDataRequired";
    CheckInComponent.SEATWARNING = "Seat selection is not allowed for this passenger type";
    CheckInComponent.NOBLUETOOTHDEVICE = "No Bluetooth Printer Found. Please set the Printer in Settings Page";
    CheckInComponent.UNABLETOPRINT = "Unable to Print";
    CheckInComponent.PRINTERSESSION = "Unable to connect to printer session, try again later";
    __decorate([
        core_1.ViewChild("pagecontainer"),
        __metadata("design:type", core_1.ElementRef)
    ], CheckInComponent.prototype, "pageCont", void 0);
    CheckInComponent = CheckInComponent_1 = __decorate([
        core_1.Component({
            selector: "checkin-page",
            moduleId: module.id,
            providers: [index_1.DataService, index_1.PassengerService, modal_dialog_1.ModalDialogService, app_constants_1.Configuration, index_2.SecurityModel, index_1.PrintEmailService, index_1.CheckinService, index_1.SeatMapService],
            templateUrl: "./checkin.component.html",
            styleUrls: ["./checkin.component.css"]
        }),
        __metadata("design:paramtypes", [index_1.CheckinService, index_1.SeatMapService, index_1.PrintEmailService, app_constants_1.Configuration, page_1.Page, index_1.TimeOutService, router_2.RouterExtensions, index_1.DataService, router_1.Router, modal_dialog_1.ModalDialogService, core_1.ViewContainerRef, common_1.Location, router_1.ActivatedRoute, index_1.PassengerService, index_2.SecurityModel, index_1.CheckinOrderService])
    ], CheckInComponent);
    return CheckInComponent;
}());
exports.CheckInComponent = CheckInComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tpbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjaGVja2luLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUFtQztBQUNuQyxzQ0FBOEc7QUFDOUcsMENBQTJFO0FBQzNFLDBDQUFpRTtBQUNqRSxzREFBK0Q7QUFDL0QsMENBQTRDO0FBQzVDLGdDQUFrQztBQUVsQyxvQ0FBc0M7QUFFdEMsZ0NBQStCO0FBTy9CLDhCQUE4QjtBQUM5QiwwREFBNEQ7QUFDNUQsa0VBQTJGO0FBQzNGLDBDQUE0QztBQUM1QywrQkFBaUM7QUFDakMsZ0RBQWtEO0FBRWxELGdCQUFnQjtBQUNoQixxREFBb0s7QUFDcEssa0RBQXFQO0FBQ3JQLHNEQUEyVTtBQUMzVSxrSEFBa0g7QUFDbEgsa0RBQXNEO0FBQ3RELDZEQUEyRDtBQUMzRCxxREFBb0Q7QUFFcEQsMERBQXdEO0FBVXhEO0lBc0dJLDBCQUFvQixRQUF3QixFQUFTLFFBQXdCLEVBQVUsV0FBOEIsRUFBVSxjQUE2QixFQUFVLElBQVUsRUFBUyxlQUErQixFQUFVLGdCQUFrQyxFQUFTLFlBQXlCLEVBQVUsTUFBYyxFQUFVLGFBQWlDLEVBQVUsS0FBdUIsRUFBVSxRQUFrQixFQUFVLGVBQStCLEVBQVMsUUFBMEIsRUFBUyxhQUE0QixFQUFTLE9BQTRCO1FBQXhpQixhQUFRLEdBQVIsUUFBUSxDQUFnQjtRQUFTLGFBQVEsR0FBUixRQUFRLENBQWdCO1FBQVUsZ0JBQVcsR0FBWCxXQUFXLENBQW1CO1FBQVUsbUJBQWMsR0FBZCxjQUFjLENBQWU7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFNO1FBQVMsb0JBQWUsR0FBZixlQUFlLENBQWdCO1FBQVUscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUFTLGlCQUFZLEdBQVosWUFBWSxDQUFhO1FBQVUsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUFVLGtCQUFhLEdBQWIsYUFBYSxDQUFvQjtRQUFVLFVBQUssR0FB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QyxTQUFTLElBQUksQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxJQUFJLElBQUk7d0JBQzVKLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxJQUFJLElBQUk7d0JBQy9KLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxJQUFJLElBQUk7d0JBQy9KLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxJQUFJLElBQUk7d0JBQy9KLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFD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b0IsaUJBQVEsRUFBMkIsdUJBQWMsRUFBbUIsd0JBQWdCLEVBQXdCLHFCQUFhLEVBQWtCLDJCQUFtQjtPQXRHbmpCLGdCQUFnQixDQWc3SDVCO0lBQUQsdUJBQUM7Q0FBQSxBQWg3SEQsSUFnN0hDO0FBaDdIWSw0Q0FBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyIvL2FuZ3VsYXIgJiBuYXRpdmVzY3JpcHQgcmVmZXJlbmNlc1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgVmlld0NvbnRhaW5lclJlZiwgQW5pbWF0aW9uS2V5ZnJhbWUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgUm91dGVyLCBOYXZpZ2F0aW9uRXh0cmFzLCBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gXCJAYW5ndWxhci9yb3V0ZXJcIjtcbmltcG9ydCB7IExvY2F0aW9uLCBQYXRoTG9jYXRpb25TdHJhdGVneSB9IGZyb20gXCJAYW5ndWxhci9jb21tb25cIjtcbmltcG9ydCB7IFJvdXRlckV4dGVuc2lvbnMgfSBmcm9tIFwibmF0aXZlc2NyaXB0LWFuZ3VsYXIvcm91dGVyXCI7XG5pbXBvcnQgKiBhcyBpbWFnZU1vZHVsZSBmcm9tIFwiaW1hZ2Utc291cmNlXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZmlsZS1zeXN0ZW1cIjtcbmltcG9ydCAqIGFzIGdlc3R1cmVzIGZyb20gXCJ1aS9nZXN0dXJlc1wiO1xuaW1wb3J0ICogYXMgZGlhbG9ncyBmcm9tIFwidWkvZGlhbG9nc1wiO1xuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tIFwidWkvaW1hZ2VcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwidWkvcGFnZVwiO1xuaW1wb3J0IHsgVmlldyB9IGZyb20gXCJ1aS9jb3JlL3ZpZXdcIjtcbmltcG9ydCB7IExpc3RWaWV3LCBJdGVtRXZlbnREYXRhIH0gZnJvbSBcInVpL2xpc3Qtdmlld1wiO1xuaW1wb3J0IHsgU3dpcGVHZXN0dXJlRXZlbnREYXRhIH0gZnJvbSBcInVpL2dlc3R1cmVzXCI7XG5pbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwidWkvYW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBBbmltYXRpb25DdXJ2ZSB9IGZyb20gXCJ1aS9lbnVtc1wiO1xuaW1wb3J0IHsgU3RhY2tMYXlvdXQgfSBmcm9tIFwidWkvbGF5b3V0cy9zdGFjay1sYXlvdXRcIjtcbi8vZXh0ZXJuYWwgbW9kdWxlcyBhbmQgcGx1Z2luc1xuaW1wb3J0ICogYXMgQXBwbGljYXRpb25TZXR0aW5ncyBmcm9tIFwiYXBwbGljYXRpb24tc2V0dGluZ3NcIjtcbmltcG9ydCB7IE1vZGFsRGlhbG9nU2VydmljZSwgTW9kYWxEaWFsb2dPcHRpb25zIH0gZnJvbSBcIm5hdGl2ZXNjcmlwdC1hbmd1bGFyL21vZGFsLWRpYWxvZ1wiO1xuaW1wb3J0ICogYXMgVG9hc3QgZnJvbSBcIm5hdGl2ZXNjcmlwdC10b2FzdFwiO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCAqIGFzIHplYnJhIGZyb20gXCJuYXRpdmVzY3JpcHQtcHJpbnQtemVicmFcIjtcblxuLy9hcHAgcmVmZXJlbmNlc1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UsIFBhc3NlbmdlclNlcnZpY2UsIENoZWNraW5PcmRlclNlcnZpY2UsIFNlYXRNYXBTZXJ2aWNlLCBUaW1lT3V0U2VydmljZSwgUHJpbnRFbWFpbFNlcnZpY2UsIENoZWNraW5TZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9zZXJ2aWNlcy9pbmRleFwiO1xuaW1wb3J0IHsgUGFzc2VuZ2VyLCBPcmRlciwgU2VjdXJpdHlWYWxpZGF0aW9uLCBTZWF0TWFwT0FQYXgsIENvdW50cnlDb2xsZWN0aW9uLCBJbnZlbnRvcnksIEZxdHZQcm9ncmFtcywgRlFUViwgRGVwYXJ0dXJlcywgRG9jdW1lbnRUeXBlLCBTZWN1cml0eU1vZGVsLCBBcGlzVXBkYXRlUmVxdWVzdCwgQURDQnlQYXNzLCBMZWdzLCBBcGlzQWRkcmVzc1JlcXVpcmVtZW50cyB9IGZyb20gXCIuLi8uLi9zaGFyZWQvbW9kZWwvaW5kZXhcIlxuaW1wb3J0IHsgVXBncmFkZUluZm9BcnJheSwgUGF4VGVtcGxhdGUsIFBhc3NlbmdlckNoZWNraW4sIEluQm91bmQsIEZsaWdodEluZm8sIE11bHRpU2VnbWVudFRlbXBsYXRlLCBGUVRWSW5mbywgU2VhdE1hcCwgRlFUVlBybywgQ2hlY2tJblBvc3RUZW1wbGF0ZSwgRGVwYXJ0dXJlSW5mbywgT3V0Qm91bmQsIExvYWRlclByb2dyZXNzLCBEb2N1bWVudCwgUGhvbmVOdW1iZXIsIEFkZHJlc3MsIEFwaXNSZXF1aXJlbWVudCwgRW1lcmdlbmN5UGhvbmUsIEVtZXJnZW5jeURldGFpbCwgQXNzb2NpYXRlZFBhc3NlbmdlciB9IGZyb20gJy4uLy4uL3NoYXJlZC9pbnRlcmZhY2UvaW5kZXgnO1xuLy8gaW1wb3J0IHsgTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyIGFzIFBhc3NlbmdlckludGYgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ludGVyZmFjZS9tdWx0aXNlZ21lbnQuaW50ZXJmYWNlXCJcbmltcG9ydCB7IENvbnZlcnRlcnMgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3V0aWxzL2luZGV4XCI7XG5pbXBvcnQgeyBBcHBFeGVjdXRpb250aW1lIH0gZnJvbSBcIi4uLy4uL2FwcC5leGVjdXRpb250aW1lXCI7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uLy4uL2FwcC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEludGVybGluZVRocm91Z2hDaGVja2luIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9pbnRlcmZhY2UvcGF4dGVtcGxhdGUuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBEUlNDb21wb25lbnQgfSBmcm9tIFwiLi4vRFJTUGFnZS9EcnNQYWdlLW1vZGFsXCI7XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6IFwiY2hlY2tpbi1wYWdlXCIsXG4gICAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcbiAgICBwcm92aWRlcnM6IFtEYXRhU2VydmljZSwgUGFzc2VuZ2VyU2VydmljZSwgTW9kYWxEaWFsb2dTZXJ2aWNlLCBDb25maWd1cmF0aW9uLCBTZWN1cml0eU1vZGVsLCBQcmludEVtYWlsU2VydmljZSwgQ2hlY2tpblNlcnZpY2UsIFNlYXRNYXBTZXJ2aWNlXSxcbiAgICB0ZW1wbGF0ZVVybDogXCIuL2NoZWNraW4uY29tcG9uZW50Lmh0bWxcIixcbiAgICBzdHlsZVVybHM6IFtcIi4vY2hlY2tpbi5jb21wb25lbnQuY3NzXCJdXG59KVxuZXhwb3J0IGNsYXNzIENoZWNrSW5Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIEBWaWV3Q2hpbGQoXCJwYWdlY29udGFpbmVyXCIpIHBhZ2VDb250OiBFbGVtZW50UmVmO1xuICAgIHB1YmxpYyBpc0Vycm9yOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcnJvck1lc3NhZ2U6IHN0cmluZztcbiAgICBwdWJsaWMgaXNBZGRyZXNzZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgRG9jdW1lbnRUeXBlTGlzdDogQXJyYXk8RG9jdW1lbnRUeXBlPjtcbiAgICBwdWJsaWMgRG9jdW1lbnRUeXBlOiBBcnJheTxhbnk+O1xuICAgIHB1YmxpYyBBRENCeVBhc3NMaXN0OiBBcnJheTxBRENCeVBhc3M+O1xuICAgIHB1YmxpYyBBRENCeVBhc3NOYW1lTGlzdDogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgR2V0RG9jdW1lbnRUeXBlTGlzdDogYW55O1xuICAgIHB1YmxpYyBjaGVja2VkQ291bnQ6IG51bWJlciA9IDA7XG4gICAgcHVibGljIERvY1R5cGVJbmRleDogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgU2VsZWN0ZWREb2NUeXBlSW5kZXg6IG51bWJlcjtcbiAgICBwdWJsaWMgRG9jSXNzdWVDb3VudHJ5SW5kZXg6IEFycmF5PGFueT47XG4gICAgcHVibGljIFJlc2lkZW5jZUNvZGVJbmRleDogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgTmF0aW9uYWxpdHlJbmRleDogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgQ05Db2RlSW5kZXg6IG51bWJlcjtcbiAgICBwdWJsaWMgQ291bnRyeUl0ZW1zOiBhbnlbXTtcbiAgICBwdWJsaWMgc3RhcnREYXRlOiBEYXRlO1xuICAgIHB1YmxpYyBQYWdlRG9jdW1lbnRMaXN0OiBBcnJheTxzdHJpbmc+O1xuICAgIHB1YmxpYyBDb3VudHJ5TGlzdDogQXJyYXk8c3RyaW5nPjtcbiAgICBwdWJsaWMgU2VsZWN0RG9jdW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgcHVibGljIFNlbGVjdGVkUGFzc2VuZ2VyTGlzdDogQXJyYXk8UGFzc2VuZ2VyQ2hlY2tpbi5TZWxlY3RlZFBhc3Nlbmdlcj47XG4gICAgcHVibGljIGlzT2ZmbG9hZEJ1dHRvbkVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgcGF4TGlzdDogQXJyYXk8UGFzc2VuZ2VyPjtcbiAgICBwdWJsaWMgT3JkZXJJRDogc3RyaW5nID0gXCJcIjtcbiAgICBwdWJsaWMgc2VhcmNoU3RyaW5nID0gXCJcIjtcbiAgICBwdWJsaWMgdXNlcmRldGFpbHM6IGFueTtcbiAgICBwdWJsaWMgUGFzc2VuZ2VyRGV0YWlsczogYW55O1xuICAgIHB1YmxpYyBzaG9ydENoZWNraW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgUGFzc2VuZ2VyRGV0YWlsOiBTZWN1cml0eU1vZGVsO1xuICAgIHB1YmxpYyBQYXNzZW5nZXJMaXN0OiBBcnJheTxQYXhUZW1wbGF0ZT4gPSBbXTtcbiAgICBwdWJsaWMgUGFzc2VuZ2VyQXJyYXk6IEFycmF5PE11bHRpU2VnbWVudFRlbXBsYXRlLkZsaWdodFdpdGhQYXg+ID0gW107XG4gICAgcHVibGljIEZRVFZBcnJheTogQXJyYXk8RlFUVkluZm8+ID0gW107XG4gICAgcHVibGljIEZsaWdodEluZm9ybWF0aW9uOiBBcnJheTxNdWx0aVNlZ21lbnRUZW1wbGF0ZS5GbGlnaHRXaXRoUGF4PiA9IFtdO1xuICAgIHB1YmxpYyBDaGVja0luUmVzcG9uc2U6IGFueTtcbiAgICBwdWJsaWMgb3JkZXJJRDogc3RyaW5nO1xuICAgIHB1YmxpYyBsb2FkZXJQcm9ncmVzczogTG9hZGVyUHJvZ3Jlc3M7XG4gICAgcHVibGljIHNlbGVjdGVkUGFzc2VuZ2VyOiBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5QYXNzZW5nZXIgPSBuZXcgTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyKCk7XG4gICAgcHVibGljIGRvdHM6IEFycmF5PGFueT47XG4gICAgcHVibGljIGN1cnJlbnRQYWdlOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBTZWN1cml0eURldGFpbHM6IE9yZGVyLlJvb3RPYmplY3Q7XG4gICAgcHVibGljIGdlbmRlcjogYW55O1xuICAgIHB1YmxpYyBDb3VudHJ5RGV0YWlsczogQ291bnRyeUNvbGxlY3Rpb24uQ29sbGVjdGlvbjtcbiAgICBwdWJsaWMgc2VsZWN0ZWRTZWdtZW50OiBhbnk7XG4gICAgcHVibGljIGZxdHYxOiBhbnk7XG4gICAgcHJpdmF0ZSBzZWF0bWFwRGV0YWlsczogYW55O1xuICAgIHB1YmxpYyBQcm9maWxlOiBhbnk7XG4gICAgcHVibGljIGNoZWNrOiBib29sZWFuID0gZmFsc2VcbiAgICBwdWJsaWMgZmlyc3RGbGlnaHRUaW1lOiBEYXRlO1xuICAgIHB1YmxpYyBsYXN0RmxpZ2h0VGltZTogRGF0ZTtcbiAgICBwdWJsaWMgRGlmZmVyZW5jZUluVGltZUR1cmF0aW9uOiBhbnk7XG4gICAgcHVibGljIGZxdHY6IEFycmF5PEZxdHZQcm9ncmFtcy5Sb290T2JqZWN0PiA9IFtdO1xuICAgIHB1YmxpYyBTZWdtZW50TGlzdDogTXVsdGlTZWdtZW50VGVtcGxhdGUuRmxpZ2h0V2l0aFBheCA9IG5ldyBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5GbGlnaHRXaXRoUGF4KCk7XG4gICAgcHVibGljIHRhZ2l0ZW1zOiBBcnJheTxzdHJpbmc+O1xuICAgIHB1YmxpYyBGbGlnaHRXaXRoUGF4QXJyYXk6IEFycmF5PE11bHRpU2VnbWVudFRlbXBsYXRlLkZsaWdodFdpdGhQYXg+ID0gW107XG4gICAgcHVibGljIGluZGV4OiBhbnkgPSBudWxsO1xuICAgIHB1YmxpYyBNdWx0aVNlZ21lbnRQYXhBcnJheTogTXVsdGlTZWdtZW50VGVtcGxhdGUuUm9vdE9iamVjdCA9IG5ldyBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5Sb290T2JqZWN0KCk7XG4gICAgcHJpdmF0ZSBEZXBhcnR1cmVEZXRhaWxzOiBhbnk7XG4gICAgcHVibGljIFN0ZENoZWNrSW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgVXBEb3duR3JhZGVDaGVja0luOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIFVwRG93bkdyYWRlQXJyYXk6IFVwZ3JhZGVJbmZvQXJyYXkgPSBuZXcgVXBncmFkZUluZm9BcnJheSgpO1xuICAgIHB1YmxpYyBOZXdVcERvd25HcmFkZUFycmF5OiBVcGdyYWRlSW5mb0FycmF5ID0gbmV3IFVwZ3JhZGVJbmZvQXJyYXkoKTtcbiAgICBwcml2YXRlIERlcGFydHVyZUFycmF5OiBBcnJheTxEZXBhcnR1cmVJbmZvPiA9IFtdO1xuICAgIHByaXZhdGUgRGVwYXJ0dXJlQXJyYXlmb3JGUVRWOiBBcnJheTxEZXBhcnR1cmVJbmZvPiA9IFtdO1xuICAgIHByaXZhdGUgbG9jYXRpb25jb2RlOiBzdHJpbmc7XG4gICAgcHVibGljIGRvY0NoZWNrRm9yQ2hlY2tpbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBTaG9ydENoZWNrQWlycG9ydENvZGU6IHN0cmluZyA9IFwiXCI7XG4gICAgcHVibGljIFNlYXRQcm9kdWN0SW5mbzogQXJyYXk8U2VhdE1hcC5TZWF0UHJvZHVjdEluZm9ybWF0aW9uPiA9IFtdO1xuICAgIHByaXZhdGUgZGF0ZTogc3RyaW5nO1xuICAgIHB1YmxpYyBpc0NoZWNraW5EaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc0dhdGVEaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyB0aWNrZXROdW1iZXJzOiBzdHJpbmc7XG4gICAgcHVibGljIFNTUmluQXJyYXk6IEFycmF5PHN0cmluZz47XG4gICAgcHVibGljIHByaW50ZXJJRDogc3RyaW5nO1xuICAgIHB1YmxpYyBpc0NvbXBlbnNhdGlvbkVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgaXNDaGVja2luUHJpbnQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyBzeW5jVGlja2V0OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIGxlZ3NJbmZvOiBBcnJheTxMZWdzPiA9IFtdO1xuICAgIHB1YmxpYyBQYXNzZW5nZXJMaXN0czogQXJyYXk8TXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyPiA9IFtdO1xuICAgIHB1YmxpYyBTZWF0TWFwTGlzdDogU2VhdE1hcC5Sb290T2JqZWN0ID0gbmV3IFNlYXRNYXAuUm9vdE9iamVjdCgpO1xuICAgIHB1YmxpYyBTaG93U2VhdE1hcExpc3Q6IFNlYXRNYXAuSXRlbSA9IG5ldyBTZWF0TWFwLkl0ZW0oKTtcbiAgICBwdWJsaWMgaXNNdWx0aUxlZ0ZMaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc1NlZ1NlbGVjdGVkOiBBcnJheTxib29sZWFuPiA9IFtdO1xuICAgIHB1YmxpYyBpc1NlY29uZFNlZ1NlbGVjdGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgRmlyc3RTZWdPcmlnaW46IHN0cmluZztcbiAgICBwdWJsaWMgRmlyc3RTZWdEZXN0OiBzdHJpbmc7XG4gICAgcHVibGljIFNlY29uZFNlZ09yaWdpbjogc3RyaW5nO1xuICAgIHB1YmxpYyBTZWNvbmRTZWdEZXN0OiBzdHJpbmc7XG4gICAgcHVibGljIFBhc3Nlbmdlckxpc3RGb3JPQVNlYXRNYXA6IFNlYXRNYXBPQVBheC5Sb290T2JqZWN0ID0gbmV3IFNlYXRNYXBPQVBheC5Sb290T2JqZWN0KCk7XG4gICAgcHVibGljIHN0YXRpYyBXQVJOSU5HOiBzdHJpbmcgPSBcIlRpY2tldCBpcyBvdXQgb2Ygc3luYyB3aXRoIGJvb2tlZCBpdGluZXJhcnlcIlxuICAgIHB1YmxpYyBzdGF0aWMgVEtUT1VUT0ZTWU5DOiBzdHJpbmcgPSBcIlNlbGVjdGVkIHBhc3NlbmdlcnMgYXJlIHRpY2tldCBvdXQgb2Ygc3luYyBwYXNzZW5nZXJzLiBDaGVja2luIHdpbGwgYmUgYWxsb3dlZCBvbmx5IHdoZW4gdGhvc2UgcGFzc2VuZ2VycyB0aWNrZXQgaXMgc3luY2VkLiBJZiB5b3Ugd2FudCB0byBjaGVja2luIG5vbiBlLXRpY2tldGVkIHBhc3NlbmdlcnMsIGNsaWNrICdPSycgYW5kIHVuc2VsZWN0IHRoZSB0aWNrZXQgb3V0IG9mIHN5bmMgcGFzc2VuZ2VyIGFuZCBwcm9jZWVkIHRvIGNoZWNraW5cIlxuICAgIHB1YmxpYyBzdGF0aWMgQVBJU0RBVEFSRVFVSVJFRDogc3RyaW5nID0gXCJBcGlzRGF0YVJlcXVpcmVkXCJcbiAgICBwdWJsaWMgc3RhdGljIFNFQVRXQVJOSU5HOiBzdHJpbmcgPSBcIlNlYXQgc2VsZWN0aW9uIGlzIG5vdCBhbGxvd2VkIGZvciB0aGlzIHBhc3NlbmdlciB0eXBlXCJcbiAgICBwdWJsaWMgc3RhdGljIE5PQkxVRVRPT1RIREVWSUNFOiBzdHJpbmcgPSBcIk5vIEJsdWV0b290aCBQcmludGVyIEZvdW5kLiBQbGVhc2Ugc2V0IHRoZSBQcmludGVyIGluIFNldHRpbmdzIFBhZ2VcIlxuICAgIHB1YmxpYyBzdGF0aWMgVU5BQkxFVE9QUklOVDogc3RyaW5nID0gXCJVbmFibGUgdG8gUHJpbnRcIlxuICAgIHB1YmxpYyBzdGF0aWMgUFJJTlRFUlNFU1NJT046IHN0cmluZyA9IFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gcHJpbnRlciBzZXNzaW9uLCB0cnkgYWdhaW4gbGF0ZXJcIlxuICAgIHB1YmxpYyBTdWZmaXhMaXN0OiBBcnJheTxzdHJpbmc+ID0gW1wiTVNTXCIsIFwiRFJcIiwgXCJNU1RSXCIsIFwiTVNcIiwgXCJNUlNcIiwgXCJNUlwiXVxuICAgIHB1YmxpYyBGbGlnaHREYXRlOiBhbnk7XG4gICAgcHVibGljIGlzSW50ZXJuYXRpb25hbDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc1Nob3J0Q2hlY2s6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jaGVja2luOiBDaGVja2luU2VydmljZSwgcHVibGljIF9zZWF0bWFwOiBTZWF0TWFwU2VydmljZSwgcHJpdmF0ZSBfcHJpbnRlbWFpbDogUHJpbnRFbWFpbFNlcnZpY2UsIHByaXZhdGUgX2NvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIHByaXZhdGUgcGFnZTogUGFnZSwgcHVibGljIF90aW1lb3V0U2VydmljZTogVGltZU91dFNlcnZpY2UsIHByaXZhdGUgcm91dGVyRXh0ZW5zaW9uczogUm91dGVyRXh0ZW5zaW9ucywgcHVibGljIF9kYXRhU2VydmljZTogRGF0YVNlcnZpY2UsIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsIHByaXZhdGUgX21vZGFsU2VydmljZTogTW9kYWxEaWFsb2dTZXJ2aWNlLCBwcml2YXRlIHZjUmVmOiBWaWV3Q29udGFpbmVyUmVmLCBwcml2YXRlIGxvY2F0aW9uOiBMb2NhdGlvbiwgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZXI6IEFjdGl2YXRlZFJvdXRlLCBwdWJsaWMgX3NlcnZpY2U6IFBhc3NlbmdlclNlcnZpY2UsIHB1YmxpYyBzZWN1cml0eURhdGFzOiBTZWN1cml0eU1vZGVsLCBwdWJsaWMgX3NoYXJlZDogQ2hlY2tpbk9yZGVyU2VydmljZSkge1xuICAgICAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICB0aGlzLnBheExpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcyA9IG5ldyBMb2FkZXJQcm9ncmVzcygpO1xuICAgICAgICB0aGlzLkRvY3VtZW50VHlwZSA9IFtdO1xuICAgICAgICB0aGlzLkRvY3VtZW50VHlwZUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5QYWdlRG9jdW1lbnRMaXN0ID0gW107XG4gICAgICAgIHRoaXMuRG9jVHlwZUluZGV4ID0gW107XG4gICAgICAgIHRoaXMuRG9jSXNzdWVDb3VudHJ5SW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5SZXNpZGVuY2VDb2RlSW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5OYXRpb25hbGl0eUluZGV4ID0gW107XG4gICAgICAgIHRoaXMuQ291bnRyeUl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuQ291bnRyeUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5zdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnRhZ2l0ZW1zID0gW107XG4gICAgICAgIHRoaXMudGFnaXRlbXMucHVzaChcIlN0YW5kYXJkIENoZWNrSW5cIik7XG4gICAgICAgIHRoaXMudGFnaXRlbXMucHVzaChcIlVwL0Rvd24gR3JhZGUgQ2hhbmdlXCIpO1xuICAgICAgICBzZWN1cml0eURhdGFzLkFwaXNVcGRhdGVSZXF1ZXN0cyA9IFtuZXcgQXBpc1VwZGF0ZVJlcXVlc3RdO1xuICAgICAgICBzZWN1cml0eURhdGFzLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Eb2N1bWVudHMgPSBbbmV3IERvY3VtZW50KCldO1xuICAgICAgICBzZWN1cml0eURhdGFzLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5BcGlzUmVxdWlyZW1lbnRzID0gW25ldyBBcGlzUmVxdWlyZW1lbnQoKV07XG4gICAgICAgIHNlY3VyaXR5RGF0YXMuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFwaXNBZGRyZXNzUmVxdWlyZW1lbnRzID0gW107XG4gICAgICAgIHNlY3VyaXR5RGF0YXMuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLlBob25lTnVtYmVycyA9IFtuZXcgUGhvbmVOdW1iZXIoKV07XG4gICAgICAgIHNlY3VyaXR5RGF0YXMuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFkZHJlc3NlcyA9IFtuZXcgQWRkcmVzcygpXTtcblxuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICAvLyB0aGlzLnBhZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ34vaW1hZ2VzL2xvZ2luX2JhY2suanBlZycpXCI7XG4gICAgICAgIHRoaXMucGFnZS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiY292ZXIgXCI7XG4gICAgICAgIHRoaXMubG9jYXRpb25jb2RlID0gXCJQVFlcIjtcbiAgICAgICAgbGV0IGRhdGUxID0gbmV3IERhdGUoKVxuICAgICAgICAgICAgLnRvSlNPTigpXG4gICAgICAgICAgICAuc2xpY2UoMCwgMTApXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCBcIi1cIik7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoXCJERCBNTU0gWVlZWVwiKTtcbiAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5pbml0TG9hZGVyKHRoaXMucGFnZUNvbnQpO1xuICAgICAgICB0aGlzLnVzZXJkZXRhaWxzID0gQXBwbGljYXRpb25TZXR0aW5ncy5nZXRTdHJpbmcoXCJ1c2VyZGV0YWlsc1wiLCBcIlwiKTtcbiAgICAgICAgdGhpcy5pc0NoZWNraW5EaXNhYmxlZCA9IEFwcGxpY2F0aW9uU2V0dGluZ3MuZ2V0Qm9vbGVhbihcImNoZWNraW5EaXNhYmxlZFwiKTtcbiAgICAgICAgdGhpcy5pc0dhdGVEaXNhYmxlZCA9IEFwcGxpY2F0aW9uU2V0dGluZ3MuZ2V0Qm9vbGVhbihcImdhdGVEaXNhYmxlZFwiKTtcbiAgICAgICAgdGhpcy5pc0NvbXBlbnNhdGlvbkVuYWJsZWQgPSBBcHBsaWNhdGlvblNldHRpbmdzLmdldEJvb2xlYW4oXCJjb21wZW5zYXRpb25FbmFibGVkXCIpO1xuICAgICAgICB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tpbmcgYmFja1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUm91dGVyLnF1ZXJ5UGFyYW1zLnN1YnNjcmliZShwYXJhbXMgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcImRhdGFcIl0gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHBhcmFtc1tcImRhdGFcIl0gIT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgIHBhcmFtc1tcImRhdGFcIl0gIT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hTdHJpbmcgPSBwYXJhbXNbXCJkYXRhXCJdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBwYXJhbXNbXCJpbmRleFwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJwcm9maWxlXCJdICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJwcm9maWxlXCJdICE9IFwiXCIgJiZcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJwcm9maWxlXCJdICE9IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuUHJvZmlsZSA9IHBhcmFtc1tcInByb2ZpbGVcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiUGF4ZGF0YVwiXSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiUGF4ZGF0YVwiXSAhPSBcIlwiICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiUGF4ZGF0YVwiXSAhPSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFN0cmluZyA9IHBhcmFtc1tcIlBheGRhdGFcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYXBpZGF0YVwiXSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYXBpZGF0YVwiXSAhPSBcIlwiICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYXBpZGF0YVwiXSAhPSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFN0cmluZyA9IHBhcmFtc1tcImFwaWRhdGFcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYmFnZ2FnZVwiXSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYmFnZ2FnZVwiXSAhPSBcIlwiICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiYmFnZ2FnZVwiXSAhPSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFN0cmluZyA9IHBhcmFtc1tcImJhZ2dhZ2VcIl07XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IHBhcmFtc1tcImluZGV4XCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcIlBhc3NlbmdlckFycmF5XCJdICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJQYXNzZW5nZXJBcnJheVwiXSAhPSBcIlwiICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zW1wiUGFzc2VuZ2VyQXJyYXlcIl0gIT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hTdHJpbmcgPSBwYXJhbXNbXCJQYXNzZW5nZXJBcnJheVwiXTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gcGFyYW1zW1wiaW5kZXhcIl07XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zZWFyY2hTdHJpbmcgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbMF0uUGFzc2VuZ2VyWzBdLk9yZGVySUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1zW1wic2hvcnRjaGVja2luXCJdICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzaG9ydGNoZWNraW5cIl0gIT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInNob3J0Y2hlY2tpblwiXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5TaG9ydENoZWNrQWlycG9ydENvZGUgPSBwYXJhbXNbXCJzaG9ydGNoZWNraW5cIl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuT3JkZXJJRCA9IHRoaXMuc2VhcmNoU3RyaW5nO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5zZWFyY2hTdHJpbmcgIT0gXCJcIiAmJlxuICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50Lmxlbmd0aCA9PSAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hTdHJpbmcubGVuZ3RoID09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgcG5yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmlzU2hvcnRDaGVja2luKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQYXhieU9yZGVySUQodGhpcy5zZWFyY2hTdHJpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hTdHJpbmcubGVuZ3RoID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGdldFBheGJ5RXRpY2tldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQYXhieUV0aWNrZXQodGhpcy5zZWFyY2hTdHJpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuRlFUVigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICE9IHRoaXMuY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5pbmRleDtcblxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsaXR5VmFsKHRoaXMuaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2hvd0V0a3RTdGF0dXMoKVxuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLnBhZ2VDb250Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbGFiZWwub24oXG4gICAgICAgICAgICBcImxvYWRlZCwgdGFwLCBsb25nUHJlc3MsIHN3aXBlLCBuZ01vZGVsQ2hhbmdlXCIsXG4gICAgICAgICAgICBmdW5jdGlvbiAoYXJnczogZ2VzdHVyZXMuR2VzdHVyZUV2ZW50RGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnQ6IFwiICsgYXJncy5ldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuX3RpbWVvdXRTZXJ2aWNlLnRpbWVyKTtcbiAgICAgICAgICAgICAgICBzZWxmLl90aW1lb3V0U2VydmljZS5yZXNldFdhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIFNob3dFdGt0U3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLlBhc3NlbmdlcnNbMF0uUHJpbWFyeVRpY2tldHMgIT0gbnVsbCAmJiB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vyc1swXS5QcmltYXJ5VGlja2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLlBhc3NlbmdlcnNbMF0uUHJpbWFyeVRpY2tldHNbMF0uVGlja2V0cyAhPSBudWxsICYmIHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKS5QYXNzZW5nZXJzWzBdLlByaW1hcnlUaWNrZXRzWzBdLlRpY2tldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vyc1swXS5QcmltYXJ5VGlja2V0c1swXS5UaWNrZXRzWzBdLlRpY2tldENvdXBvbnMgIT0gbnVsbCAmJiB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vyc1swXS5QcmltYXJ5VGlja2V0c1swXS5UaWNrZXRzWzBdLlRpY2tldENvdXBvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQuZm9yRWFjaCgoU2VnbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vyc1swXS5QcmltYXJ5VGlja2V0c1swXS5UaWNrZXRzWzBdLlRpY2tldENvdXBvbnMuZmlsdGVyKG0gPT4gKG0uT3JpZ2luID09IFNlZ21lbnQuT3JpZ2luICYmIG0uRGVzdGluYXRpb24gPT0gU2VnbWVudC5EZXN0aW5hdGlvbikgfHwgbS5TZWdtZW50TnVtYmVyID09IFNlZ21lbnQuUlBIKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFRpY2tldENvdXBvbiA9IHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKS5QYXNzZW5nZXJzWzBdLlByaW1hcnlUaWNrZXRzWzBdLlRpY2tldHNbMF0uVGlja2V0Q291cG9ucy5maWx0ZXIobSA9PiBtLlNlZ21lbnROdW1iZXIgPT0gU2VnbWVudC5SUEggJiYgbS5PcmlnaW4gPT0gdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLlNlZ21lbnRzLmZpbHRlcihtID0+IG0uUlBIID09IFNlZ21lbnQuUlBIKVswXS5PcmlnaW4uQWlycG9ydENvZGUpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChUaWNrZXRDb3Vwb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFRpY2tldENvdXBvbi5Db3Vwb25TdGF0dXNUZXh0ID09IFwiT3BlblwiIHx8IFRpY2tldENvdXBvbi5Db3Vwb25TdGF0dXNUZXh0ID09IFwiQURKVVNURURcIiB8fCBUaWNrZXRDb3Vwb24uQ291cG9uU3RhdHVzVGV4dCA9PSBcIkNIRUNLRUQtSU5cIiB8fCBUaWNrZXRDb3Vwb24uQ291cG9uU3RhdHVzVGV4dCA9PSBcIkxJRlRFRFwiIHx8IFRpY2tldENvdXBvbi5Db3Vwb25TdGF0dXNUZXh0ID09IFwiQk9BUkRFRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdtZW50LkVUS1RTdGF0dXNOT1RPSyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnbWVudC5FVEtUU3RhdHVzTk9UT0sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdtZW50LkVUS1RTdGF0dXNOT1RPSyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT2ZmbG9hZEJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlzQmFnZ2FnZUF2YWlsYWJsZShpdGVtOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGl0ZW0uU2VjdXJpdHlDb2RlID09ICdOQicgfHwgaXRlbS5TZWN1cml0eUNvZGUgPT0gJ05NJyB8fCBpdGVtLlNlY3VyaXR5Q29kZSA9PSAnVlUnIHx8IGl0ZW0uU2VjdXJpdHlDb2RlID09ICdORScgfHwgaXRlbS5TZWN1cml0eUNvZGUgPT0gJ0VEJyB8fCBpdGVtLlN5bmNUaWNrZXQgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJsaW5lIHx8ICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5Lldhcm5pbmcgIT0gbnVsbCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5Lldhcm5pbmdbMF0uTWVzc2FnZSA9PSAnVGlja2V0IGlzIG91dCBvZiBzeW5jIHdpdGggYm9va2VkIGl0aW5lcmFyeScpIHx8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5FVEtUU3RhdHVzTk9UT0sgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCB8fCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXNTZWF0QXZhaWxhYmxlKGl0ZW06IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaXRlbS5TZWN1cml0eUNvZGUgPT0gJ05CJyB8fCBpdGVtLlNlY3VyaXR5Q29kZSA9PSAnTk0nIHx8IGl0ZW0uU2VjdXJpdHlDb2RlID09ICdWVScgfHwgaXRlbS5TZWN1cml0eUNvZGUgPT0gJ05FJyB8fCBpdGVtLlNlY3VyaXR5Q29kZSA9PSAnRUQnIHx8IGl0ZW0uU3luY1RpY2tldCB8fCAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgPT0gJ1RpY2tldCBpcyBvdXQgb2Ygc3luYyB3aXRoIGJvb2tlZCBpdGluZXJhcnknKSB8fCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzU2VnID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7XG4gICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJsaW5lICYmICFpdGVtLkNoZWNraW5TdGF0dXMgJiYgKHByZXZpb3VzU2VnID49IDAgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3ByZXZpb3VzU2VnXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5SUEggPT0gaXRlbS5SUEgpWzBdLkNoZWNraW5TdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQcmludGVyKCk6IHN0cmluZyB7XG4gICAgICAgIGlmIChBcHBsaWNhdGlvblNldHRpbmdzLmhhc0tleShcInByaW50ZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBBcHBsaWNhdGlvblNldHRpbmdzLmdldFN0cmluZyhcInByaW50ZXJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEdldE9yZGVyRGV0YWlscyhpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHNEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiR2V0IFBhc3NlbmdlciBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBTdGFydCBEYXRlIFRpbWUgOiBcIiArIHNEYXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5fc2VydmljZS5HZXRQYXNzZW5nZXIoaWQpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICBkYXRhID0+IHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0UGFzc2VuZ2VyKDxPcmRlci5Sb290T2JqZWN0PmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2NUYWJsZTogYW55W10gPSB0aGlzLl9zaGFyZWQuR2V0U3RhcnR1cFRhYmxlKCkuVGFibGVzLlNlY3VyaXR5Q29kZVRhYmxlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgUGFzc2VuZ2VyQXJyYXk6IGFueSA9IENvbnZlcnRlcnMuQ29udmVydFRvRmxpZ2h0V2l0aFBheFRlbXBsYXRlKHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKSwgbnVsbCwgc2NUYWJsZSwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFzc2VuZ2VyQXJyYXkgVGVzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIoUGFzc2VuZ2VyQXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGFzc2VuZ2VyQXJyYXkuU2VnbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2V0ZGVwYXJ0dXJlRGF0ZTogc3RyaW5nID0gbW9tZW50KFBhc3NlbmdlckFycmF5LlNlZ21lbnRbMF0uRGVwYXJ0dXJlRGF0ZVRpbWUudG9TdHJpbmcoKSkuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXRmbGlnaHRudW1iZXI6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQYXNzZW5nZXJBcnJheS5TZWdtZW50WzBdLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmxpZ2h0bnVtYmVyID0gUGFzc2VuZ2VyQXJyYXkuU2VnbWVudFswXS5NYXJrZXRpbmdGbGlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGFzc2VuZ2VyQXJyYXkuU2VnbWVudFswXS5PcGVyYXRpbmdGbGlnaHQgIT0gbnVsbCAmJiBQYXNzZW5nZXJBcnJheS5TZWdtZW50WzBdLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmxpZ2h0bnVtYmVyID0gUGFzc2VuZ2VyQXJyYXkuU2VnbWVudFswXS5PcGVyYXRpbmdGbGlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmxpZ2h0bnVtYmVyID0gUGFzc2VuZ2VyQXJyYXkuU2VnbWVudFswXS5NYXJrZXRpbmdGbGlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXRjaXR5OiBzdHJpbmcgPSBQYXNzZW5nZXJBcnJheS5TZWdtZW50WzBdLkRlcGFydHVyZUNpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgQXNzb2NpYXRlZEluZmFudFJQSDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3NlbmdlckFycmF5LlNlZ21lbnQuZm9yRWFjaCgoU2VnRWxlLCBTZWdJbm5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwYXJ0dXJlRGF0ZTogc3RyaW5nID0gbW9tZW50KFNlZ0VsZS5EZXBhcnR1cmVEYXRlVGltZS50b1N0cmluZygpKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmbGlnaHRudW1iZXI6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2VnRWxlLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaWdodG51bWJlciA9IFNlZ0VsZS5NYXJrZXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTZWdFbGUuT3BlcmF0aW5nRmxpZ2h0ICE9IG51bGwgJiYgU2VnRWxlLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaWdodG51bWJlciA9IFNlZ0VsZS5PcGVyYXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpZ2h0bnVtYmVyID0gU2VnRWxlLk1hcmtldGluZ0ZsaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNpdHk6IHN0cmluZyA9IFNlZ0VsZS5EZXBhcnR1cmVDaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5kYXRlID0gbW9tZW50KFNlZ0VsZS5EZXBhcnR1cmVEYXRlVGltZS50b1N0cmluZygpKS5mb3JtYXQoXCJERC1NTU0tWVlZWVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBTZWdFbGUuRGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy9JbnZlbnRvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9jaGVja2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5Cb29raW5nQ291bnREaXNwbGF5KGRlcGFydHVyZURhdGUsIGZsaWdodG51bWJlciwgY2l0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBpbnZlbnRvcnk6IGFueSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRWxlLmludmVuID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uaW52ZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0luYm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9jaGVja2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5JbkJvdW5kKGRlcGFydHVyZURhdGUsIGZsaWdodG51bWJlciwgY2l0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBpbkJvdW5kOiBhbnkgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5pbmJvdW5kID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uaW5ib3VuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vT3V0Ym91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9jaGVja2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5PdXRCb3VuZChkZXBhcnR1cmVEYXRlLCBmbGlnaHRudW1iZXIsIGRlc3RpbmF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IE91dEJvdW5kOiBhbnkgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5vdXRib3VuZCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLm91dGJvdW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9kYXRhU2VydmljZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAuU3RhdHVzKGRlcGFydHVyZURhdGUsIGZsaWdodG51bWJlciwgY2l0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBzdGF0dXM6IGFueSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdHVzLkZsaWdodHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5zdGF0dXMgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRWxlLkxlZ3MgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5MZWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5TVEQgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5TVEQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRWxlLkVUQSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkVUQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdFbGUuRVREID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uRVREO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2RhdGFTZXJ2aWNlLkdldEJhZ2dhZ2UoaWQpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLl9zaGFyZWQuU2V0QmFnZ2FnZWNhdGFsb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVGllclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5fZGF0YVNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAuVGllcihzZXRkZXBhcnR1cmVEYXRlLCBzZXRmbGlnaHRudW1iZXIsIHNldGNpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2hvd0V0a3RTdGF0dXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHRpZXI6IGFueSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9zaGFyZWQuU2V0VGllcih0aWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRTZWdtZW50RGV0YWlsKFBhc3NlbmdlckFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkgPSBQYXNzZW5nZXJBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5HZXRTZWdtZW50RGV0YWlsKCkuU2VnbWVudC5mb3JFYWNoKChTZWdFbGUsIFNlZ0lubmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLnN0YXR1cyA9IFNlZ0VsZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0ub3V0Ym91bmQgPSBTZWdFbGUub3V0Ym91bmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uaW5ib3VuZCA9IFNlZ0VsZS5pbmJvdW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLmludmVuID0gU2VnRWxlLmludmVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlBhc3NlbmdlckFycmF5ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50LmZvckVhY2goKFNlZ0RhdGEsIFNlZ0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldGRlcGFydHVyZURhdGUgPSBtb21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0RhdGEuRGVwYXJ0dXJlRGF0ZVRpbWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2V0ZmxpZ2h0bnVtYmVyID0gU2VnRGF0YS5NYXJrZXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldGNpdHkgPSBTZWdEYXRhLkRlcGFydHVyZUNpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGTGlnaHQ6XCIgKyBzZXRmbGlnaHRudW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFNlZ0RhdGEuT3BlcmF0aW5nRmxpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmxpZ2h0bnVtYmVyLnN1YnN0cigwLCAyKSA9PSBcIkNNXCIgJiYgU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdEYXRhLklzSW50ZXJsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWdEYXRhLk9wZXJhdGluZ0ZsaWdodCAhPSBudWxsICYmIFNlZ0RhdGEuT3BlcmF0aW5nRmxpZ2h0LnN1YnN0cigwLCAyKSA9PSBcIkNNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0RhdGEuSXNJbnRlcmxpbmUgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRGF0YS5Jc0ludGVybGluZSA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXJFeHRlbnNpb25zLm5hdmlnYXRlKFtcImNoZWNraW5cIl0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImZhZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3RzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG90cy5wdXNoKHsgY2hlY2s6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3RzWzBdLmNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQcmludGJ0bkVuYWJsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU1NSXCIgKyBQYXNzZW5nZXJBcnJheS5QYXNzZW5nZXIuU1NSKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJSZWNvcmQgTm90IEZvdW5kXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG50IGZpbmQgaW5mb3JtYXRpb24gZm9yIHRoaXMgT3JkZXJJRCBcIiArIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBlcnJvck1lc3NhZ2UgPSBlcnIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGVycm9yTWVzc2FnZS5pbmRleE9mKFwiVW5yZWNvZ25pemVkIHRva2VuICc8J1wiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBUaW1lIE91dFwiLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IFwiWW91ciBzZXNzaW9uIGhhcyBiZWVuIHRpbWUgb3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBkaWFsb2dzLmFsZXJ0KG9wdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMubmF2aWdhdGVUb0xvZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdmFyIGVEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiR2V0IFBhc3NlbmdlciBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBFbmQgRGF0ZSBUaW1lIDogXCIgKyBlRGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiR2V0IFBhc3NlbmdlciBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzRGF0ZSksIG5ldyBEYXRlKGVEYXRlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYXhieUV0aWNrZXQoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICB2YXIgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlscyA9IHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXJFVGlja2V0KCk7XG4gICAgICAgICAgICBsZXQgc2NUYWJsZTogYW55W10gPSB0aGlzLl9zaGFyZWQuR2V0U3RhcnR1cFRhYmxlKCkuVGFibGVzLlNlY3VyaXR5Q29kZVRhYmxlO1xuICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSA9IENvbnZlcnRlcnMuQ29udmVydFRvRmxpZ2h0V2l0aFBheFRlbXBsYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlscyxcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuR2V0U3RhdHVzKCksXG4gICAgICAgICAgICAgICAgc2NUYWJsZSwgXCJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkpO1xuICAgICAgICAgICAgdGhpcy5fc2hhcmVkLkdldFNlZ21lbnREZXRhaWwoKS5TZWdtZW50LmZvckVhY2goKFNlZ0VsZSwgU2VnSW5uZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uc3RhdHVzID0gU2VnRWxlLnN0YXR1cztcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5vdXRib3VuZCA9IFNlZ0VsZS5vdXRib3VuZDtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5pbmJvdW5kID0gU2VnRWxlLmluYm91bmQ7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uaW52ZW4gPSBTZWdFbGUuaW52ZW47XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uZGF0ZSA9IFNlZ0VsZS5kYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkVUQSA9IFNlZ0VsZS5FVEE7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uRVREID0gU2VnRWxlLkVURDtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5TVEQgPSBTZWdFbGUuU1REO1xuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkxlZ3MgPSBTZWdFbGUuTGVncztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJBcnJheSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudDtcbiAgICAgICAgICAgIHRoaXMuZG90cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvdHMucHVzaCh7IGNoZWNrOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZG90c1swXS5jaGVjayA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5QYXNzZW5nZXJBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9yZGVySUQ6IHN0cmluZyA9IHRoaXMuUGFzc2VuZ2VyQXJyYXlbMF0uUGFzc2VuZ2VyWzBdLk9yZGVySUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5GbGlnaHRJbmZvcm1hdGlvbiA9IG5ldyBBcnJheTxcbiAgICAgICAgICAgICAgICAgICAgTXVsdGlTZWdtZW50VGVtcGxhdGUuRmxpZ2h0V2l0aFBheFxuICAgICAgICAgICAgICAgID4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQuZm9yRWFjaCgoU2VnRGF0YSwgU2VnSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldGRlcGFydHVyZURhdGUgPSBtb21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBTZWdEYXRhLkRlcGFydHVyZURhdGVUaW1lLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0ZmxpZ2h0bnVtYmVyID0gU2VnRGF0YS5NYXJrZXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRjaXR5ID0gU2VnRGF0YS5EZXBhcnR1cmVDaXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmxpZ2h0bnVtYmVyLnN1YnN0cigwLCAyKSA9PSBcIkNNXCIgJiYgU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2VnRGF0YS5Jc0ludGVybGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YVNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuVGllcihzZXRkZXBhcnR1cmVEYXRlLCBzZXRmbGlnaHRudW1iZXIsIHNldGNpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpZXI6IGFueSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWxsXCIgKyBKU09OLnN0cmluZ2lmeSh0aWVyLkZsaWdodEluZm8uRmxpZ2h0TnVtYmVyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0RhdGEuUGFzc2VuZ2VyLmZvckVhY2goKFBheERhdGEsIFBheEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImluXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGllci5QYXNzZW5nZXJMaXN0LmZvckVhY2goKEFsbFBheGRhdGEsIEFsbEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbFBheGRhdGEuT3JkZXJJZCA9PSBQYXhEYXRhLk9yZGVySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5GaXJzdE5hbWUgPT0gQWxsUGF4ZGF0YS5HaXZlbk5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBheERhdGEuTGFzdE5hbWUgPT0gQWxsUGF4ZGF0YS5TdXJuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBheGRhdGEuUGFzc2VuZ2VyQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRpZXJEYXRhLCB0aWVySW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpZXJEYXRhID09IFwiVGlja2V0T3V0T2ZTeW5jXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBheERhdGEuU3luY1RpY2tldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlID09ICdUaWNrZXQgaXMgb3V0IG9mIHN5bmMgd2l0aCBib29rZWQgaXRpbmVyYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5TeW5jVGlja2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGllckRhdGEgPT0gXCJPblN0YW5kYnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5PblN0YW5kYnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWVyRGF0YSA9PSBcIk92ZXJzb2xkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBheERhdGEuT3ZlcnNvbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxQYXhkYXRhLlNlYXRMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBheERhdGEuQ2FiaW4gPSBBbGxQYXhkYXRhLlNlYXRMaXN0WzBdLkNhYmluO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coQWxsUGF4ZGF0YS5TZWF0TGlzdFswXS5DYWJpbiArIFwiQ2FiaW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQgIT0gbnVsbCAmJiBTZWdEYXRhLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRGF0YS5Jc0ludGVybGluZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0RhdGEuSXNJbnRlcmxpbmUgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLkZRVFYoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJTZWFyY2hQYXhCeUV0aWNrZXQgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICsgZW5kRGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiU2VhcmNoUGF4QnlFdGlja2V0IFNlcnZpY2UgRXhlY3V0aW9uIFRpbWUgOiBcIiArXG4gICAgICAgICAgICAgICAgQXBwRXhlY3V0aW9udGltZS5FeGVjdXRpb25UaW1lKG5ldyBEYXRlKHN0YXJ0RGF0ZSksIG5ldyBEYXRlKGVuZERhdGUpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgLy8gfSwgMTQ5MCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU1NybW9yZShpdGVtKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiU1NSXCIsXG5cbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiQkFDS1wiLFxuICAgICAgICAgICAgYWN0aW9uczogaXRlbVxuICAgICAgICB9O1xuICAgICAgICBkaWFsb2dzLmFjdGlvbihvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNzclwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBheGJ5T3JkZXJJRChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLnNob3dMb2FkZXIoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcbiAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJTZWFyY2hQYXhCeU9yZGVySUQgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gU3RhcnQgRGF0ZSBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlscyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLlBhc3NlbmdlckRldGFpbHMgPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCk7XG4gICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5ID0gdGhpcy5fc2hhcmVkLkdldFNlZ21lbnREZXRhaWwoKTtcbiAgICAgICAgICAgIHRoaXMuRmxpZ2h0RGF0ZSA9IG1vbWVudCh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbMF0uRmxpZ2h0RGF0ZSkuZm9ybWF0KFwiREQtTU1NLVlZWVlcIik7XG4gICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLlBhc3NlbmdlckRldGFpbHMpO1xuICAgICAgICAgICAgbGV0IHNjVGFibGU6IGFueVtdID0gdGhpcy5fc2hhcmVkLkdldFN0YXJ0dXBUYWJsZSgpLlRhYmxlcy5TZWN1cml0eUNvZGVUYWJsZTtcbiAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb0ZsaWdodFdpdGhQYXhUZW1wbGF0ZSh0aGlzLlBhc3NlbmdlckRldGFpbHMsIHRoaXMuX3NoYXJlZC5HZXRTdGF0dXMoKSwgc2NUYWJsZSwgXCJcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNTUlwiICsgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50WzBdLlBhc3NlbmdlclswXS5TU1JbMF0pO1xuICAgICAgICAgICAgdGhpcy50aWNrZXROdW1iZXJzID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50WzBdLlBhc3NlbmdlclswXS5UaWNrZXROdW1iZXJzO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aWNrZXROdW1iZXJzKTtcbiAgICAgICAgICAgIGxldCBBc3NvY2lhdGVkSW5mYW50UlBIOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc2hhcmVkLkdldFNlZ21lbnREZXRhaWwoKS5TZWdtZW50LmZvckVhY2goKFNlZ0VsZSwgU2VnSW5uZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0ub3V0Ym91bmQgPSBTZWdFbGUub3V0Ym91bmQ7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uaW5ib3VuZCA9IFNlZ0VsZS5pbmJvdW5kO1xuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLmludmVuID0gU2VnRWxlLmludmVuO1xuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLmRhdGUgPSBTZWdFbGUuZGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5MZWdzID0gU2VnRWxlLkxlZ3M7XG4gICAgICAgICAgICAgICAgaWYgKFNlZ0VsZS5MZWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLnN0YXR1cyA9IFNlZ0VsZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBPcmlnaW5sb2NEZXRhaWxzID0gU2VnRWxlLkxlZ3MuZmlsdGVyKG0gPT4gbS5EZXBhcnR1cmVBaXJwb3J0LkxvY2F0aW9uQ29kZSA9PSBTZWdFbGUuT3JpZ2luKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1NlZ0lubmRleF0uRVREID0gT3JpZ2lubG9jRGV0YWlscy5EZXBhcnR1cmVEYXRlVGltZS5Fc3RpbWF0ZWQudG9TdHJpbmcoKS5zdWJzdHIoMTEsIDUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5TVEQgPSBPcmlnaW5sb2NEZXRhaWxzLkRlcGFydHVyZURhdGVUaW1lLlNjaGVkdWxlZC50b1N0cmluZygpLnN1YnN0cigxMSwgNSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkVUQSA9IE9yaWdpbmxvY0RldGFpbHMuQXJyaXZhbERhdGVUaW1lLlNjaGVkdWxlZC50b1N0cmluZygpLnN1YnN0cigxMSwgNSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLnN0YXR1cyA9IFwiTi9BXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkVURCA9IFwiTi9BXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLlNURCA9IFwiTi9BXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtTZWdJbm5kZXhdLkVUQSA9IFwiTi9BXCI7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxlZ3NcIiArIFNlZ0VsZS5FVEEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibGVnc1wiICsgU2VnRWxlLkVURCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsZWdzXCIgKyBTZWdFbGUuTGVncyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsZWdzXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbU2VnSW5uZGV4XS5MZWdzKSk7XG4gICAgICAgICAgICAgICAgaWYgKFNlZ0VsZS5DaGVja2luU3RhdHVzICYmIFNlZ0VsZS5Bc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IFNlZ0VsZS5Bc3NvY2lhdGVkSW5mYW50UlBIO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBc3NvY2lhdGVkSW5mYW50UlBIID09IFNlZ0VsZS5SUEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5DaGVja2luU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFzc29jaWF0ZWRJbmZhbnRSUEggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyQXJyYXkgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlBhc3NlbmdlckFycmF5KTtcbiAgICAgICAgICAgIHRoaXMuZG90cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvdHMucHVzaCh7IGNoZWNrOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZG90c1swXS5jaGVjayA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5QYXNzZW5nZXJBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9yZGVySUQ6IHN0cmluZyA9IGlkO1xuICAgICAgICAgICAgICAgIHRoaXMuRmxpZ2h0SW5mb3JtYXRpb24gPSBuZXcgQXJyYXk8TXVsdGlTZWdtZW50VGVtcGxhdGUuRmxpZ2h0V2l0aFBheD4oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudC5mb3JFYWNoKChTZWdEYXRhLCBTZWdJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0ZGVwYXJ0dXJlRGF0ZSA9IG1vbWVudChTZWdEYXRhLkRlcGFydHVyZURhdGVUaW1lLnRvU3RyaW5nKCkpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRmbGlnaHRudW1iZXIgPSBTZWdEYXRhLk1hcmtldGluZ0ZsaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldGNpdHkgPSBTZWdEYXRhLkRlcGFydHVyZUNpdHk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRkxpZ2h0OlwiICsgc2V0ZmxpZ2h0bnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmxpZ2h0bnVtYmVyLnN1YnN0cigwLCAyKSA9PSBcIkNNXCIgJiYgU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5fZGF0YVNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAuVGllcihzZXRkZXBhcnR1cmVEYXRlLCBzZXRmbGlnaHRudW1iZXIsIHNldGNpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCB0aWVyOiBhbnkgPSB0aGlzLl9zaGFyZWQuR2V0VGllcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU2VnRGF0YS5Jc0ludGVybGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VnRGF0YS5QYXNzZW5nZXIuZm9yRWFjaCgoUGF4RGF0YSwgUGF4SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcImluMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAodGllci5QYXNzZW5nZXJMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGllci5QYXNzZW5nZXJMaXN0LmZvckVhY2goKEFsbFBheGRhdGEsIEFsbEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAoQWxsUGF4ZGF0YS5PcmRlcklkID09IFBheERhdGEuT3JkZXJJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW4yXCIgKyBQYXhEYXRhLk9yZGVySUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5GaXJzdE5hbWUgPT0gQWxsUGF4ZGF0YS5HaXZlbk5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5MYXN0TmFtZSA9PSBBbGxQYXhkYXRhLlN1cm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBQYXhEYXRhLlBhc3NlbmdlclNlcU51bWJlciA9IEFsbFBheGRhdGEuUGFzc2VuZ2VyUmVmTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImluM1wiICsgUGF4RGF0YS5QYXNzZW5nZXJTZXFOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoQWxsUGF4ZGF0YS5QYXNzZW5nZXJDaGFyYWN0ZXJpc3RpY3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGF4ZGF0YS5QYXNzZW5nZXJDaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGllckRhdGEsIHRpZXJJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImluNFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpZXJEYXRhID09IFwiVGlja2V0T3V0T2ZTeW5jXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW41XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5TeW5jVGlja2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgPT0gJ1RpY2tldCBpcyBvdXQgb2Ygc3luYyB3aXRoIGJvb2tlZCBpdGluZXJhcnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXhEYXRhLlN5bmNUaWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWVyRGF0YSA9PSBcIk9uU3RhbmRieVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXhEYXRhLk9uU3RhbmRieSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpZXJEYXRhID09IFwiT3ZlcnNvbGRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5PdmVyc29sZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbFBheGRhdGEuU2VhdExpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF4RGF0YS5DYWJpbiA9IEFsbFBheGRhdGEuU2VhdExpc3RbMF0uQ2FiaW47XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQYXhkYXRhLlNlYXRMaXN0WzBdLkNhYmluICsgXCJDYWJpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkNvdWxkbnQgZmluZCBpbmZvcm1hdGlvbiBmb3IgdGhpcyBPcmRlcklEIFwiICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2VnRGF0YS5PcGVyYXRpbmdGbGlnaHQgIT0gbnVsbCAmJiBTZWdEYXRhLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnRGF0YS5Jc0ludGVybGluZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ0RhdGEuSXNJbnRlcmxpbmUgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLkZRVFYoKTtcbiAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NoYXJlZC5HZXRJc1dhaXRsaXN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKS5QYXNzZW5nZXJzLmZvckVhY2goKHBhc3NlbmdlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3Nlbmdlci5QYXNzZW5nZXJUeXBlQ29kZSAhPSBcIklORlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0gbmV3IFBhc3NlbmdlckNoZWNraW4uU2VsZWN0ZWRQYXNzZW5nZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5GaXJzdE5hbWUgPSBwYXNzZW5nZXIuRmlyc3RuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLkxhc3ROYW1lID0gcGFzc2VuZ2VyLkxhc3RuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QucHVzaChvYmopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5TZWdtZW50TGlzdCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXTtcbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tpbnR5cGUgPSBcIldhaXRsaXN0XCI7XG4gICAgICAgICAgICAgICAgbGV0IHJlcXVlc3Q6IENoZWNrSW5Qb3N0VGVtcGxhdGUuV2FpdGxpc3RSb290T2JqZWN0ID0gQ29udmVydGVycy5Db252ZXJ0VG9XYWl0bGlzdENoZWNrSW5Qb3N0VGVtcGxhdGUodGhpcy5QYXNzZW5nZXJBcnJheSwgXCJDaGVja0luXCIsIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LCB0aGlzLlNlZ21lbnRMaXN0LCBjaGVja2ludHlwZSwgdGhpcy5TaG9ydENoZWNrQWlycG9ydENvZGUsIHRoaXMuX3NoYXJlZC5HZXRCYWdUYWcoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tpbi5DaGVja0luUGF4KHJlcXVlc3QpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLkNoZWNrSW5SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuR2V0UGFzc2VuZ2VycmVmcmVzaChpZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldFBhc3Nlbmdlcig8T3JkZXIuUm9vdE9iamVjdD5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUE9TTG9jYXRpb24gPSBBcHBsaWNhdGlvblNldHRpbmdzLmdldFN0cmluZyhcInVzZXJkZXRhaWxzXCIsIFwiXCIpLnN1YnN0cigwLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuU2VnbWVudHMuZmlsdGVyKG0gPT4gbS5PcmlnaW4uQWlycG9ydENvZGUgPT0gUE9TTG9jYXRpb24pWzBdLlN0YXR1cy5pc1dhaXRsaXN0ZWRQYXNzZW5nZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldElzV2FpdGxpc3RlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoZXJyb3IpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQuZm9yRWFjaCgoc2VnLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWcuRVRLVFN0YXR1c05PVE9LID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB2YXIgZW5kRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIlNlYXJjaFBheEJ5T3JkZXJJRCBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBFbmQgRGF0ZSBUaW1lIDogXCIgKyBlbmREYXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJTZWFyY2hQYXhCeU9yZGVySUQgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICBBcHBFeGVjdXRpb250aW1lLkV4ZWN1dGlvblRpbWUobmV3IERhdGUoc3RhcnREYXRlKSwgbmV3IERhdGUoZW5kRGF0ZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAvLyB9LCAxNTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBGUVRWKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZxdHYxID0gdGhpcy5fc2hhcmVkLkdldEZRVFYoKTtcbiAgICAgICAgdGhpcy5mcXR2Lmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudC5mb3JFYWNoKChTZWdFbGUsIFNlZ0luZGV4KSA9PiB7XG4gICAgICAgICAgICBTZWdFbGUuUGFzc2VuZ2VyLmZvckVhY2goKFBheEVsZSwgUGF4SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBQYXhFbGUuRnF0dlByb2dyYW1zID0gQ29udmVydGVycy5Db252ZXJ0VG9GUVRWKHRoaXMuZnF0djEpO1xuICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmRpcihQYXhFbGUuRnF0dlByb2dyYW1zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U2VjdXJpdHlEb2MoaWQ6IHN0cmluZywgaXRlbTogTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyLCBpbmRleE9mUGFzc2VuZXI6IGFueSk6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXhPZlBhc3NlbmVyKTtcbiAgICAgICAgICAgIHZhciBzRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIkdldCBQYXNzZW5nZXIgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gU3RhcnQgRGF0ZSBUaW1lIDogXCIgKyBzRGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRBZHVsdFNlY3VyaXR5RGF0YShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRTZWN1cml0eURvY3VtZW50KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3JpZ2luXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLkdldFBhc3NlbmdlcihpZCwgYm9hcmQpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0UGFzc2VuZ2VyKGRhdGEpO1xuICAgICAgICAgICAgICAgIGxldCBzY1RhYmxlOiBhbnlbXSA9IHRoaXMuX3NoYXJlZC5HZXRTdGFydHVwVGFibGUoKS5UYWJsZXMuU2VjdXJpdHlDb2RlVGFibGU7XG4gICAgICAgICAgICAgICAgbGV0IFBhc3NlbmdlckFycmF5OiBhbnkgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb0ZsaWdodFdpdGhQYXhUZW1wbGF0ZSh0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCksIG51bGwsIHNjVGFibGUsIFwiXCIpO1xuICAgICAgICAgICAgICAgIGxldCBtdWx0aVNlZ21lbnQgPSBQYXNzZW5nZXJBcnJheTtcbiAgICAgICAgICAgICAgICBtdWx0aVNlZ21lbnQuU2VnbWVudC5mb3JFYWNoKChzZWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlZy5MZWdzID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W2luZGV4XS5MZWdzO1xuICAgICAgICAgICAgICAgICAgICBzZWcuaW5ib3VuZCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtpbmRleF0uaW5ib3VuZDtcbiAgICAgICAgICAgICAgICAgICAgc2VnLm91dGJvdW5kID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W2luZGV4XS5vdXRib3VuZDtcbiAgICAgICAgICAgICAgICAgICAgc2VnLmludmVuID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W2luZGV4XS5pbnZlbjtcbiAgICAgICAgICAgICAgICAgICAgc2VnLnN0YXR1cyA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtpbmRleF0uc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBzZWcuRmxpZ2h0RGF0ZSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtpbmRleF0uRmxpZ2h0RGF0ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0U2VnbWVudERldGFpbChtdWx0aVNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzID0gdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vycy5mb3JFYWNoKChwYXNzZW5nZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2VuZ2VyLkRvY3VtZW50cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3Nlbmdlci5Eb2N1bWVudHMgPSBbbmV3IERvY3VtZW50KCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL3RoaXMuX3NoYXJlZC5TZXRQYXNzZW5nZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vycy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5BcGlzRG9jb1N0YXR1cyAhPSBcIkNvbXBsZXRlXCIgfHwgKGVsZW1lbnQuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiICYmIGVsZW1lbnQuRG9jdW1lbnRzLmxlbmd0aCA+IDAgJiYgZWxlbWVudC5Eb2N1bWVudHNbMF0uSXNUcnVzdGVkRGF0YSAhPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1ZmZpeExpc3QgPSBlbGVtZW50LkZpcnN0bmFtZS5zcGxpdCh0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuRmlyc3RuYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VmZml4ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1ZmZpeExpc3QubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBzdWZmaXhMaXN0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbWVudC5GaXJzdG5hbWUgPT0gdGhpcy5fc2hhcmVkLkdldEFQSVNEb2N1bWVudCgpLkZpcnN0bmFtZS5yZXBsYWNlKFwiIFwiLCBcIlwiKSAmJiBlbGVtZW50Lkxhc3RuYW1lID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5TdXJuYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpKSB8fCAoZWxlbWVudC5MYXN0bmFtZSA9PSB0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuU3VybmFtZS5yZXBsYWNlKFwiIFwiLCBcIlwiKSAmJiB0aGlzLlN1ZmZpeExpc3QuZmlsdGVyKG0gPT4gbSA9PSBzdWZmaXgudG9VcHBlckNhc2UoKSkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbnNpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbaW5kZXhdLkRvY3VtZW50c1swXSA9IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vyc1tpbmRleF0uRG9jdW1lbnRzWzBdLkNvdW50cnlPZlJlc2lkZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLlN1ZmZpeExpc3QuZmlsdGVyKG0gPT4gbSA9PSBzdWZmaXgudG9VcHBlckNhc2UoKSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5fc2hhcmVkLkdldEFQSVNEb2N1bWVudCgpLkZpcnN0bmFtZSA9IHRoaXMuX3NoYXJlZC5HZXRTY2FuQVBJU0RvY3VtZW50KCkuRmlyc3RuYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpICsgc3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbaW5kZXhdLkRvY3VtZW50c1swXS5pbnB1dFR5cGUgPSBcIk1hY2hpbmUgUmVhZGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Eb2NJc3N1ZUNvdW50cnkpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc3N1ZUNvdW50cnkgPSB0aGlzLl9zaGFyZWQuR2V0Q291bnRyeSgpLkNvbGxlY3Rpb24uZmlsdGVyKG0gPT4gbS5JU08zQ291bnRyeUNvZGUgPT0gdGhpcy5fc2hhcmVkLkdldEFQSVNEb2N1bWVudCgpLkRvY0lzc3VlQ291bnRyeSlbMF0uQ291bnRyeUNvZGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbaW5kZXhdLkRvY3VtZW50c1swXS5Eb2NJc3N1ZUNvdW50cnkgPSBpc3N1ZUNvdW50cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Db3VudHJ5T2ZSZXNpZGVuY2UpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNpZGVuY2VDb3VudHJ5ID0gdGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Db3VudHJ5T2ZSZXNpZGVuY2UpWzBdLkNvdW50cnlDb2RlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzW2luZGV4XS5Eb2N1bWVudHNbMF0uQ291bnRyeU9mUmVzaWRlbmNlID0gcmVzaWRlbmNlQ291bnRyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Eb2NIb2xkZXJOYXRpb25hbGl0eSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY0hvbGRlck5hdGlvbmFsaXR5ID0gdGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Eb2NIb2xkZXJOYXRpb25hbGl0eSlbMF0uQ291bnRyeUNvZGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbaW5kZXhdLkRvY3VtZW50c1swXS5Eb2NIb2xkZXJOYXRpb25hbGl0eSA9IGRvY0hvbGRlck5hdGlvbmFsaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vyc1tpbmRleF0uRG9jdW1lbnRzWzBdLmlucHV0VHlwZSA9IFwiTWFudWFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgYXBpc1Bhc3NlbmdlcjogYW55ID0gdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2VycztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLlNlY3VyaXR5RGV0YWlscyk7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwZWROYW1lOiBzdHJpbmcgPSB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZpbHRlcihtID0+IG0uRmlyc3RuYW1lID09IGl0ZW0uRmlyc3ROYW1lICYmIG0uTGFzdG5hbWUgPT0gaXRlbS5MYXN0TmFtZSlbMF0uR3JvdXBlZEdpdmVuTmFtZTtcbiAgICAgICAgICAgICAgICBsZXQgcGFzc2VuZ2VyTmFtZXM6IEFycmF5PGFueT4gPSBhcGlzUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uR3JvdXBlZEdpdmVuTmFtZSA9PSBncm91cGVkTmFtZSk7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwQXJyYXk6IEFycmF5PHN0cmluZz4gPSBncm91cGVkTmFtZS5zcGxpdCgnLycpXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkR3JvdXBBcnJheTogQXJyYXk8YW55PiA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZElORkdyb3VwQXJyYXk6IEFycmF5PGFueT4gPSBbXTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEdyb3VwQXJyYXkubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElORkdyb3VwQXJyYXkubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgUGFzc2VuZ2VySW5kZXg6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgUGFzc2VuZ2VySU5GSW5kZXg6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgICAgICAgICAgICAgICBQYXNzZW5nZXJJbmRleC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIFBhc3NlbmdlcklORkluZGV4Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5QYXNzZW5nZXJBcnJheS5mb3JFYWNoKChlbGVtZW50LGluZGV4KT0+e1xuICAgICAgICAgICAgICAgIC8vIGxldCBwYXNzZW5nZXI6TXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyID0gbmV3IE11bHRpU2VnbWVudFRlbXBsYXRlLlBhc3NlbmdlcigpO1xuICAgICAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICAgICAgbGV0IGlzRG9uZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChncm91cGVkTmFtZSAhPSBcIlwiICYmIGdyb3VwZWROYW1lLnNwbGl0KCcvJykubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBncm91cGVkTmFtZS5zcGxpdCgnLycpLmZvckVhY2goKGVsZW1lbnQsIGdJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uRmlyc3ROYW1lID09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlzUGFzc2VuZ2VyLmZvckVhY2goKHBhc3MsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3MuRmlyc3RuYW1lID09IGl0ZW0uRmlyc3ROYW1lICYmIHBhc3MuTGFzdG5hbWUgPT0gaXRlbS5MYXN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiICYmIHBhc3MuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gbnVsbCAmJiBwYXNzLkFwaXNEb2NvU3RhdHVzID09IFwiQ29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXNzLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQ09LXCIgJiYgcGFzcy5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJCWVBBU1NFRFwiIHx8IHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJBVVRPQllQQVNTRURcIikgJiYgcGFzcy5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc2VuZ2VySW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3NlbmdlcklORkluZGV4LnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncm91cE5hbWVMaXN0ID0gcGFzc2VuZ2VyTmFtZXMuZmlsdGVyKG0gPT4gbS5GaXJzdG5hbWUgPT0gZWxlbWVudClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwSW5pdGlhbDogYW55ID0geyAnRmlyc3RuYW1lJzogJycsICdMYXN0bmFtZSc6ICcnIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJbml0aWFsLkZpcnN0bmFtZSA9IGdyb3VwTmFtZUxpc3QuRmlyc3RuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSW5pdGlhbC5MYXN0bmFtZSA9IGdyb3VwTmFtZUxpc3QuTGFzdG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoIWlzRG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNQYXNzZW5nZXIuZm9yRWFjaCgocGFzcywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFzcy5GaXJzdG5hbWUgPT0gZ3JvdXBJbml0aWFsLkZpcnN0bmFtZSAmJiBwYXNzLkxhc3RuYW1lID09IGdyb3VwSW5pdGlhbC5MYXN0bmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiICYmIHBhc3MuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFzcy5BZGNEZWNpc2lvblN0YXR1cyA9PSBudWxsICYmIHBhc3MuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFzcy5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiICYmIHBhc3MuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJCWVBBU1NFRFwiIHx8IHBhc3MuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJBVVRPQllQQVNTRURcIikgJiYgcGFzcy5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEdyb3VwQXJyYXkucHVzaChncm91cEluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJTkZHcm91cEFycmF5LnB1c2goZ3JvdXBJbml0aWFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vycy5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3MuRmlyc3RuYW1lID09IGl0ZW0uRmlyc3ROYW1lICYmIHBhc3MuTGFzdG5hbWUgPT0gaXRlbS5MYXN0TmFtZSAmJiBwYXNzLlJQSCA9PSBpdGVtLlJQSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3NlbmdlckluZGV4LnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3NlbmdlcklORkluZGV4LnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRQYXNzZW5nZXJMaXN0OiBBcnJheTxNdWx0aVNlZ21lbnRUZW1wbGF0ZS5QYXNzZW5nZXI+ID0gW25ldyBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5QYXNzZW5nZXIoKV07XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cGVkTmFtZSAhPSBudWxsICYmIGdyb3VwZWROYW1lICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwZWROYW1lLnNwbGl0KCcvJykuZm9yRWFjaCgoZ3JvdXBzLCBnSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBhc3Nlbmdlckxpc3QucHVzaChlbGVtZW50LlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBncm91cHMpWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvL2xldCBpdGVtSW5kZXg6YW55ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRpcihzZWxlY3RlZFBhc3Nlbmdlckxpc3QpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKGdyb3VwQXJyYXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdXJpdHlEYXRhcy5BcGlzVXBkYXRlUmVxdWVzdHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAvL2xldCBzZWN1cml0eURhdGFMaXN0OiBBcnJheTxTZWN1cml0eU1vZGVsPiA9IFtdXG4gICAgICAgICAgICAgICAgLy9zZWN1cml0eURhdGFMaXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gc2VjdXJpdHlEYXRhTGlzdFswXS5BcGlzVXBkYXRlUmVxdWVzdHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAvL3RoaXMuc2VjdXJpdHlEYXRhcy5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRG9jdW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGlzSW50ZXJuYXRpb25hbDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudC5mb3JFYWNoKChzZWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWcuSXNJbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ludGVybmF0aW9uYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzSW50ZXJuYXRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXBpc0l0ZW06IEFycmF5PE11bHRpU2VnbWVudFRlbXBsYXRlLlBhc3Nlbmdlcj4gPSBbbmV3IE11bHRpU2VnbWVudFRlbXBsYXRlLlBhc3NlbmdlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgYXBpc0l0ZW0ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5mb3JFYWNoKChwYXNzRWxlbWVudHMsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzSXRlbS5wdXNoKHBhc3NFbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgQURDYnlQYXNzOiBhbnlbXSA9IHRoaXMuX3NoYXJlZC5HZXRTdGFydHVwVGFibGUoKS5UYWJsZXMuQnlQYXNzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXBBcnJheS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwQXJyYXkuZmlsdGVyKG0gPT4gbSA9PSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyW2luZGV4XS5GaXJzdE5hbWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXJbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNDb250aW51ZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LkFkY0RlY2lzaW9uU3RhdHVzID09IFwiT0tcIiAmJiBlbGVtZW50LkFwaXNEb2NvU3RhdHVzID09IFwiQ29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiICYmIGVsZW1lbnQuQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29udGludWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoZWxlbWVudC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkJZUEFTU0VEXCIgfHwgZWxlbWVudC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkFVVE9CWVBBU1NFRFwiKSAmJiBlbGVtZW50LkFwaXNEb2NvU3RhdHVzID09IFwiQ29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQYXNzZW5nZXJJbmRleFswXSAhPSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkR3JvdXBBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRHcm91cEFycmF5LmZvckVhY2goZ3JvdXBOYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwTmFtZS5GaXJzdG5hbWUgPT0gZWxlbWVudC5GaXJzdG5hbWUgJiYgZ3JvdXBOYW1lLkxhc3RuYW1lID09IGVsZW1lbnQuTGFzdG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3NlbmdlckluZGV4LnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc2VuZ2VySU5GSW5kZXgucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlbS5MYXN0TmFtZSA9IHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbMF0uTGFzdG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChlbGVtZW50LkZpcnN0bmFtZSA9PSBpdGVtLkZpcnN0TmFtZSAmJiBlbGVtZW50Lkxhc3RuYW1lID09IGl0ZW0uTGFzdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYodGhpcy5TZWN1cml0eURldGFpbHMuUGFzc2VuZ2Vyc1swXS5Eb2N1bWVudHNbMF0uRmlyc3RuYW1lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuU2VjdXJpdHlEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcGlzVXBkYXRlUmVxdWVzdHM6IEFwaXNVcGRhdGVSZXF1ZXN0ID0gbmV3IEFwaXNVcGRhdGVSZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlsID0gQ29udmVydGVycy5Db252ZXJ0VG9QYXNzZW5nZXJzRGV0YWlsKHRoaXMuU2VjdXJpdHlEZXRhaWxzLCBhcGlzSXRlbVtpbmRleF0sIHRoaXMuQ291bnRyeUxpc3QsIHRoaXMuQ291bnRyeUl0ZW1zLCBBRENieVBhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIodGhpcy5QYXNzZW5nZXJEZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWN1cml0eURhdGFzLkFwaXNEb2NvU3RhdHVzID0gZWxlbWVudC5BcGlzRG9jb1N0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VjdXJpdHlEYXRhcy5BRENTdGF0dXMgPSBlbGVtZW50LkFkY0RlY2lzaW9uU3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWN1cml0eURhdGFzLkJ5cGFzc0FEQyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3VyaXR5RGF0YXMuT3JkZXJVcGRhdGVSZXF1ZXN0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlY3VyaXR5RGF0YUxpc3QucHVzaCh0aGlzLnNlY3VyaXR5RGF0YXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkxhc3RuYW1lID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkxhc3RuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkZpcnN0bmFtZSA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5GaXJzdG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuU3VybmFtZVJlZk51bWJlciA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5TdXJuYW1lUmVmTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLlByZWZpeCA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5QcmVmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuUlBIID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLlJQSDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5FbWFpbHMgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRW1haWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkdlbmRlciA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5HZW5kZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuUGFzc2VuZ2VyVHlwZUNvZGUgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uUGFzc2VuZ2VyVHlwZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuRGF0ZU9mQmlydGggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRGF0ZU9mQmlydGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuQWdlID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5GcXRUcmF2ZWxlcnMgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRnF0VHJhdmVsZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkFzc29jaWF0ZWRJbmZhbnRSUEggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXNzb2NpYXRlZEluZmFudFJQSDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5Bc3NvY2lhdGVkQWR1bHRSUEggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXNzb2NpYXRlZEFkdWx0UlBIO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLk5hdGlvbmFsaXR5ID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLk5hdGlvbmFsaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkFwaXNSZXF1aXJlbWVudHMgPSBbbmV3IEFwaXNSZXF1aXJlbWVudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5BcGlzQWRkcmVzc1JlcXVpcmVtZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuUGhvbmVOdW1iZXJzID0gW25ldyBQaG9uZU51bWJlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5QaG9uZU51bWJlcnMgPSBpdGVtLlBob25lTnVtYmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5BZGRyZXNzZXMgPSBbbmV3IEFkZHJlc3MoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuQWRkcmVzc2VzID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFkZHJlc3NlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5Eb2N1bWVudHMgPSBbbmV3IERvY3VtZW50KCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkVtZXJnZW5jeURldGFpbHMgPSBbbmV3IEVtZXJnZW5jeURldGFpbCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5FbWVyZ2VuY3lEZXRhaWxzWzBdLkVtZXJnZW5jeVBob25lID0gbmV3IEVtZXJnZW5jeVBob25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuS25vd25UcmF2ZWxlck51bWJlciA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Lbm93blRyYXZlbGVyTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLk9sZEtub3duVHJhdmVsZXJOdW1iZXIgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uS25vd25UcmF2ZWxlck51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5SZWRyZXNzTnVtYmVyID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLlJlZHJlc3NOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuT2xkUmVkcmVzc051bWJlciA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5PbGRSZWRyZXNzTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkZPSUQgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRk9JRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5PbGROYXRpb25hbGl0eSA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5PbGROYXRpb25hbGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5PbGREYXRlT2ZCaXJ0aCA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5PbGREYXRlT2ZCaXJ0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5PbGRHZW5kZXIgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uT2xkR2VuZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLk9sZEVtZXJnZW5jeURldGFpbHMgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRW1lcmdlbmN5RGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5OYXRpb25hbGl0eSA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5OYXRpb25hbGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5HaXZlbk5hbWUgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uR2l2ZW5OYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zZWN1cml0eURhdGFzLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Bc3NvY2lhdGVkUGFzc2VuZ2VyID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFzc29jaWF0ZWRQYXNzZW5nZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuRW1lcmdlbmN5RGV0YWlscyA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5FbWVyZ2VuY3lEZXRhaWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLlB1cnBvc2VPZlZpc2l0ID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLlB1cnBvc2VPZlZpc2l0ICE9IFwiXCIgPyBcIlRvdXJpc3RcIiA6IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5QdXJwb3NlT2ZWaXNpdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5FeGl0RGF0ZUp1c3RpZmljYXRpb24gPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRXhpdERhdGVKdXN0aWZpY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkV4aXREYXRlID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkV4aXREYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIodGhpcy5QYXNzZW5nZXJEZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0cy5mb3JFYWNoKChwYXNzZW5nZXJFbGVtZW50LCBwYXNzSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VuZ2VyRWxlbWVudC5Eb2N1bWVudHMuZm9yRWFjaCgoZWxlbWVudCwgYXBpc0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VmZml4TGlzdCA9IHBhc3NlbmdlckVsZW1lbnQuRmlyc3RuYW1lLnNwbGl0KHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5GaXJzdG5hbWUucmVwbGFjZShcIiBcIiwgXCJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1ZmZpeCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1ZmZpeExpc3QubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeCA9IHN1ZmZpeExpc3RbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuU3VybmFtZS5yZXBsYWNlKFwiIFwiLCBcIlwiKSA9PSBpdGVtLkxhc3ROYW1lICYmIHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5GaXJzdG5hbWUucmVwbGFjZShcIiBcIiwgXCJcIikgPT0gaXRlbS5GaXJzdE5hbWUpIHx8IChpdGVtLkxhc3ROYW1lID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5TdXJuYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpICYmIHRoaXMuU3VmZml4TGlzdC5maWx0ZXIobSA9PiBtID09IHN1ZmZpeC50b1VwcGVyQ2FzZSgpKS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1twYXNzSW5kZXhdLkRvY3VtZW50c1swXSA9IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbcGFzc0luZGV4XS5Eb2N1bWVudHNbMF0uaW5wdXRUeXBlID0gXCJNYWNoaW5lIFJlYWRhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuRG9jSXNzdWVDb3VudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zaGFyZWQuR2V0Q291bnRyeSgpLkNvbGxlY3Rpb24uZmlsdGVyKG0gPT4gbS5JU08zQ291bnRyeUNvZGUgPT0gdGhpcy5fc2hhcmVkLkdldEFQSVNEb2N1bWVudCgpLkRvY0lzc3VlQ291bnRyeSlbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5fc2hhcmVkLkdldENvdW50cnkoKS5Db2xsZWN0aW9uLmZpbHRlcihtID0+IG0uSVNPM0NvdW50cnlDb2RlID09IHRoaXMuX3NoYXJlZC5HZXRBUElTRG9jdW1lbnQoKS5Db3VudHJ5T2ZSZXNpZGVuY2UpWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3NoYXJlZC5HZXRDb3VudHJ5KCkuQ29sbGVjdGlvbi5maWx0ZXIobSA9PiBtLklTTzNDb3VudHJ5Q29kZSA9PSB0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuRG9jSG9sZGVyTmF0aW9uYWxpdHkpWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzRG9jb1N0YXR1cyAhPSBcIkNvbXBsZXRlXCIgfHwgKHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNEb2NvU3RhdHVzID09IFwiQ29tcGxldGVcIiAmJiBwYXNzZW5nZXJFbGVtZW50LkRvY3VtZW50cy5sZW5ndGggPiAwICYmIHBhc3NlbmdlckVsZW1lbnQuRG9jdW1lbnRzWzBdLklzVHJ1c3RlZERhdGEgIT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzW3Bhc3NJbmRleF0uRG9jdW1lbnRzWzBdLkNvdW50cnlPZlJlc2lkZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1twYXNzSW5kZXhdLkRvY3VtZW50c1swXS5PQ1JTdHJpbmcgPSB0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuT0NSU3RyaW5nLnNwbGl0KCdcXG4nKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzW3Bhc3NJbmRleF0uRG9jdW1lbnRzWzBdLklzVHJ1c3RlZERhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbcGFzc0luZGV4XS5Eb2N1bWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzW3Bhc3NJbmRleF0uRG9jdW1lbnRzW2luZGV4XS5GaXJzdG5hbWUgPSB0aGlzLl9zaGFyZWQuR2V0QVBJU0RvY3VtZW50KCkuRmlyc3RuYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50LlN1cm5hbWUgPT0gaXRlbS5MYXN0TmFtZSAmJiBlbGVtZW50LkZpcnN0bmFtZSA9PSBpdGVtLkZpcnN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuT0NSU3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbcGFzc0luZGV4XS5Eb2N1bWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5Eb2N1bWVudHMgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uRG9jdW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5BcGlzUmVxdWlyZW1lbnRzICE9IG51bGwgJiYgdGhpcy5QYXNzZW5nZXJEZXRhaWwuQXBpc1VwZGF0ZVJlcXVlc3RzWzBdLkFwaXNSZXF1aXJlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5BcGlzUmVxdWlyZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkFwaXNSZXF1aXJlbWVudHMgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXBpc1JlcXVpcmVtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXBpc0FkZHJlc3NSZXF1aXJlbWVudHMgIT0gbnVsbCAmJiB0aGlzLlBhc3NlbmdlckRldGFpbC5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXBpc0FkZHJlc3NSZXF1aXJlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5BcGlzQWRkcmVzc1JlcXVpcmVtZW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaXNVcGRhdGVSZXF1ZXN0cy5BcGlzQWRkcmVzc1JlcXVpcmVtZW50cyA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5BcGlzQWRkcmVzc1JlcXVpcmVtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcGlzVXBkYXRlUmVxdWVzdHMuQWRkcmVzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWRkcmVzc2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VjdXJpdHlEYXRhcy5GcXRUcmF2ZWxlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VjdXJpdHlEYXRhcy5GcXRUcmF2ZWxlcnM9dGhpcy5QYXNzZW5nZXJEZXRhaWwuRnF0VHJhdmVsZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5PcmRlcklEID0gdGhpcy5PcmRlcklEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Eb2N1bWVudFR5cGVMaXN0ID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuRG9jdW1lbnRUeXBlTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRG9jdW1lbnRUeXBlID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuRG9jdW1lbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Eb2NUeXBlSW5kZXggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5Eb2NUeXBlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRvY0lzc3VlQ291bnRyeUluZGV4ID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuRG9jSXNzdWVDb3VudHJ5SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk5hdGlvbmFsaXR5SW5kZXggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5OYXRpb25hbGl0eUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZXNpZGVuY2VDb2RlSW5kZXggPSB0aGlzLlBhc3NlbmdlckRldGFpbC5SZXNpZGVuY2VDb2RlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdERvY3VtZW50VHlwZSA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Eb2N1bWVudHMubGVuZ3RoID4gMCA/IHRoaXMuUGFzc2VuZ2VyRGV0YWlsLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Eb2N1bWVudHNbMF0uRG9jVHlwZSA6IFwiMlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5BRENCeVBhc3NMaXN0ID0gdGhpcy5QYXNzZW5nZXJEZXRhaWwuQURDQnlQYXNzTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQURDQnlQYXNzTmFtZUxpc3QgPSB0aGlzLlBhc3NlbmdlckRldGFpbC5BRENCeVBhc3NOYW1lTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXREb2N1bWVudFR5cGUodGhpcy5QYXNzZW5nZXJEZXRhaWwuRG9jdW1lbnRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcGlzVXBkYXRlUmVxdWVzdHMuRG9jdW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBpc1VwZGF0ZVJlcXVlc3RzLkRvY3VtZW50c1swXS5Eb2NIb2xkZXJHZW5kZXIgPT0gXCJNYWxlXCIgfHwgYXBpc1VwZGF0ZVJlcXVlc3RzLkRvY3VtZW50c1swXS5Eb2NIb2xkZXJHZW5kZXIgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5kZXIgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpc1VwZGF0ZVJlcXVlc3RzLkRvY3VtZW50c1swXS5Eb2NIb2xkZXJHZW5kZXIgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXBpc1VwZGF0ZVJlcXVlc3RzLkRvY3VtZW50c1swXS5Eb2NIb2xkZXJHZW5kZXIgPT0gXCJGZW1hbGVcIiB8fCBhcGlzVXBkYXRlUmVxdWVzdHMuRG9jdW1lbnRzWzBdLkRvY0hvbGRlckdlbmRlciA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmRlciA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlzVXBkYXRlUmVxdWVzdHMuRG9jdW1lbnRzWzBdLkRvY0hvbGRlckdlbmRlciA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZGVyID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VjdXJpdHlEYXRhTGlzdFtpbmRleF0uQXBpc1VwZGF0ZVJlcXVlc3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlY3VyaXR5RGF0YUxpc3RbaW5kZXhdLkFwaXNVcGRhdGVSZXF1ZXN0cy5wdXNoKGFwaXNVcGRhdGVSZXF1ZXN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3VyaXR5RGF0YXMuQXBpc1VwZGF0ZVJlcXVlc3RzLnB1c2goYXBpc1VwZGF0ZVJlcXVlc3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdC5tYWtlVGV4dChcIkFQSSBkYXRhIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoZSBQYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmbGlnaHREZXRhaWxzOiBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5GbGlnaHRXaXRoUGF4ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX3NoYXJlZC5TZXRTZWN1cml0eURvY3VtZW50KHRoaXMuc2VjdXJpdHlEYXRhcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKS5QYXNzZW5nZXJzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGVsZW1lbnQuUlBIKVswXS5BZGNEZWNpc2lvblN0YXR1cyA9IGVsZW1lbnQuQWRjRGVjaXNpb25TdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGVsZW1lbnQuUlBIKVswXS5BcGlzRG9jb1N0YXR1cyA9IGVsZW1lbnQuQXBpc0RvY29TdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRTZWN1cml0eURvY3VtZW50KHRoaXMuc2VjdXJpdHlEYXRhcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY3VyaXR5RGF0YXMuQXBpc1VwZGF0ZVJlcXVlc3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtOiBBcnJheTxhbnk+ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cEFycmF5LmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnB1c2godGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBuYW1lKVswXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0U2VsZWN0ZWRQYXNzZW5nZXIoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0U2VsZWN0ZWRQYXNzZW5nZXIoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEFQSVNQYXNzZW5nZXJMaXN0KGFwaXNJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldFNlY3VyaXR5UGFzc2VuZ2VyTGlzdCh0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIoYXBpc0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRpcihpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldERvY3VtZW50VHlwZUxpc3QodGhpcy5Eb2N1bWVudFR5cGVMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEFEQ0J5UGFzc05hbWVMaXN0KHRoaXMuQURDQnlQYXNzTmFtZUxpc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QURDQnlQYXNzTGlzdCh0aGlzLkFEQ0J5UGFzc0xpc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0TXVsdGlTZWdtZW50UGF4KHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9zaGFyZWQuU2V0VXNlclByb2ZpbGUodGhpcy5Qcm9maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEZsaWdodERldGFpbHMoZmxpZ2h0RGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWdJbmRleDogYW55O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQuZm9yRWFjaCgoc2VnLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZy5Jc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0UmVzaWRlbnRDYXJkKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtzZWdJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLnNlY3VyaXR5RGF0YXMpO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZGlyKHRoaXMuc2VjdXJpdHlEYXRhcyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc0lOSElCSVQgPSBpdGVtLlNlY3VyaXR5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VjdXJpdHlEYXRhcy5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXNzb2NpYXRlZEFkdWx0UlBIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2NTdGF0dXMgPSB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZpbHRlcihtID0+IG0uUlBIID09IHRoaXMuc2VjdXJpdHlEYXRhcy5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXNzb2NpYXRlZEFkdWx0UlBIKVswXS5BcGlzRG9jb1N0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkdWx0aXRlbTogTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyID0gbmV3IE11bHRpU2VnbWVudFRlbXBsYXRlLlBhc3NlbmdlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkdWx0QW5kSW5mYW50OiBhbnkgPSB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZpbHRlcihtID0+IG0uUlBIID09IHRoaXMuc2VjdXJpdHlEYXRhcy5BcGlzVXBkYXRlUmVxdWVzdHNbMF0uQXNzb2NpYXRlZEFkdWx0UlBIKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdWx0aXRlbS5GaXJzdE5hbWUgPSBhZHVsdEFuZEluZmFudC5GaXJzdG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHVsdGl0ZW0uUlBIID0gYWR1bHRBbmRJbmZhbnQuUlBIO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR1bHRpdGVtLlN1cm5hbWVSZWZOdW1iZXIgPSBhZHVsdEFuZEluZmFudC5TdXJuYW1lUmVmTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR1bHRpdGVtLlBhc3NlbmdlclR5cGVDb2RlID0gYWR1bHRBbmRJbmZhbnQuUGFzc2VuZ2VyVHlwZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jU3RhdHVzID09IFwiQ29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBBZHVsdFBhc3NlbmdlckRldGFpbCA9IENvbnZlcnRlcnMuQ29udmVydFRvUGFzc2VuZ2Vyc0RldGFpbCh0aGlzLlNlY3VyaXR5RGV0YWlscywgYWR1bHRpdGVtLCB0aGlzLkNvdW50cnlMaXN0LCB0aGlzLkNvdW50cnlJdGVtcywgQURDYnlQYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QWR1bHRTZWN1cml0eURhdGEoQWR1bHRQYXNzZW5nZXJEZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKFBhc3NlbmdlckluZGV4ICsgXCJpbmRleHh4eHhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9BcGlzKGlzSU5ISUJJVCwgUGFzc2VuZ2VySW5kZXgsIGluZGV4T2ZQYXNzZW5lciwgUGFzc2VuZ2VySU5GSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkNvbXBsZXRlIEFQSVMgQXNzb2NpYXRlZCBBZHVsdCBQYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIoUGFzc2VuZ2VySW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9BcGlzKGlzSU5ISUJJVCwgUGFzc2VuZ2VySW5kZXgsIGluZGV4T2ZQYXNzZW5lciwgUGFzc2VuZ2VySU5GSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuU2VjdXJpdHlEZXRhaWxzLlNlZ21lbnRzW3RoaXMuY3VycmVudFBhZ2VdLlN0YXR1cy5TdGF0dXNDYXRlZ29yeSA9PSBcIldhaXRsaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJBREMvQVBJUyBjb2xsZWN0aW9uIGlzIG5vdCBhbGxvd2VkIGF0IHRoaXMgdGltZS4gSWYgbmVlZGVkLCBBREMvQVBJUyBpbmZvcm1haXRvbiB3aWxsIGJlIGNvbGxlY3RlZCBhZnRlciB0aGUgY2hlY2sgaW4gYnV0dG9uIGlzIGNsaWNrZWQuXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJBUEkgZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGUgUGFzc2VuZ2VyXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHZhciBlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIkdldCBQYXNzZW5nZXIgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICsgZURhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIkdldCBQYXNzZW5nZXIgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICBBcHBFeGVjdXRpb250aW1lLkV4ZWN1dGlvblRpbWUobmV3IERhdGUoc0RhdGUpLCBuZXcgRGF0ZShlRGF0ZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBJbnRlckxpbmVUaHJvdWdoQ2hlY2tpbihGbGlnaHRkZWF0aWxzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuU2VnbWVudExpc3QgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV07XG4gICAgICAgICAgICBsZXQgY2hlY2tpbnR5cGUgPSB0aGlzLlBhc3NlbmdlckRldGFpbHMuU2VnbWVudHNbdGhpcy5jdXJyZW50UGFnZV0uU3RhdHVzXG4gICAgICAgICAgICAgICAgLlN0YXR1c0NhdGVnb3J5O1xuICAgICAgICAgICAgbGV0IHJlcXVlc3Q6IEludGVybGluZVRocm91Z2hDaGVja2luLlJvb3RPYmplY3QgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb0ludGVybGluZVRocm91Z2hDaGVja0luUG9zdFRlbXBsYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyQXJyYXksXG4gICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QsXG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSxcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgIEZsaWdodGRlYXRpbHMsXG4gICAgICAgICAgICAgICAgY2hlY2tpbnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLFxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5HZXRCYWdUYWcoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHJlcXVlc3QpO1xuICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMgPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzWzBdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzWzBdLkRvY3VtZW50cy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKFBheERhdGEsIFBheEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihvYmogPT4gb2JqLkZpcnN0TmFtZSA9PSBQYXhEYXRhLkZpcnN0TmFtZSAmJiBvYmouTGFzdE5hbWUgPT0gUGF4RGF0YS5MYXN0TmFtZSlbMF0uSXNTZWN1cml0eURvY3NDb21wbGV0ZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHBhc3NlbmdlclR5cGUgPSB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZpbHRlcihtID0+IG0uRmlyc3RuYW1lID09IFBheERhdGEuRmlyc3ROYW1lICYmIG0uTGFzdG5hbWUgPT0gUGF4RGF0YS5MYXN0TmFtZSlbMF0uUGFzc2VuZ2VyVHlwZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAocGFzc2VuZ2VyVHlwZSAhPSBcIklORlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJuYXRpb25hbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NDaGVja0ZvckNoZWNraW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuZG9jQ2hlY2tGb3JDaGVja2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2luLkNoZWNrSW5QYXgocmVxdWVzdCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMuQ2hlY2tJblJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQ2hlY2tJblJlc3BvbnNlLlNlZ21lbnRUcmF2ZWxlckluZm9MaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZWdtZW50VHJhdmVsbGVySW5mbyBBdmlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkU2VnbWVudCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbFNlZ1RyYXZlbGxlckluZm9MaXN0ID0gdGhpcy5DaGVja0luUmVzcG9uc2UuU2VnbWVudFRyYXZlbGVySW5mb0xpc3QuZmlsdGVyKG0gPT4gbS5TZWdtZW50UlBIID09IHNlbGVjdGVkU2VnbWVudC5TZWdtZW50UlBIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbFNlZ1RyYXZlbGxlckluZm9MaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5CbHVldG9vdGhCYWdUYWcgJiYgcmVxdWVzdC5pc01hbnVhbEJhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRCYWdUYWcobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5CbHVldG9vdGhQcmludGVyKHJlcXVlc3QsIHRoaXMuQ2hlY2tJblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ1RhZyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyh0aGlzLlNlZ21lbnRMaXN0LlBhc3NlbmdlclswXS5PcmRlcklEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuR2V0T3JkZXJEZXRhaWxzKHRoaXMuU2VnbWVudExpc3QuUGFzc2VuZ2VyWzBdLk9yZGVySUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJVbmJhbGUgdG8gZmluZCBTZWdtZW50c1wiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5CbHVldG9vdGhCYWdUYWcgJiYgcmVxdWVzdC5pc01hbnVhbEJhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ1RhZyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQmx1ZXRvb3RoUHJpbnRlcihyZXF1ZXN0LCB0aGlzLkNoZWNrSW5SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QmFnVGFnKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHModGhpcy5TZWdtZW50TGlzdC5QYXNzZW5nZXJbMF0uT3JkZXJJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5HZXRPcmRlckRldGFpbHModGhpcy5TZWdtZW50TGlzdC5QYXNzZW5nZXJbMF0uT3JkZXJJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgKHRoaXMuQ2hlY2tJblJlc3BvbnNlLldhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3MgJiYgdGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dCh0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5nc1swXS5NZXNzYWdlKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IHBhc3MuRmlyc3ROYW1lKVswXS5Jc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkbnQgZmluZCBpbmZvcm1hdGlvbiBmb3IgdGhpcyBPcmRlcklEIFwiICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJBcGlzIERhdGEgaXMgUmVxdWlyZWRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG9jQ2hlY2tGb3JDaGVja2luID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJHZXQgUGFzc2VuZ2VyIFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIEVuZCBEYXRlIFRpbWUgOiBcIiArIGVuZERhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0IFBhc3NlbmdlciBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogJyArIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzdGFydERhdGUpLCBuZXcgRGF0ZShlbmREYXRlKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdvdG9EUlMoaXRlbTogYW55LCBpbmRleDogYW55KSB7XG4gICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICBsZXQgUGFnZSA9IGl0ZW0uU2VjdXJpdHlWYWx1ZS5IZWxwLlBhZ2U7XG4gICAgICAgIGxldCBTdWJqZWN0ID0gaXRlbS5TZWN1cml0eVZhbHVlLkhlbHAuU3ViamVjdDtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gaXRlbS5TZWN1cml0eVZhbHVlLkhlbHAuQ2F0ZWdvcnk7XG4gICAgICAgIGNvbnNvbGUubG9nKFBhZ2UgKyBcIiBcIiArIFN1YmplY3QgKyBcIiBcIiArIGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5fY2hlY2tpbi5EcnNQYWdlKFwiXCIsIFwiXCIsIFwiXCIpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgbGV0IGNhdGVnb3J5TmFtZSA9IGRhdGEuQ2F0ZWdvcmllcy5maWx0ZXIobSA9PiBtLlZhbHVlID09IGNhdGVnb3J5KVswXS5UZXh0XG4gICAgICAgICAgICB0aGlzLl9jaGVja2luLkRyc1BhZ2UoY2F0ZWdvcnksIFwiXCIsIFwiXCIpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgU3ViamVjdE5hbWUgPSBkYXRhLlN1YmplY3RzLmZpbHRlcihtID0+IG0uVmFsdWUgPT0gU3ViamVjdClbMF0uVGV4dFxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNraW4uRHJzUGFnZShjYXRlZ29yeSwgU3ViamVjdCwgXCJcIikuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgUGFnZU5hbWUgPSBkYXRhLlBhZ2VzLmZpbHRlcihtID0+IG0uVmFsdWUgPT0gUGFnZSlbMF0uVGV4dFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2luLkRyc1BhZ2UoY2F0ZWdvcnksIFN1YmplY3QsIFBhZ2UpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbnM6IE1vZGFsRGlhbG9nT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Q29udGFpbmVyUmVmOiB0aGlzLnZjUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IFtkYXRhLkNvbnRlbnRzWzBdLlRleHQsIFBhZ2VOYW1lLCBTdWJqZWN0TmFtZSwgY2F0ZWdvcnlOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW9kYWxTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dNb2RhbChEUlNDb21wb25lbnQsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkYXRlIHJlc3VsdCBcIiArIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgfSlcblxuICAgIH1cbiAgICBPQU9mZmxvYWQoKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICAgICAgbGV0IGNoZWNraW50eXBlID0gdGhpcy5QYXNzZW5nZXJEZXRhaWxzLlNlZ21lbnRzW3RoaXMuY3VycmVudFBhZ2VdLlN0YXR1c1xuICAgICAgICAgICAgICAgIC5TdGF0dXNDYXRlZ29yeTtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0OiBJbnRlcmxpbmVUaHJvdWdoQ2hlY2tpbi5Sb290T2JqZWN0ID0gQ29udmVydGVycy5Db252ZXJ0VG9PQU9mZmxvYWRUZW1wbGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLlBhc3NlbmdlckFycmF5LFxuICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LFxuICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICBjaGVja2ludHlwZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHJlcXVlc3QpO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNraW4uT2ZmbG9hZChyZXF1ZXN0KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIodGhpcy5DaGVja0luUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQ2hlY2tJblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5nc1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuQVBJU0RBVEFSRVFVSVJFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHRoaXMuX2NvbmZpZ3VyYXRpb24uQXBpc0RhdGFSZXF1aXJlZCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHMocmVxdWVzdC5QYXNzZW5nZXJMaXN0WzBdLk9yZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblJlc3BvbnNlLldhcm5pbmdzWzBdLk1lc3NhZ2UuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgRVJST1ItUkVQT1JUIEVOVFJZXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApID09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3NbMF0uTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QuZm9yRWFjaCgocGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT2ZmbG9hZEJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyhyZXF1ZXN0LlBhc3Nlbmdlckxpc3RbMF0uT3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuQ2hlY2tJblJlc3BvbnNlLkVycm9ycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQodGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QuZm9yRWFjaCgocGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVswXS5Jc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0T3JkZXJEZXRhaWxzKHJlcXVlc3QuUGFzc2VuZ2VyTGlzdFswXS5PcmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWZ0ZXIgY2hlY2tpblwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5DaGVja0luUmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKHBhc3MsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPZmZsb2FkQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgQXNzb2NpYXRlZEluZmFudFJQSDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuU2VnbWVudFRyYXZlbGVySW5mb0xpc3QuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChTZWdtZW50VHJhdmVsZXIsIERldGFpbG5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5mb3JFYWNoKChkYXRhLCBTZWdJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLlJQSCA9PSBTZWdtZW50VHJhdmVsZXIuUGFzc2VuZ2VyUlBIICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuU2VnbWVudFJQSCA9PSBTZWdtZW50VHJhdmVsZXIuU2VnbWVudFJQSFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2hlY2tlZGluXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2hlY2tlZGluTm9uUmV2U3BhY2VBdmFpbGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5DaGVja2luU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuU2VhdE51bWJlciA9IFNlZ21lbnRUcmF2ZWxlci5TZWF0c1swXS5TZWF0TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChkYXRhLlJQSCA9PSBTZWdtZW50VHJhdmVsZXIuUGFzc2VuZ2VyUlBIICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5TZWdtZW50UlBIID09IFNlZ21lbnRUcmF2ZWxlci5TZWdtZW50UlBIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhLkNoZWNraW5TdGF0dXMgPSBTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PSBcIkNoZWNrZWRpblwiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YS5TZWF0TnVtYmVyID0gU2VnbWVudFRyYXZlbGVyLlNlYXRzWzBdLlNlYXROdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEuQ2hlY2tpblN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5Bc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NvY2lhdGVkSW5mYW50UlBIID0gZGF0YS5Bc3NvY2lhdGVkSW5mYW50UlBIO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBc3NvY2lhdGVkSW5mYW50UlBIID09IGRhdGEuUlBIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5DaGVja2luU3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyhyZXF1ZXN0LlBhc3Nlbmdlckxpc3RbMF0uT3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZpY2VFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChlcnJvck1lc3NhZ2UuaW5kZXhPZihcIlVucmVjb2duaXplZCB0b2tlbiAnPCdcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBUaW1lIE91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOiBcIllvdXIgc2Vzc2lvbiBoYXMgYmVlbiB0aW1lIG91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGlhbG9ncy5hbGVydChvcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJHZXQgUGFzc2VuZ2VyIFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIEVuZCBEYXRlIFRpbWUgOiBcIiArIGVuZERhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0IFBhc3NlbmdlciBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogJyArIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzdGFydERhdGUpLCBuZXcgRGF0ZShlbmREYXRlKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQ2hlY2tpbk9ySW50ZXJMaW5lVGhyb3VnaENoZWNrKGlkKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICBpZiAodGhpcy5zeW5jVGlja2V0ICE9IHRydWUgJiYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyA9PSBudWxsIHx8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZy5sZW5ndGggPT0gMCB8fCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5Lldhcm5pbmdbMF0uTWVzc2FnZSAhPSBDaGVja0luQ29tcG9uZW50LldBUk5JTkcpKSB7XG4gICAgICAgICAgICBpZiAoaWQgPT0gXCJDaGVja0luXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgblBhZ2UgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFnZSA6XCIgKyBuUGFnZSk7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRMZWcgPSB0aGlzLmN1cnJlbnRQYWdlICsgMTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dExlZyA8IG5QYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDMSA6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkRlcGFydHVyZURhdGVUaW1lXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOMSA6XCIgKyB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ10uRGVwYXJ0dXJlRGF0ZVRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkMgOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLkFycml2YWxEYXRlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgKS5mb3JtYXQoXCJISDptbTpzc1wiKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTiA6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9tZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtuZXh0TGVnXS5EZXBhcnR1cmVEYXRlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgKS5mb3JtYXQoXCJISDptbTpzc1wiKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc1RpbWUgPSBtb21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uQXJyaXZhbERhdGVUaW1lXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlVGltZSA9IG1vbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtuZXh0TGVnXS5EZXBhcnR1cmVEYXRlVGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZlRpbWUgPSBtb21lbnQuZHVyYXRpb24oZVRpbWUuZGlmZihzVGltZSkpLmFzSG91cnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaWZmVGltZSA6XCIgKyBkaWZmVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRGlmZmVyZW5jZUluVGltZUR1cmF0aW9uID0gZGlmZlRpbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGVzdCBUaW1lIDpcIiArIHRoaXMuRGlmZmVyZW5jZUluVGltZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRlc3QgTGVnMSA6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uTWFya2V0aW5nRmxpZ2h0LnN1YnN0cigwLCAyKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVGVzdCBMZWcyIDpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ10uTWFya2V0aW5nRmxpZ2h0LnN1YnN0cihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5NYXJrZXRpbmdGbGlnaHQuc3Vic3RyKDAsIDIpID09IFwiQ01cIiAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ10uTWFya2V0aW5nRmxpZ2h0LnN1YnN0cigwLCAyKSA9PSBcIkNNXCIgJiYgdGhpcy5EaWZmZXJlbmNlSW5UaW1lRHVyYXRpb24gPD0gMTIuMCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3BlcmF0aW5nRmxpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRGVwYXJ0dXJlQ2l0eSA9PSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ10uRGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5EZXN0aW5hdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSA9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtuZXh0TGVnXS5NYXJrZXRpbmdGbGlnaHQuc3Vic3RyKDAsIDIpICE9IFwiQ01cIiAmJiB0aGlzLkRpZmZlcmVuY2VJblRpbWVEdXJhdGlvbiA8PSAxMi4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiBDaGVja2luIHR5cGUgMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0TWFya2V0aW5nRmxpZ2h0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W25leHRMZWddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLk1hcmtldGluZ0ZsaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuSW50ZXJMaW5lVGhyb3VnaENoZWNraW4obmV4dE1hcmtldGluZ0ZsaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ10uT3BlcmF0aW5nRmxpZ2h0ICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5NYXJrZXRpbmdGbGlnaHQuc3Vic3RyKDAsIDIpID09IFwiQ01cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtuZXh0TGVnXS5PcGVyYXRpbmdGbGlnaHQuc3Vic3RyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAhPSBcIkNNXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpZmZlcmVuY2VJblRpbWVEdXJhdGlvbiA8PSAxMi4wXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNrIGluIHR5cGUgMkFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRPcGVyYXRpbmdGbGlnaHQgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbbmV4dExlZ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLk9wZXJhdGluZ0ZsaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkludGVyTGluZVRocm91Z2hDaGVja2luKG5leHRPcGVyYXRpbmdGbGlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW4gdHlwZSAyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblBheChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW4gdHlwZSAyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUGF4KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblBheChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW4gdHlwZSAzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgXS5NYXJrZXRpbmdGbGlnaHQuc3Vic3RyKDAsIDIpID09IFwiQ01cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodCA9PVxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCkgfHwgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBdLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgIT0gXCJDTVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodCAhPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkNoZWNrSW5QYXgoaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuT0FPZmZsb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAvLyBUb2FzdC5tYWtlVGV4dChcIiBwYXNzZW5nZXJzIGFyZSB0aWNrZXQgb3V0IG9mIHN5bmMgcGFzc2VuZ2Vycy4gQ2hlY2tpbiB3aWxsIGJlIGFsbG93ZWQgb25seSB3aGVuIHRob3NlIHBhc3NlbmdlcnMgdGlja2V0IGlzIHN5bmNlZC4gSWYgeW91IHdhbnQgdG8gY2hlY2tpbiBub24gZS10aWNrZXRlZCBwYXNzZW5nZXJzLCBjbGljayAnT0snIGFuZCB1bnNlbGVjdCB0aGUgdGlja2V0IG91dCBvZiBzeW5jIHBhc3NlbmdlciBhbmQgcHJvY2VlZCB0byBjaGVja2luXCIpLnNob3coKTtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoQ2hlY2tJbkNvbXBvbmVudC5US1RPVVRPRlNZTkMpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpYWxvZyByZXN1bHQ6IFwiICsgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQ2hlY2tJblBheChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICBjb25zb2xlLmRpcih0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQpO1xuICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICAvL2NvbnNvbGUuZGlyKHRoaXMuUGFzc2VuZ2VyQXJyYXkpO1xuXG4gICAgICAgIGxldCBjaGVja2ludHlwZSA9IHRoaXMuUGFzc2VuZ2VyRGV0YWlscy5TZWdtZW50c1t0aGlzLmN1cnJlbnRQYWdlXS5TdGF0dXNcbiAgICAgICAgICAgIC5TdGF0dXNDYXRlZ29yeTtcbiAgICAgICAgbGV0IHJlcXVlc3Q6IENoZWNrSW5Qb3N0VGVtcGxhdGUuUm9vdE9iamVjdCA9IENvbnZlcnRlcnMuQ29udmVydFRvQ2hlY2tJblBvc3RUZW1wbGF0ZSh0aGlzLlBhc3NlbmdlckFycmF5LCBpZCwgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QsIHRoaXMuU2VnbWVudExpc3QsIGNoZWNraW50eXBlLCB0aGlzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSwgdGhpcy5fc2hhcmVkLkdldEJhZ1RhZygpKTtcbiAgICAgICAgaWYgKGlkID09IFwiQ2hlY2tJblwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuU2VjdXJpdHlEZXRhaWxzID0gdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzWzBdLkRvY3VtZW50cy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChQYXhEYXRhLCBQYXhJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouRmlyc3ROYW1lID09IFBheERhdGEuRmlyc3ROYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouTGFzdE5hbWUgPT0gUGF4RGF0YS5MYXN0TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClbMF0uSXNTZWN1cml0eURvY3NDb21wbGV0ZSA9PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHBhc3NlbmdlclR5cGUgPSB0aGlzLlNlY3VyaXR5RGV0YWlscy5QYXNzZW5nZXJzLmZpbHRlcihtID0+IG0uRmlyc3RuYW1lID09IFBheERhdGEuRmlyc3ROYW1lICYmIG0uTGFzdG5hbWUgPT0gUGF4RGF0YS5MYXN0TmFtZSlbMF0uUGFzc2VuZ2VyVHlwZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHBhc3NlbmdlclR5cGUgIT0gXCJJTkZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLklzSW50ZXJuYXRpb25hbCA9PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jQ2hlY2tGb3JDaGVja2luID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRvY0NoZWNrRm9yQ2hlY2tpbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGVja0luUGF4IFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIFN0YXJ0IERhdGUgVGltZSA6IFwiICsgc3RhcnREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIocmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZShcImNoZWNraW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2luLkNoZWNrSW5QYXgocmVxdWVzdCkuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZUVuZChcImNoZWNraW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRoaXMuQ2hlY2tJblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UgIT0gbnVsbCAmJiB0aGlzLkNoZWNrSW5SZXNwb25zZS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGNoZWNrIGluIHJlc3BvbnNlIG5vdCBlcXVhbCBudWxsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3MgIT0gbnVsbCAmJiB0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5ncy5mb3JFYWNoKChtZXNzYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5nc1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuQVBJU0RBVEFSRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvYXN0IDFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHRoaXMuX2NvbmZpZ3VyYXRpb24uQXBpc0RhdGFSZXF1aXJlZCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5HZXRPcmRlckRldGFpbHMocmVxdWVzdC5QYXNzZW5nZXJMaXN0WzBdLk9yZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblJlc3BvbnNlLldhcm5pbmdzLmZvckVhY2goKG1lc3NhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KG1lc3NhZ2UuTWVzc2FnZSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZSlbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPZmZsb2FkQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgQXNzb2NpYXRlZEluZmFudFJQSDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQ2hlY2tJblJlc3BvbnNlLlNlZ21lbnRUcmF2ZWxlckluZm9MaXN0ICE9IG51bGwgJiYgdGhpcy5DaGVja0luUmVzcG9uc2UuU2VnbWVudFRyYXZlbGVySW5mb0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuU2VnbWVudFRyYXZlbGVySW5mb0xpc3QuZm9yRWFjaCgoU2VnbWVudFRyYXZlbGVyLCBEZXRhaWxuZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5mb3JFYWNoKChkYXRhLCBTZWdJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5SUEggPT0gU2VnbWVudFRyYXZlbGVyLlBhc3NlbmdlclJQSCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uU2VnbWVudFJQSCA9PSBTZWdtZW50VHJhdmVsZXIuU2VnbWVudFJQSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNlZ21lbnRUcmF2ZWxlci5DaGVja2luSW5mb3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PSBcIkNoZWNrZWRpblwiIHx8IFNlZ21lbnRUcmF2ZWxlci5DaGVja2luSW5mb3NbMF0uU3RhdHVzID09IFwiQ2hlY2tlZGluTm9uUmV2U3BhY2VBdmFpbGFibGVcIiB8fCBTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PSBcIkNoZWNrZWRpblN0YW5kYnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNoZWNraW5TdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIlBhc3NlbmdlciBDaGVja2VkaW4gU3VjZXNzZnVsbHlcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWdtZW50VHJhdmVsZXIuU2VhdHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWdtZW50VHJhdmVsZXIuU2VhdHNbMF0uU2VhdE51bWJlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuU2VhdE51bWJlciA9IFNlZ21lbnRUcmF2ZWxlci5TZWF0c1swXS5TZWF0TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLlNlYXRzID0gU2VnbWVudFRyYXZlbGVyLlNlYXRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNhYmluID0gU2VnbWVudFRyYXZlbGVyLlNlYXRzWzBdLkNhYmluO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWdtZW50VHJhdmVsZXIuSXNTaG9ydENoZWNraW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvcnRDaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuQ2hlY2tpblN0YXR1cyAmJiBkYXRhLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IGRhdGEuQXNzb2NpYXRlZEluZmFudFJQSDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCA9PSBkYXRhLlJQSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuQ2hlY2tpblN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEVycm9yTWVzc2FnZTogc3RyaW5nID0gXCIgRVJST1ItUkVQT1JUIEVOVFJZPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvck1lc3NhZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgaW5zaWRlIFRvYXN0IGVsc2UgMlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuQmx1ZXRvb3RoQmFnVGFnICYmIHJlcXVlc3QuaXNNYW51YWxCYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmx1ZXRvb3RoIFRvYXN0IGVsc2UgMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRCYWdUYWcobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkJsdWV0b290aFByaW50ZXIocmVxdWVzdCwgdGhpcy5DaGVja0luUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJibHVldG9vdGggVG9hc3QgZWxzZSAyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ1RhZyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0T3JkZXJEZXRhaWxzKHJlcXVlc3QuUGFzc2VuZ2VyTGlzdFswXS5PcmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuSW5mb3JtYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuSW5mb3JtYXRpb24uZm9yRWFjaCgobWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvYXN0IDJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZS5NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChtZXNzYWdlLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzICE9IG51bGwgJiYgdGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblJlc3BvbnNlLkVycm9ycy5mb3JFYWNoKChtZXNzYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9hc3QgZXJyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UuTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQobWVzc2FnZS5NZXNzYWdlKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGVja2luIENvbXBsZXRlZCAxXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWUpWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgQXNzb2NpYXRlZEluZmFudFJQSDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkNoZWNrSW5SZXNwb25zZS5TZWdtZW50VHJhdmVsZXJJbmZvTGlzdCAhPSBudWxsICYmIHRoaXMuQ2hlY2tJblJlc3BvbnNlLlNlZ21lbnRUcmF2ZWxlckluZm9MaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNoZWNrSW5SZXNwb25zZS5TZWdtZW50VHJhdmVsZXJJbmZvTGlzdC5mb3JFYWNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoU2VnbWVudFRyYXZlbGVyLCBEZXRhaWxuZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZvckVhY2goKGRhdGEsIFNlZ0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuUlBIID09IFNlZ21lbnRUcmF2ZWxlci5QYXNzZW5nZXJSUEggJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlNlZ21lbnRSUEggPT0gU2VnbWVudFRyYXZlbGVyLlNlZ21lbnRSUEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNlZ21lbnRUcmF2ZWxlci5DaGVja2luSW5mb3NbMF0uU3RhdHVzID09IFwiQ2hlY2tlZGluXCIgfHwgU2VnbWVudFRyYXZlbGVyLkNoZWNraW5JbmZvc1swXS5TdGF0dXMgPT0gXCJDaGVja2VkaW5Ob25SZXZTcGFjZUF2YWlsYWJsZVwiIHx8IFNlZ21lbnRUcmF2ZWxlci5DaGVja2luSW5mb3NbMF0uU3RhdHVzID09IFwiQ2hlY2tlZGluU3RhbmRieVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNoZWNraW5TdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJQYXNzZW5nZXIgQ2hlY2tlZGluIFN1Y2Vzc2Z1bGx5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLlNlYXROdW1iZXIgPSBTZWdtZW50VHJhdmVsZXIuU2VhdHNbMF0uU2VhdE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5TZWF0cyA9IFNlZ21lbnRUcmF2ZWxlci5TZWF0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNhYmluID0gU2VnbWVudFRyYXZlbGVyLlNlYXRzWzBdLkNhYmluO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLkNoZWNraW5TdGF0dXMgJiYgZGF0YS5Bc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IGRhdGEuQXNzb2NpYXRlZEluZmFudFJQSDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFzc29jaWF0ZWRJbmZhbnRSUEggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCA9PSBkYXRhLlJQSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5DaGVja2luU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc29jaWF0ZWRJbmZhbnRSUEggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuQmx1ZXRvb3RoQmFnVGFnICYmIHJlcXVlc3QuaXNNYW51YWxCYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QmFnVGFnKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQmx1ZXRvb3RoUHJpbnRlcihyZXF1ZXN0LCB0aGlzLkNoZWNrSW5SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRCYWdUYWcobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHMocmVxdWVzdC5QYXNzZW5nZXJMaXN0WzBdLk9yZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzLmZvckVhY2goKGVycm9ycywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChlcnJvcnMuTWVzc2FnZSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyhyZXF1ZXN0LlBhc3Nlbmdlckxpc3RbMF0uT3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChlcnJvck1lc3NhZ2UuaW5kZXhPZihcIlVucmVjb2duaXplZCB0b2tlbiAnPCdcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRpdGxlOiBcIlNlc3Npb24gVGltZSBPdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOiBcIllvdXIgc2Vzc2lvbiBoYXMgYmVlbiB0aW1lIG91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGlhbG9ncy5hbGVydChvcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLm5hdmlnYXRlVG9Mb2dpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQXBpcyBEYXRhIGlzIFJlcXVpcmVkXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NDaGVja0ZvckNoZWNraW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICBcIkNoZWNrSW5QYXggU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICsgZW5kRGF0ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgIFwiQ2hlY2tJblBheCBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgICAgICBBcHBFeGVjdXRpb250aW1lLkV4ZWN1dGlvblRpbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShzdGFydERhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZW5kRGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICBcIk9mZmxvYWQgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gU3RhcnQgRGF0ZSBUaW1lIDogXCIgKyBzdGFydERhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNraW4uT2ZmbG9hZChyZXF1ZXN0KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNoZWNrSW5SZXNwb25zZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIodGhpcy5DaGVja0luUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkNoZWNrSW5SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5ncyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuV2FybmluZ3NbMF0uTWVzc2FnZSA9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrSW5Db21wb25lbnQuQVBJU0RBVEFSRVFVSVJFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQodGhpcy5fY29uZmlndXJhdGlvbi5BcGlzRGF0YVJlcXVpcmVkKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHMocmVxdWVzdC5QYXNzZW5nZXJMaXN0WzBdLk9yZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tJblJlc3BvbnNlLldhcm5pbmdzWzBdLk1lc3NhZ2UuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIEVSUk9SLVJFUE9SVCBFTlRSWVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNoZWNrSW5SZXNwb25zZS5XYXJuaW5nc1swXS5NZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVswXS5Jc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0+IG0uRmlyc3ROYW1lID09IHBhc3MuRmlyc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyhyZXF1ZXN0LlBhc3Nlbmdlckxpc3RbMF0uT3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzICE9IG51bGwgJiYgdGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQodGhpcy5DaGVja0luUmVzcG9uc2UuRXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKHBhc3MsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0+IG0uRmlyc3ROYW1lID09IHBhc3MuRmlyc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVswXS5Jc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPT4gbS5GaXJzdE5hbWUgPT0gcGFzcy5GaXJzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVswXS5Jc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHMocmVxdWVzdC5QYXNzZW5nZXJMaXN0WzBdLk9yZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZnRlciBjaGVja2luXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLkNoZWNrSW5SZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChwYXNzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0+IG0uRmlyc3ROYW1lID09IHBhc3MuRmlyc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPZmZsb2FkQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBBc3NvY2lhdGVkSW5mYW50UlBIOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DaGVja0luUmVzcG9uc2UuU2VnbWVudFRyYXZlbGVySW5mb0xpc3QuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoU2VnbWVudFRyYXZlbGVyLCBEZXRhaWxuZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgoZGF0YSwgU2VnSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLlJQSCA9PSBTZWdtZW50VHJhdmVsZXIuUGFzc2VuZ2VyUlBIICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5TZWdtZW50UlBIID09IFNlZ21lbnRUcmF2ZWxlci5TZWdtZW50UlBIXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlZ21lbnRUcmF2ZWxlci5DaGVja2luSW5mb3NbMF0uU3RhdHVzID09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2hlY2tlZGluXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VnbWVudFRyYXZlbGVyLkNoZWNraW5JbmZvc1swXS5TdGF0dXMgPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDaGVja2VkaW5Ob25SZXZTcGFjZUF2YWlsYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuQ2hlY2tpblN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuU2VhdE51bWJlciA9IFNlZ21lbnRUcmF2ZWxlci5TZWF0c1swXS5TZWF0TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGRhdGEuUlBIID09IFNlZ21lbnRUcmF2ZWxlci5QYXNzZW5nZXJSUEggJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlNlZ21lbnRSUEggPT0gU2VnbWVudFRyYXZlbGVyLlNlZ21lbnRSUEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhLkNoZWNraW5TdGF0dXMgPSBTZWdtZW50VHJhdmVsZXIuQ2hlY2tpbkluZm9zWzBdLlN0YXR1cyA9PSBcIkNoZWNrZWRpblwiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRhdGEuU2VhdE51bWJlciA9IFNlZ21lbnRUcmF2ZWxlci5TZWF0c1swXS5TZWF0TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFkYXRhLkNoZWNraW5TdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IGRhdGEuQXNzb2NpYXRlZEluZmFudFJQSDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCA9PSBkYXRhLlJQSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNoZWNraW5TdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyRGV0YWlscyhyZXF1ZXN0LlBhc3Nlbmdlckxpc3RbMF0uT3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChlcnJvck1lc3NhZ2UuaW5kZXhPZihcIlVucmVjb2duaXplZCB0b2tlbiAnPCdcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogXCJTZXNzaW9uIFRpbWUgT3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOiBcIllvdXIgc2Vzc2lvbiBoYXMgYmVlbiB0aW1lIG91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGlhbG9ncy5hbGVydChvcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMubmF2aWdhdGVUb0xvZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHZhciBlbmREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgXCJPZmZsb2FkIFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIEVuZCBEYXRlIFRpbWUgOiBcIiArIGVuZERhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICBcIk9mZmxvYWQgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgQXBwRXhlY3V0aW9udGltZS5FeGVjdXRpb25UaW1lKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoc3RhcnREYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGVuZERhdGUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuaXNQcmludGJ0bkVuYWJsZWQoKTtcbiAgICB9XG5cbiAgICBpc1Nob3J0Q2hlY2tpbihhcmdzOiBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5QYXNzZW5nZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYXJncy5TaG9ydENoZWNraW5BcnJpdmFsQ29kZXNCeUZsaWdodHMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5pbmRleF0uRmxpZ2h0TnVtYmVyKTtcbiAgICAgICAgaWYgKGFyZ3MuU2hvcnRDaGVja2luQXJyaXZhbENvZGVzQnlGbGlnaHRzICE9IG51bGwgJiYgYXJncy5TaG9ydENoZWNraW5BcnJpdmFsQ29kZXNCeUZsaWdodHMuZmlsdGVyKG0gPT4gbS5GbGlnaHROdW1iZXIgPT0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk1hcmtldGluZ0ZsaWdodCB8fCBtLkZsaWdodE51bWJlciA9PSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3BlcmF0aW5nRmxpZ2h0KS5sZW5ndGggPiAwICYmIGFyZ3MuU2hvcnRDaGVja2luQXJyaXZhbENvZGVzQnlGbGlnaHRzLmZpbHRlcihtID0+IG0uRmxpZ2h0TnVtYmVyID09IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5NYXJrZXRpbmdGbGlnaHQgfHwgbS5GbGlnaHROdW1iZXIgPT0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodClbMF0uU2hvcnRDaGVja2luQXJyaXZhbENvZGVzLklzRWxpZ2libGVGb3JTaG9ydENoZWNraW4pIHtcbiAgICAgICAgICAgIHRoaXMuaXNTaG9ydENoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2hja2FyZ3M6XCIpO1xuICAgICAgICAvLyBpZiAodGhpcy5pc1Nob3J0Q2hlY2sgPT09IHRydWUgJiYgaW5kZXggPT0gMCkge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJjaGNrYXJnczpcIik7XG4gICAgICAgIC8vICAgICByZXR1cm4gJ3Zpc2libGUnO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcmV0dXJuICdjb2xsYXBzZSc7XG4gICAgICAgIC8vIH1cbiAgICB9XG4gICAgc2VsZWN0U2hvcnRDaGVja0NvZGUoYXJnczogTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyLCBpOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJpOlwiICsgaSk7XG4gICAgICAgIGxldCBTaG9ydGNoZWNrQ29kZXM6IEFycmF5PHN0cmluZz4gPSBhcmdzLlNob3J0Q2hlY2tpbkFycml2YWxDb2Rlc0J5RmxpZ2h0cy5maWx0ZXIobSA9PiBtLkZsaWdodE51bWJlciA9PSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uTWFya2V0aW5nRmxpZ2h0KVswXS5TaG9ydENoZWNraW5BcnJpdmFsQ29kZXMuU2hvcnRDaGVja0luQXJyaXZhbENvZGVzO1xuICAgICAgICBpZiAoU2hvcnRjaGVja0NvZGVzICE9IG51bGwgJiYgU2hvcnRjaGVja0NvZGVzICE9IFtdKSB7XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTaG9ydENoZWNrXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDaG9vc2UgRGVzdGluYXRpb25cIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBTaG9ydGNoZWNrQ29kZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkaWFsb2dzLmFjdGlvbihvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2hvcnRDaGVja0FpcnBvcnRDb2RlID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBhcmdzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSA9IFNob3J0Y2hlY2tDb2Rlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgYXJncy5TaG9ydENoZWNrQWlycG9ydENvZGUgPSBTaG9ydGNoZWNrQ29kZXNbMF07XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIFNlbmRCYW9yZGluZ1Bhc3NFbWFpbCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICAgICAgaWYgKHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChlbGVtZW50cywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFBhc3NlbmdlciA9IHRoaXMuU2VnbWVudExpc3QuUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLkZpcnN0TmFtZSA9PSBlbGVtZW50cy5GaXJzdE5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLkxhc3ROYW1lID09IGVsZW1lbnRzLkxhc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIClbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGFzc2VuZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGFzc2VuZ2VyLkNoZWNraW5TdGF0dXMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0OiBhbnkgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb1ByaW50Qm9hcmRpbmdQYXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWdtZW50TGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VuZEJhb3JkaW5nUGFzc0VtYWlsIFNlcnZpY2VzIC0tLS0tLS0tLS0tLS0tLSBTdGFydCBEYXRlIFRpbWUgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmludGVtYWlsLlNlbmRCYW9yZGluZ1Bhc3NFbWFpbChyZXF1ZXN0KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgIT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5Kb2JSZXNwb25zZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkpvYlJlc3BvbnNlICE9IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Kb2JSZXNwb25zZS5TdGF0dXMgIT0gXCJGYWlsZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiQmFvcmRpbmdQYXNzIEVtYWlsIFNlbnQgU3VjY2VzZnVsbHkgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLkpvYlJlc3BvbnNlLk1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDb3VsZG50IGZpbmQgaW5mb3JtYXRpb24gZm9yIHRoaXMgT3JkZXJJRCBcIiArIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UuaW5kZXhPZihcIlVucmVjb2duaXplZCB0b2tlbiAnPCdcIikgIT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTZXNzaW9uIFRpbWUgT3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJZb3VyIHNlc3Npb24gaGFzIGJlZW4gdGltZSBvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQob3B0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTZW5kQmFvcmRpbmdQYXNzRW1haWwgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTZW5kQmFvcmRpbmdQYXNzRW1haWwgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShzRGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZURhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJjaGVjayBpbiBpcyBub3QgY29tcGxldGVkXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIFRvYXN0Lm1ha2VUZXh0KFwiS2luZGx5IERlU2VsZWN0IHBhc3NlbmdlcnMuQm9hcmRpbmdQYXNzIEFwcGxpY2FibGUgb25seSBmb3Igc2luZ2xlIHBhc3NlbmdlclwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIlNlbGVjdCBQYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHZhciBlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIlNlbmRCYW9yZGluZ1Bhc3NFbWFpbCBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBFbmQgRGF0ZSBUaW1lIDogXCIgKyBlRGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiU2VuZEJhb3Jkc2luZ1Bhc3NFbWFpbCBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzRGF0ZSksIG5ldyBEYXRlKGVEYXRlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBCbHVldG9vdGhQcmludGVyKHJlcXVlc3Q6IGFueSwgQ2hlY2tJblJlc3BvbnNlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFBcHBsaWNhdGlvblNldHRpbmdzLmdldEJvb2xlYW4oXCJpc0hvc3RCYWd0YWdcIikpIHtcbiAgICAgICAgICAgIGxldCBiYWd0YWdFbGVtZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdCk7XG4gICAgICAgICAgICBsZXQgYmFndGFnTGlzdCA9IE9iamVjdC5hc3NpZ24oe30sIENoZWNrSW5SZXNwb25zZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJsdWV0b290aCBiZWZvcmVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhDaGVja0luUmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKENoZWNrSW5SZXNwb25zZS5CYWdUYWdPdXRwdXQgJiYgQ2hlY2tJblJlc3BvbnNlLkJhZ1RhZ091dHB1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJCbHVldG9vdGggYmVmb3JlIGluIDFcIik7XG4gICAgICAgICAgICAgICAgaWYgKENoZWNrSW5SZXNwb25zZS5CYWdUYWdPdXRwdXRbMF0uUGljUmF3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJsdWV0b290aCBiZWZvcmUgaW4gMVwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJsdWV0b290aCBpbnNpZGUgYmVmb3JlXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2UgPSBpbWFnZU1vZHVsZS5mcm9tQmFzZTY0KENoZWNrSW5SZXNwb25zZS5CYWdUYWdPdXRwdXRbMF0uUGljUmF3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRocyA9IGZzLnBhdGguam9pbihmcy5rbm93bkZvbGRlcnMudGVtcCgpLnBhdGgsIFwic3R1ZmZcIik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXN0ID0gZnMucGF0aC5qb2luKGZzLmtub3duRm9sZGVycy5jdXJyZW50QXBwKCkucGF0aCwgXCIvYXNzZXRzXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBaaXAuemlwKHBhdGhzLGRlc3QsKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGRlciA9IGZzLmtub3duRm9sZGVycy5kb2N1bWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lOiBzdHJpbmcgPSBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KFwiaGhtbXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aCA9IGZzLnBhdGguam9pbihmb2xkZXIucGF0aCwgXCJ0ZW1wQlBJbWFnZVwiICsgZmlsZW5hbWUgKyBcIi5qcGdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zYXZlVG9GaWxlKHBhdGgsIFwianBlZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmludGVySUQgPSB0aGlzLmdldFByaW50ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmludGVySUQudHJpbSgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50aW1lKFwiUHJpbnRCYWd0YWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHplYnJhLlByaW50ZXIoeyBhZGRyZXNzOiBwcmludGVySUQsIGxhbmd1YWdlOiBcIkNQQ0xcIiwgZGVidWdnaW5nOiBmYWxzZSB9KS50aGVuKGZ1bmN0aW9uIChjdXJQcmludGVyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3VtZW50ID0gY3VyUHJpbnRlci5jcmVhdGVEb2N1bWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5pbWFnZShmcy5wYXRoLmpvaW4oZm9sZGVyLnBhdGgsIFwidGVtcEJQSW1hZ2VcIiArIGZpbGVuYW1lICsgXCIuanBnXCIpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlci5nZXRTdGF0dXMoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlYWR5ICYmICFyZXN1bHQubGF0Y2hPcGVuICYmICFyZXN1bHQubG93QmF0dGVyeSAmJiAhcmVzdWx0LnBhcGVyT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlci5wcmludChkb2N1bWVudCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJpbnRpbmcgRG9uZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGZvbGRlci5nZXRGaWxlKFwidGVtcEJQSW1hZ2VcIiArIGZpbGVuYW1lICsgXCIuanBnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnJlbW92ZSgpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaWxlIHJlbW92ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJCYWdUYWcgcHJpbnRlZCBzdWNlc3NmdWxseVwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBSZW1ha3JlcXVlc3Q6IGFueSA9IENvbnZlcnRlcnMuQmx1ZXRvb3RoUHJpbnRlclJlc3BvbnNlQ2hlY2tpbihiYWd0YWdFbGVtZW50LCBiYWd0YWdMaXN0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoUmVtYWtyZXF1ZXN0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZShcIlJlbWFya3NDaGVja2luXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9wcmludGVtYWlsLlJlbWFya3NDaGVja2luKFJlbWFrcmVxdWVzdCkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZUVuZChcIlJlbWFya3NDaGVja2luXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuSW5mb3JtYXRpb24gIT0gbnVsbCAmJiBkYXRhLkluZm9ybWF0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChkYXRhLkluZm9ybWF0aW9uWzBdLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuR2V0T3JkZXJEZXRhaWxzKHNlbGYuT3JkZXJJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiRXJyb3IgaW4gYWRkaW5nIHJlbWFya3NcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5HZXRPcmRlckRldGFpbHMoc2VsZi5PcmRlcklEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clByaW50ZXIuY2xvc2UoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZUVuZChcIlByaW50QmFndGFnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJQcmludGVyIGlzIHJlYWR5IHRvIHByaW50XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkVycm9yIE9jY3VyZWQgd2hpbGUgUHJpbnRpbmc6XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUHJpbnRpbmcgRXJyb3I6IFwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5QcmludEZhaWwoYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5QcmludEZhaWwoYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGF0Y2hPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiISEhIUxhdGNoT3BlblwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubG93QmF0dGVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIiEhISFMb3dCYXR0ZXJ5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5wYXBlck91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIiEhISFQYXBlck91dFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUHJpbnRGYWlsKGJhZ3RhZ0VsZW1lbnQsIGJhZ3RhZ0xpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuUFJJTlRFUlNFU1NJT04pLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJISVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5QcmludEZhaWwoYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUHJpbnRGYWlsKGJhZ3RhZ0VsZW1lbnQsIGJhZ3RhZ0xpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoQ2hlY2tJbkNvbXBvbmVudC5VTkFCTEVUT1BSSU5UKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlByaW50RmFpbChiYWd0YWdFbGVtZW50LCBiYWd0YWdMaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmx1ZXRvb3RoIGluc2lkZSBlbHNlIGJlZm9yZSAxXCIpO1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QcmludEZhaWwoYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmx1ZXRvb3RoIGluc2lkZSBlbHNlIGJlZm9yZSAgMlwiKTtcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLlByaW50RmFpbChiYWd0YWdFbGVtZW50LCBiYWd0YWdMaXN0KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHModGhpcy5PcmRlcklEKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcmludEZhaWwoYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCkge1xuICAgICAgICBsZXQgUmVtYWtyZXF1ZXN0OiBhbnkgPSBDb252ZXJ0ZXJzLkJsdWV0b290aFByaW50ZXJSZXNwb25zZUNoZWNraW4oYmFndGFnRWxlbWVudCwgYmFndGFnTGlzdCwgZmFsc2UpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShSZW1ha3JlcXVlc3QpKTtcbiAgICAgICAgdGhpcy5fcHJpbnRlbWFpbC5SZW1hcmtzQ2hlY2tpbihSZW1ha3JlcXVlc3QpLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5JbmZvcm1hdGlvbiAhPSBudWxsICYmIGRhdGEuSW5mb3JtYXRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KGRhdGEuSW5mb3JtYXRpb25bMF0uTWVzc2FnZSkuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5HZXRPcmRlckRldGFpbHModGhpcy5PcmRlcklEKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByaW50QmFvcmRpbmdQYXNzUG9wdXAoKSB7XG4gICAgLy8gICAgIGlmICh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgICAgICBsZXQgY2hlY2tlZEluRGF0YTogYm9vbGVhbiA9IHRydWU7XG4gICAgLy8gICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgIC8vICAgICAgICAgdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QuZm9yRWFjaCgoZWxlbWVudHMsIGluZGV4KSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IHNlbGVjdGVkUGFzc2VuZ2VyID0gdGhpcy5TZWdtZW50TGlzdC5QYXNzZW5nZXIuZmlsdGVyKFxuICAgIC8vICAgICAgICAgICAgICAgICBtID0+XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBtLkZpcnN0TmFtZSA9PSBlbGVtZW50cy5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBlbGVtZW50cy5MYXN0TmFtZVxuICAgIC8vICAgICAgICAgICAgIClbMF07XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5kaXIoc2VsZWN0ZWRQYXNzZW5nZXIpO1xuICAgIC8vICAgICAgICAgICAgIGlmIChzZWxlY3RlZFBhc3NlbmdlciAhPSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFBhc3Nlbmdlci5DaGVja2luU3RhdHVzID09IGZhbHNlKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjaGVja2VkSW5EYXRhID0gZmFsc2U7XG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgIGlmIChjaGVja2VkSW5EYXRhKSB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRpdGxlOiBcIlByaW50ZXJcIixcbiAgICAvLyAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDaG9vc2UgUHJpbnRlciBUeXBlXCIsXG4gICAgLy8gICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgLy8gICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcIkJvYXJkaW5nIFBhc3NcIl1cbiAgICAvLyAgICAgICAgICAgICB9O1xuICAgIC8vICAgICAgICAgICAgIGRpYWxvZ3MuYWN0aW9uKG9wdGlvbnMpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBcIkJvYXJkaW5nIFBhc3NcIikge1xuXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgaXNIb3N0OmJvb2xlYW4gPSBBcHBsaWNhdGlvblNldHRpbmdzLmdldEJvb2xlYW4oXCJpc0hvc3RcIik7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZihpc0hvc3QpXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3N0UHJpbnRlcihcImhvc3RlZFwiKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3RQcmludGVyKFwiYmx1ZXRvb3RoXCIpO1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy90aGlzLlByaW50QmFvcmRpbmdQYXNzKCk7XG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBcIkJhZyBUYWdcIikge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy90aGlzLlByaW50QmFnVGFnKCk7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgaXNIb3N0OmJvb2xlYW4gPSBBcHBsaWNhdGlvblNldHRpbmdzLmdldEJvb2xlYW4oXCJpc0hvc3RcIik7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3N0KSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3N0QmFnVGFnUHJpbnRlcihcImhvc3RlZFwiKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdEJhZ1RhZ1ByaW50ZXIoXCJibHVldG9vdGhcIik7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAvL3RoaXMuaG9zdFByaW50ZXIoJ2JsdWV0b290aCcpXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJQbGVhc2Ugc2VsZWN0IG9ubHkgY2hlY2tlZEluIFBhc3NlbmdlclwiKS5zaG93KCk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBUb2FzdC5tYWtlVGV4dChcIlNlbGVjdCBQYXNzZW5nZXJcIikuc2hvdygpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gUHJpbnRCYWdUYWcoKSB7XG4gICAgLy8gICAgIGxldCBvcHRpb25zID0ge1xuICAgIC8vICAgICAgICAgdGl0bGU6IFwiUHJpbnRlclwiLFxuICAgIC8vICAgICAgICAgbWVzc2FnZTogXCJDaG9vc2UgUHJpbnRlciBUeXBlXCIsXG4gICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIkNhbmNlbFwiLFxuICAgIC8vICAgICAgICAgYWN0aW9uczogW1wiQmx1ZXRvb3RoIFByaW50ZXJcIiwgXCJIb3N0IFByaW50ZXJcIl1cbiAgICAvLyAgICAgfTtcbiAgICAvLyAgICAgZGlhbG9ncy5hY3Rpb24ob3B0aW9ucykudGhlbihyZXN1bHQgPT4ge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAvLyAgICAgICAgIGlmIChyZXN1bHQgPT0gXCJIb3N0IFByaW50ZXJcIikge1xuICAgIC8vICAgICAgICAgICAgIHRoaXMuaG9zdEJhZ1RhZ1ByaW50ZXIoXCJob3N0ZWRcIik7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBpZiAocmVzdWx0ID09IFwiQmx1ZXRvb3RoIFByaW50ZXJcIikge1xuICAgIC8vICAgICAgICAgICAgIC8vdGhpcy5CbHVldG9vdGhwcmludCgpO1xuICAgIC8vICAgICAgICAgICAgIHRoaXMuaG9zdEJhZ1RhZ1ByaW50ZXIoXCJibHVldG9vdGhcIik7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8vIFByaW50QmFvcmRpbmdQYXNzKCkge1xuICAgIC8vICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAvLyAgICAgICAgIHRpdGxlOiBcIlByaW50ZXJcIixcbiAgICAvLyAgICAgICAgIG1lc3NhZ2U6IFwiQ2hvb3NlIFByaW50ZXIgVHlwZVwiLFxuICAgIC8vICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJDYW5jZWxcIixcbiAgICAvLyAgICAgICAgIGFjdGlvbnM6IFtcIkJsdWV0b290aCBQcmludGVyXCIsIFwiSG9zdCBQcmludGVyXCJdXG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGRpYWxvZ3MuYWN0aW9uKG9wdGlvbnMpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgLy8gICAgICAgICBpZiAocmVzdWx0ID09IFwiSG9zdCBQcmludGVyXCIpIHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmhvc3RQcmludGVyKFwiaG9zdGVkXCIpO1xuICAgIC8vICAgICAgICAgfSBlbHNlIGlmICgocmVzdWx0ID0gXCJCbHVldG9vdGggUHJpbnRlclwiKSkge1xuICAgIC8vICAgICAgICAgICAgIC8vdGhpcy5CbHVldG9vdGhwcmludCgpO1xuICAgIC8vICAgICAgICAgICAgIHRoaXMuaG9zdFByaW50ZXIoXCJibHVldG9vdGhcIik7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cbiAgICBob3N0UHJpbnRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBob3N0ZWRjaGVjayA9IEFwcGxpY2F0aW9uU2V0dGluZ3MuZ2V0Qm9vbGVhbihcImlzSG9zdEJvYXJkaW5nXCIpO1xuICAgICAgICAgICAgdmFyIGhvc3RlZDtcbiAgICAgICAgICAgIGlmIChob3N0ZWRjaGVjaykge1xuICAgICAgICAgICAgICAgIGhvc3RlZCA9IFwiaG9zdGVkXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RlZCA9IFwiYmx1ZXRvb3RoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5TZWdtZW50TGlzdCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXTtcbiAgICAgICAgICAgIGlmICh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGVja2luUHJpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKHNlbGVjdGVkUGF4LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdDogYW55ID0gQ29udmVydGVycy5Db252ZXJ0VG9QcmludEJvYXJkaW5nUGFzcyh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdCwgdGhpcy5TZWdtZW50TGlzdCwgdGhpcy5QYXNzZW5nZXJEZXRhaWxzLCBob3N0ZWQsIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksIHRoaXMuY3VycmVudFBhZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmludEJhb3JkaW5nUGFzcyBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBTdGFydCBEYXRlIFRpbWUgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmludGVtYWlsLlByaW50Qm9hcmRpbmdQYXNzKHJlcXVlc3QpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdGVkID09PSBcImJsdWV0b290aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJpbnRpbmcgdG8gYmx1ZXRvb3RoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXQgJiYgZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXQubGVuZ3RoID4gMCAmJiBkYXRhLkJvYXJkaW5nUGFzc091dHB1dFswXS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2UgPSBpbWFnZU1vZHVsZS5mcm9tQmFzZTY0KGRhdGEuQm9hcmRpbmdQYXNzT3V0cHV0WzBdLlBpY1Jhd0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGRlciA9IGZzLmtub3duRm9sZGVycy5kb2N1bWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTogc3RyaW5nID0gbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdChcImhobW1zc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXRoID0gZnMucGF0aC5qb2luKGZvbGRlci5wYXRoLCBcInRlbXBCUEltYWdlXCIgKyBmaWxlbmFtZSArIFwiLmpwZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2F2ZVRvRmlsZShwYXRoLCBcImpwZWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByaW50ZXJJRCA9IHRoaXMuZ2V0UHJpbnRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmludGVySUQudHJpbSgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXR0aW5nIHByaW50ZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZShcInByaW50Ym9hcmRpbnBhc3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB6ZWJyYS5QcmludGVyKHsgYWRkcmVzczogcHJpbnRlcklELCBsYW5ndWFnZTogXCJDUENMXCIsIGRlYnVnZ2luZzogdHJ1ZSB9KS50aGVuKGZ1bmN0aW9uIChjdXJQcmludGVyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0dGluZyBkb2N1bWVudCB0byBiZSBwcmludGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdW1lbnQgPSBjdXJQcmludGVyLmNyZWF0ZURvY3VtZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmltYWdlKGZzLnBhdGguam9pbihmb2xkZXIucGF0aCwgXCJ0ZW1wQlBJbWFnZVwiICsgZmlsZW5hbWUgKyBcIi5qcGdcIiksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXR0aW5nIFN0YXR1cyBvZiB0aGUgUHJpbnRlclxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJQcmludGVyLmdldFN0YXR1cygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZWFkeSAmJiAhcmVzdWx0LmxhdGNoT3BlbiAmJiAhcmVzdWx0Lmxvd0JhdHRlcnkgJiYgIXJlc3VsdC5wYXBlck91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ByaW50aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clByaW50ZXIucHJpbnQoZG9jdW1lbnQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcmludGluZyBEb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmb2xkZXIuZ2V0RmlsZShcInRlbXBCUEltYWdlXCIgKyBmaWxlbmFtZSArIFwiLmpwZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUucmVtb3ZlKCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaWxlIHJlbW92ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkJvYXJkaW5nUGFzcyBwcmludGVkIHN1Y2Vzc2Z1bGx5XCIpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlci5jbG9zZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudGltZUVuZChcInByaW50Ym9hcmRpbnBhc3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJQcmludGVyIGlzIHJlYWR5IHRvIHByaW50XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkVycm9yIE9jY3VyZWQgd2hpbGUgUHJpbnRpbmc6XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByaW50aW5nIEVycm9yOiBcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJQcmludGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sYXRjaE9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiISEhIUxhdGNoT3BlblwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sb3dCYXR0ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIiEhISFMb3dCYXR0ZXJ5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnBhcGVyT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIiEhISFQYXBlck91dFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoQ2hlY2tJbkNvbXBvbmVudC5QUklOVEVSU0VTU0lPTikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoQ2hlY2tJbkNvbXBvbmVudC5OT0JMVUVUT09USERFVklDRSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuRXJyb3JzICYmIGRhdGEuRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KGRhdGEuRXJyb3JzWzBdLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcmludGluZyB0byBob3N0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXQgJiYgZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuQm9hcmRpbmdQYXNzT3V0cHV0WzBdLk1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KGRhdGEuQm9hcmRpbmdQYXNzT3V0cHV0WzBdLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXRbMF0uTWVzc2FnZSA9PSBcIlNlbnQgZm9yIFByaW50XCIgfHwgZGF0YS5Cb2FyZGluZ1Bhc3NPdXRwdXRbMF0uTWVzc2FnZSA9PSBcIkRlbGl2ZXJlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQm9hcmRpbmcgUGFzcyBQcmludGVkIFN1Y2Nlc2Z1bGx5IFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLkVycm9ycyAmJiBkYXRhLkVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChkYXRhLkVycm9yc1swXS5NZXNzYWdlKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlNlbmRCYW9yZGluZ1Bhc3NFbWFpbCBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBFbmQgRGF0ZSBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VuZEJhb3JkaW5nUGFzc0VtYWlsIFNlcnZpY2UgRXhlY3V0aW9uIFRpbWUgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzRGF0ZSksIG5ldyBEYXRlKGVEYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJBUElTIERhdGEgUmVxdWlyZWRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAgICBUb2FzdC5tYWtlVGV4dChcIktpbmRseSBEZVNlbGVjdCBwYXNzZW5nZXJzLkJvYXJkaW5nUGFzcyBBcHBsaWNhYmxlIG9ubHkgZm9yIHNpbmdsZSBwYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJTZWxlY3QgUGFzc2VuZ2VyXCIpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB2YXIgZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgLy90aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiU2VuZEJhb3JkaW5nUGFzc0VtYWlsIFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIEVuZCBEYXRlIFRpbWUgOiBcIiArIGVEYXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJTZW5kQmFvcmRpbmdQYXNzRW1haWwgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICBBcHBFeGVjdXRpb250aW1lLkV4ZWN1dGlvblRpbWUobmV3IERhdGUoc0RhdGUpLCBuZXcgRGF0ZShlRGF0ZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9zdEJhZ1RhZ1ByaW50ZXIoaG9zdGVkOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICAgICAgaWYgKHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0OiBhbnkgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb1ByaW50QmFnVGFnKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWdtZW50TGlzdCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICBob3N0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKS5TZWdtZW50VHJhdmVsZXJJbmZvc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpbnRCYWdUYWcgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gU3RhcnQgRGF0ZSBUaW1lIDogXCIgKyBzRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50aW1lKFwiYm9hcmRpblBhc3NSZXFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJpbnRlbWFpbC5QcmludEJhZ1RhZyhyZXF1ZXN0KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50aW1lRW5kKFwiYm9hcmRpblBhc3NSZXFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRpcihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0ZWQgPT09IFwiYmx1ZXRvb3RoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInByaW50aW5nIHRvIGJsdWV0b290aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuQmFnVGFnT3V0cHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuQmFnVGFnT3V0cHV0Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5CYWdUYWdPdXRwdXRbMF0uUGljUmF3RGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2UgPSBpbWFnZU1vZHVsZS5mcm9tQmFzZTY0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5CYWdUYWdPdXRwdXRbMF0uUGljUmF3RGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9sZGVyID0gZnMua25vd25Gb2xkZXJzLmlvcy5saWJyYXJ5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTogc3RyaW5nID0gbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdChcImhobW1zc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGggPSBmcy5wYXRoLmpvaW4oZm9sZGVyLnBhdGgsIFwidGVtcEJQSW1hZ2VcIiArIGZpbGVuYW1lICsgXCIuanBnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2F2ZVRvRmlsZShwYXRoLCBcImpwZWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpbnRlcklEID0gdGhpcy5nZXRQcmludGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpbnRlcklELnRyaW0oKSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHplYnJhLlByaW50ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBwcmludGVySUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBcIkNQQ0xcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdnaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGN1clByaW50ZXIsIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdW1lbnQgPSBjdXJQcmludGVyLmNyZWF0ZURvY3VtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnMucGF0aC5qb2luKGZvbGRlci5wYXRoLCBcInRlbXBCUEltYWdlXCIgKyBmaWxlbmFtZSArIFwiLmpwZ1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnByaW50KGRvY3VtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJpbnRpbmcgRG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJQcmludGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQmFnVGFnIFByaW50ZWQgU3VjY2VzZnVsbHkgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFcnJvciBPY2N1cmVkIHdoaWxlIFByaW50aW5nOlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUHJpbnRpbmcgRXJyb3I6IFwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJpbnRlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlVOQUJMRVRPUFJJTlQpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KENoZWNrSW5Db21wb25lbnQuVU5BQkxFVE9QUklOVCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcmludGluZyB0byBob3N0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLkJhZ1RhZ091dHB1dFswXS5TdGF0dXMgPT0gXCJTdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJCYWdUYWcgUHJpbnRlZCBTdWNjZXNmdWxseSBcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub0JhZ3M6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5QYXNzZW5nZXJzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5DaGVja2VkQmFnQ291bnQgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0JhZ3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vQmFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJObyBCYWdnYWdlIEZvdW5kXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoQ2hlY2tJbkNvbXBvbmVudC5VTkFCTEVUT1BSSU5UKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ291bGRudCBmaW5kIGluZm9ybWF0aW9uIGZvciB0aGlzIE9yZGVySUQgXCIgKyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGVycm9yTWVzc2FnZS5pbmRleE9mKFwiVW5yZWNvZ25pemVkIHRva2VuICc8J1wiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogXCJTZXNzaW9uIFRpbWUgT3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IFwiWW91ciBzZXNzaW9uIGhhcyBiZWVuIHRpbWUgb3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkaWFsb2dzLmFsZXJ0KG9wdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLm5hdmlnYXRlVG9Mb2dpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9hc3QubWFrZVRleHQoXCJVbmFibGUgdG8gUHJpbnRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJObyBCYWdnYWdlIEZvdW5kXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmludEJhZ1RhZyBTZXJ2aWNlIC0tLS0tLS0tLS0tLS0tLSBFbmQgRGF0ZSBUaW1lIDogXCIgKyBlRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpbnRCYWdUYWcgU2VydmljZSBFeGVjdXRpb24gVGltZSA6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBFeGVjdXRpb250aW1lLkV4ZWN1dGlvblRpbWUobmV3IERhdGUoc0RhdGUpLCBuZXcgRGF0ZShlRGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcImNoZWNrIGluIGlzIG5vdCBjb21wbGV0ZWRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAgICBUb2FzdC5tYWtlVGV4dChcIktpbmRseSBEZVNlbGVjdCBwYXNzZW5nZXJzLkJvYXJkaW5nUGFzcyBBcHBsaWNhYmxlIG9ubHkgZm9yIHNpbmdsZSBwYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJTZWxlY3QgUGFzc2VuZ2VyXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB2YXIgZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgLy90aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiUHJpbnRCYWdUYWcgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICsgZURhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIlByaW50QmFnVGFnIFNlcnZpY2UgRXhlY3V0aW9uIFRpbWUgOiBcIiArXG4gICAgICAgICAgICAgICAgQXBwRXhlY3V0aW9udGltZS5FeGVjdXRpb25UaW1lKG5ldyBEYXRlKHNEYXRlKSwgbmV3IERhdGUoZURhdGUpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBCbHVldG9vdGhwcmludCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xuICAgICAgICB0aGlzLlNlZ21lbnRMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdO1xuICAgICAgICBsZXQgcHJpbnRlciA9IHRoaXMuX3NoYXJlZC5HZXREZXZpY2VQcmludGVyRGVhdGlscygpO1xuICAgICAgICBsZXQgU2VjdXJpdHlEZXRhaWwgPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCk7XG4gICAgICAgIGlmICh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChlbGVtZW50cywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFBhc3NlbmdlciA9IHRoaXMuU2VnbWVudExpc3QuUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLkZpcnN0TmFtZSA9PSBlbGVtZW50cy5GaXJzdE5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLkxhc3ROYW1lID09IGVsZW1lbnRzLkxhc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIClbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGFzc2VuZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGFzc2VuZ2VyLkNoZWNraW5TdGF0dXMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCByZXF1ZXN0OiBhbnkgPSBDb252ZXJ0ZXJzLkNvbnZlclRvQmx1ZXRvb3RoUHJpbnRlcihwcmludGVyLCB0aGlzLnNlbGVjdGVkUGFzc2VuZ2VyLCBTZWN1cml0eURldGFpbCx0aGlzLlNlZ21lbnRMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QmFnZ2FnZShpdGVtOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJHZXRCYWdnYWdlIFNlcnZpY2UgLS0tLS0tLS0tLS0tLS0tIFN0YXJ0IERhdGUgVGltZSA6IFwiICsgc3RhcnREYXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICBsZXQgYmFnZ2FnZWNhdGFsb2c6IGFueSA9IHRoaXMuX3NoYXJlZC5HZXRCYWdnYWdlY2F0YWxvZygpO1xuICAgICAgICAgICAgY29uc29sZS5kaXIoYmFnZ2FnZWNhdGFsb2cpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYWcgV2FybmluZ1wiKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZGlyKGJhZ2dhZ2VjYXRhbG9nLldhcm5pbmdzKTtcbiAgICAgICAgICAgIC8vIGlmKGJhZ2dhZ2VjYXRhbG9nLlN1Y2Nlc3MhPSl7XG4gICAgICAgICAgICBpZiAoYmFnZ2FnZWNhdGFsb2cuU3VjY2VzcyAhPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChiYWdnYWdlY2F0YWxvZy5XYXJuaW5ncyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVUb0JhZ2dhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShpdGVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGJhZ2dhZ2VjYXRhbG9nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50UGFnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnRpY2tldE51bWJlcnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoaXRlbS5TaG9ydENoZWNrQWlycG9ydENvZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3J0Q2hlY2tcblxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihiYWdnYWdlY2F0YWxvZy5XYXJuaW5ncyAhPSBudWxsICYmIGJhZ2dhZ2VjYXRhbG9nLldhcm5pbmdzLmZpbHRlcihtPT5tLk1lc3NhZ2UuaW5kZXhPZihcIlRoZSBzdXBwbGllZCBpdGluZXJhcnkgaXMgbm90IHZhbGlkIGZvciB0aGUgcHJpY2luZyBvcGVyYXRpb25cIikhPSAtMSkubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChiYWdnYWdlY2F0YWxvZy5XYXJuaW5nc1swXS5NZXNzYWdlKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhZ2dhZ2VjYXRhbG9nLldhcm5pbmdzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvQmFnZ2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGl0ZW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYmFnZ2FnZWNhdGFsb2cpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSksXG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnRQYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMudGlja2V0TnVtYmVycyksXG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLlNob3J0Q2hlY2tBaXJwb3J0Q29kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvcnRDaGVja1xuXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KGJhZ2dhZ2VjYXRhbG9nLldhcm5pbmdzWzBdLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KGJhZ2dhZ2VjYXRhbG9nLkVycm9yc1swXS5NZXNzYWdlKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICB2YXIgZW5kRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIkdldEJhZ2dhZ2UgU2VydmljZSAtLS0tLS0tLS0tLS0tLS0gRW5kIERhdGUgVGltZSA6IFwiICsgZW5kRGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiR2V0QmFnZ2FnZSBTZXJ2aWNlIEV4ZWN1dGlvbiBUaW1lIDogXCIgK1xuICAgICAgICAgICAgICAgIEFwcEV4ZWN1dGlvbnRpbWUuRXhlY3V0aW9uVGltZShuZXcgRGF0ZShzdGFydERhdGUpLCBuZXcgRGF0ZShlbmREYXRlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb3RvQXBpcyhpdGVtOiBhbnksIGluZGV4T2ZQYXNzZW5lcjogYW55KSB7XG4gICAgICAgIHZhciBwYXJhbSA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuXG4gICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudC5mb3JFYWNoKChzZWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VnLklzSW50ZXJuYXRpb25hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNJbnRlcm5hdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJsaW5lICYmICF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRVRLVFN0YXR1c05PVE9LKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5pc0FQSVNTZWF0QmFnRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTZWN1cml0eURvYyhpdGVtLk9yZGVySUQsIGl0ZW0sIGluZGV4T2ZQYXNzZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkFQSSBkYXRhIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoZSBQYXNzZW5nZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQ2Fubm90IFByb2Nlc3MgSW50ZXJsaW5lIGZsaWdodFwiKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuYXZpZ2F0ZVRvQXBpcyhpc0lOSElCSVQsIFBhc3NlbmdlckluZGV4LCBpbmRleE9mUGFzc2VuZXIsIFBhc3NlbmdlcklORkluZGV4KSB7XG4gICAgICAgIHZhciBwcm9maWxlOiBzdHJpbmcgPSB0aGlzLlByb2ZpbGU7XG4gICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJhcGlzXCJdLCB7XG4gICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmYWRlXCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwLFxuICAgICAgICAgICAgICAgIGN1cnZlOiBcImxpbmVhclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBpbmRleDogSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50UGFnZSksXG4gICAgICAgICAgICAgICAgaXNJbmhpYml0OiBpc0lOSElCSVQsXG4gICAgICAgICAgICAgICAgQXBpc0luZGV4OiBpbmRleE9mUGFzc2VuZXIsXG4gICAgICAgICAgICAgICAgUGFzc2VuZ2VySW5kZXg6IFBhc3NlbmdlckluZGV4LFxuICAgICAgICAgICAgICAgIFBhc3NlbmdlcklORkluZGV4OiBQYXNzZW5nZXJJTkZJbmRleFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbk11bHRpcGxlU2VsZWN0b3IoYXJnczogYW55LCBpbmRleDogYW55KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIHNlbGVjdFwiKTtcbiAgICAgICAgdGhpcy5zeW5jVGlja2V0ID0gZmFsc2U7XG4gICAgICAgIGxldCBvYmogPSBuZXcgUGFzc2VuZ2VyQ2hlY2tpbi5TZWxlY3RlZFBhc3NlbmdlcigpO1xuICAgICAgICBsZXQgc2VsZWN0ZWROYW1lczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICAgICAgICBzZWxlY3RlZE5hbWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBBc3NvY2lhdGVkSW5mYW50UlBIOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBsZXQgYXNzb2NpYXRlZEFkdWx0UlBIOiBzdHJpbmcgPSBudWxsXG4gICAgICAgIGxldCBhc3NvY2lhdGVkQWR1bHRJTkZSUEg6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIGlmIChhcmdzLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gXCJcIiAmJiBhcmdzLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzb2NpYXRlZEFkdWx0UlBIID0gdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLlBhc3NlbmdlcnMuZmlsdGVyKG0gPT4gbS5GaXJzdG5hbWUgPT0gYXJncy5GaXJzdE5hbWUgJiYgbS5MYXN0bmFtZSA9PSBhcmdzLkxhc3ROYW1lKVswXS5SUEg7XG4gICAgICAgICAgICBhc3NvY2lhdGVkQWR1bHRJTkZSUEggPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vycy5maWx0ZXIobSA9PiBtLkZpcnN0bmFtZSA9PSBhcmdzLkZpcnN0TmFtZSAmJiBtLkxhc3RuYW1lID09IGFyZ3MuTGFzdE5hbWUpWzBdLkFzc29jaWF0ZWRJbmZhbnRSUEg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZ3MuQXNzb2NpYXRlZEFkdWx0UlBIICE9IFwiXCIgJiYgYXJncy5Bc3NvY2lhdGVkQWR1bHRSUEggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzb2NpYXRlZEFkdWx0SU5GUlBIID0gdGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpLlBhc3NlbmdlcnMuZmlsdGVyKG0gPT4gbS5GaXJzdG5hbWUgPT0gYXJncy5GaXJzdE5hbWUgJiYgbS5MYXN0bmFtZSA9PSBhcmdzLkxhc3ROYW1lKVswXS5SUEg7XG4gICAgICAgICAgICBhc3NvY2lhdGVkQWR1bHRSUEggPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkuUGFzc2VuZ2Vycy5maWx0ZXIobSA9PiBtLkZpcnN0bmFtZSA9PSBhcmdzLkZpcnN0TmFtZSAmJiBtLkxhc3RuYW1lID09IGFyZ3MuTGFzdE5hbWUpWzBdLkFzc29jaWF0ZWRBZHVsdFJQSDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZm9yRWFjaCgoYXJyYXlFbGVtZW50cywgYXJySW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcnJheUVsZW1lbnRzLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gXCJcIiAmJiBhcnJheUVsZW1lbnRzLkFzc29jaWF0ZWRJbmZhbnRSUEggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChhc3NvY2lhdGVkQWR1bHRJTkZSUEggPT0gYXJyYXlFbGVtZW50cy5Bc3NvY2lhdGVkSW5mYW50UlBIKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFycmF5RWxlbWVudHMuc2VydmljZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgQWR1bHROYW1lOiBzdHJpbmcgPSBhcnJheUVsZW1lbnRzLkFzc29jaWF0ZWRJbmZhbnRSUEg7IC8vLnNwbGl0KCcvJylbMV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBJTkZOYW1lOiBzdHJpbmcgPSBhcnJheUVsZW1lbnRzLkZpcnN0TmFtZTsgLy8uc3BsaXQoJy8nKS5sZW5ndGggPT0gMiA/IFNlY29uZFNlbGVjdGRUZXh0LnNwbGl0KCcvJylbMV0gOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWR1bHROYW1lICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWR1bHROc21lXCIgKyBBZHVsdE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROYW1lcy5wdXNoKEFkdWx0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFycmF5RWxlbWVudHMuQXNzb2NpYXRlZEFkdWx0UlBIICE9IFwiXCIgJiYgYXJyYXlFbGVtZW50cy5Bc3NvY2lhdGVkQWR1bHRSUEggIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0ZWRBZHVsdFJQSCA9PSBhcnJheUVsZW1lbnRzLkFzc29jaWF0ZWRBZHVsdFJQSCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcnJheUVsZW1lbnRzLnNlcnZpY2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IElORk5hbWU6IHN0cmluZyA9IGFycmF5RWxlbWVudHMuQXNzb2NpYXRlZEFkdWx0UlBIOyAvLy5zcGxpdCgnLycpLmxlbmd0aCA9PSAyID8gU2Vjb25kU2VsZWN0ZFRleHQuc3BsaXQoJy8nKVsxXSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChJTkZOYW1lICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW5mYW50dE5zbWVcIiArIElORk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROYW1lcy5wdXNoKElORk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycmF5RWxlbWVudHMuQ2hlY2tpblN0YXR1cyAmJiBhcnJheUVsZW1lbnRzLkFzc29jaWF0ZWRJbmZhbnRSUEggPT0gYXNzb2NpYXRlZEFkdWx0SU5GUlBIKSB7XG4gICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IGFzc29jaWF0ZWRBZHVsdElORlJQSDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFzc29jaWF0ZUluZmFudFwiICsgQXNzb2NpYXRlZEluZmFudFJQSCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXNzb2NpYXRlZEluZmFudFJQSCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFzc29jaWF0ZWRJbmZhbnRSUEggPT0gYXJyYXlFbGVtZW50cy5SUEgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXlFbGVtZW50cy5DaGVja2luU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgQXNzb2NpYXRlZEluZmFudFJQSCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWROYW1lcy5maWx0ZXIobSA9PiBtLnRvU3RyaW5nKCkgPT0gYXJncy5SUEgpWzBdID09IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkTmFtZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iai5GaXJzdE5hbWUgPSBhcmdzLkZpcnN0TmFtZTtcbiAgICAgICAgb2JqLkxhc3ROYW1lID0gYXJncy5MYXN0TmFtZTtcbiAgICAgICAgaWYgKHNlbGVjdGVkTmFtZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBhcmdzLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IGFyZ3MuTGFzdE5hbWUpWzBdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kaXIodGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2VsZWN0ZWROYW1lcy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGVsZW1lbnQpWzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9ialNlbGVjdGVkID0gbmV3IFBhc3NlbmdlckNoZWNraW4uU2VsZWN0ZWRQYXNzZW5nZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqU2VsZWN0ZWQuRmlyc3ROYW1lID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgICAgICAgICBdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLlJQSCA9PSBlbGVtZW50LnRyaW0oKSlbMF0uRmlyc3ROYW1lO1xuICAgICAgICAgICAgICAgICAgICBvYmpTZWxlY3RlZC5MYXN0TmFtZSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5SUEggPT0gZWxlbWVudC50cmltKCkpWzBdLkxhc3ROYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBvYmpTZWxlY3RlZC5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBvYmpTZWxlY3RlZC5MYXN0TmFtZSlbMF0gPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5wdXNoKG9ialNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MuSXNDaGVja2VkICE9IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gYXJncy5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBhcmdzLkxhc3ROYW1lKVswXSAhPSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWROYW1lcy5sZW5ndGggPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKGVsZW1lbnRzLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLkZpcnN0TmFtZSA9PSBhcmdzLkZpcnN0TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLkxhc3ROYW1lID09IGFyZ3MuTGFzdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWROYW1lcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROYW1lcy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IEZpcnN0bmFtZSA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5SUEggPT0gZWxlbWVudClbMF0uRmlyc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgTGFzdG5hbWUgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGVsZW1lbnQpWzBdLkxhc3ROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5mb3JFYWNoKChlbGVtZW50cywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMuRmlyc3ROYW1lID09IEZpcnN0bmFtZS50cmltKCkgJiYgZWxlbWVudHMuTGFzdE5hbWUgPT0gTGFzdG5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhhcmdzLklzQ2hlY2tlZCk7XG4gICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjaGVja2VkSW5TdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGlzQ2hlY2tlZEFwaXNTdGF0dXM6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBsZXQgbm9uQ2hlY2tlZEluU3RhdHVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLlNlbGVjdGVkUGFzc2VuZ2VyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZvckVhY2goKHBhc3MsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IHBhc3MuTGFzdE5hbWUpWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKFNlbGVjdGVkcGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZvckVhY2goKHBhc3MsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBTZWxlY3RlZHBhc3MuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gU2VsZWN0ZWRwYXNzLkxhc3ROYW1lKVswXS5Jc0NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IFNlbGVjdGVkcGFzcy5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBTZWxlY3RlZHBhc3MuTGFzdE5hbWUpWzBdLkNoZWNraW5TdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEluU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBTZWxlY3RlZHBhc3MuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gU2VsZWN0ZWRwYXNzLkxhc3ROYW1lKVswXS5DaGVja2luU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcm5hdGlvbmFsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gU2VsZWN0ZWRwYXNzLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IFNlbGVjdGVkcGFzcy5MYXN0TmFtZSlbMF0uQXBpc0RvY29TdGF0dXMgIT0gXCJOb3RDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub25DaGVja2VkSW5TdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vbkNoZWNrZWRJblN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gU2VsZWN0ZWRwYXNzLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IFNlbGVjdGVkcGFzcy5MYXN0TmFtZSlbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5DaGVja2luU3RhdHVzXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vbkNoZWNrZWRJblN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPZmZsb2FkQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgocGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IHBhc3MuTGFzdE5hbWVcbiAgICAgICAgICAgICAgICApWzBdLklzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hlY2tlZEluU3RhdHVzICYmIG5vbkNoZWNrZWRJblN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2tlZEluU3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzT2ZmbG9hZEJ1dHRvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXNzZW5nZXI6IE9yZGVyLlJvb3RPYmplY3QgPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCk7XG4gICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0LmZvckVhY2goKG5hbWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBuYW1lLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IG5hbWUuTGFzdE5hbWUpWzBdLlN5bmNUaWNrZXQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3luY1RpY2tldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJuYXRpb25hbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IG5hbWUuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gbmFtZS5MYXN0TmFtZSlbMF0uQXBpc0RvY29TdGF0dXMgIT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZEFwaXNTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gbmFtZS5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBuYW1lLkxhc3ROYW1lKVswXS5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBuYW1lLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IG5hbWUuTGFzdE5hbWUpWzBdLkFkY0RlY2lzaW9uU3RhdHVzICE9IFwiT0tcIiAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IG5hbWUuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gbmFtZS5MYXN0TmFtZSlbMF0uQWRjRGVjaXNpb25TdGF0dXMgIT0gXCJCWVBBU1NFRFwiICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gbmFtZS5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBuYW1lLkxhc3ROYW1lKVswXS5BZGNEZWNpc2lvblN0YXR1cyAhPSBcIkFVVE9CWVBBU1NFRFwiICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gbmFtZS5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBuYW1lLkxhc3ROYW1lKVswXS5BZGNEZWNpc2lvblN0YXR1cyAhPSBcIkNPS1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBuYW1lLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IG5hbWUuTGFzdE5hbWUpWzBdLlNlY3VyaXR5Q29kZSA9PSAnTkInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IG5hbWUuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gbmFtZS5MYXN0TmFtZSlbMF0uU2VjdXJpdHlDb2RlID09ICdOTScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5GaXJzdE5hbWUgPT0gbmFtZS5GaXJzdE5hbWUgJiYgbS5MYXN0TmFtZSA9PSBuYW1lLkxhc3ROYW1lKVswXS5TZWN1cml0eUNvZGUgPT0gJ1ZVJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLkZpcnN0TmFtZSA9PSBuYW1lLkZpcnN0TmFtZSAmJiBtLkxhc3ROYW1lID09IG5hbWUuTGFzdE5hbWUpWzBdLlNlY3VyaXR5Q29kZSA9PSAnTkUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uRmlyc3ROYW1lID09IG5hbWUuRmlyc3ROYW1lICYmIG0uTGFzdE5hbWUgPT0gbmFtZS5MYXN0TmFtZSlbMF0uU2VjdXJpdHlDb2RlID09ICdFRCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZEFwaXNTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzQ2hlY2tlZEFwaXNTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBpZiAoIWlzQ2hlY2tlZEFwaXNTdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2luUHJpbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2luUHJpbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLkVUS1RTdGF0dXNOT1RPSykge1xuICAgICAgICAgICAgdGhpcy5pc0NvbnRpbnVlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc09mZmxvYWRCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5TZWxlY3RlZFBhc3Nlbmdlckxpc3QuZm9yRWFjaCgobmFtZSxpbmRleCk9PntcbiAgICAgICAgLy8gICAgIGlmKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgIC8vICAgICBdLlBhc3Nlbmdlci5maWx0ZXIobT0+bS5GaXJzdE5hbWU9PW5hbWUuRmlyc3ROYW1lJiZtLkxhc3ROYW1lPT1uYW1lLkxhc3ROYW1lKVswXS5TZWN1cml0eUNvZGU9PVwiTkJcInx8dGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgLy8gICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihtPT5tLkZpcnN0TmFtZT09bmFtZS5GaXJzdE5hbWUmJm0uTGFzdE5hbWU9PW5hbWUuTGFzdE5hbWUpWzBdLlNlY3VyaXR5Q29kZT09XCJOTVwifHx0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAvLyAgICAgXS5QYXNzZW5nZXIuZmlsdGVyKG09Pm0uRmlyc3ROYW1lPT1uYW1lLkZpcnN0TmFtZSYmbS5MYXN0TmFtZT09bmFtZS5MYXN0TmFtZSlbMF0uU2VjdXJpdHlDb2RlPT1cIlZVXCIgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgLy8gICAgIF0uUGFzc2VuZ2VyLmZpbHRlcihtPT5tLkZpcnN0TmFtZT09bmFtZS5GaXJzdE5hbWUmJm0uTGFzdE5hbWU9PW5hbWUuTGFzdE5hbWUpWzBdLlNlY3VyaXR5Q29kZT09XCJORVwiIHx8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmN1cnJlbnRQYWdlXG4gICAgICAgIC8vICAgICBdLlBhc3Nlbmdlci5maWx0ZXIobT0+bS5GaXJzdE5hbWU9PW5hbWUuRmlyc3ROYW1lJiZtLkxhc3ROYW1lPT1uYW1lLkxhc3ROYW1lKVswXS5TZWN1cml0eUNvZGU9PVwiRURcIiApe1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KVxuICAgICAgICBpZiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCB8fCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzT2ZmbG9hZEJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdvdG9CYWdnYWdlKGl0ZW06IGFueSwgYnRuOiBhbnkpIHtcbiAgICAgICAgaWYgKGl0ZW0uSU5Gd2l0aG91dFNlYXQgIT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNTZWcgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzRmxpZ2h0UmVzdHJpY3RlZCAmJiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nID09IG51bGwgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgIT0gQ2hlY2tJbkNvbXBvbmVudC5XQVJOSU5HKSkgJiYgKGl0ZW0uU2VjdXJpdHlDb2RlICE9IFwiTkJcIiAmJiBpdGVtLlNlY3VyaXR5Q29kZSAhPSBcIk5NXCIgJiYgaXRlbS5TZWN1cml0eUNvZGUgIT0gXCJWVVwiICYmIGl0ZW0uU2VjdXJpdHlDb2RlICE9ICdORScgJiYgaXRlbS5TZWN1cml0eUNvZGUgIT0gJ0VEJykgJiYgKGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJDT0tcIiB8fCBpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQllQQVNTRURcIiB8fCBpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQVVUT0JZUEFTU0VEXCIpICYmIGl0ZW0uQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgJiYgIWl0ZW0uQ2hlY2tpblN0YXR1cyAmJiAocHJldmlvdXNTZWcgPj0gMCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbcHJldmlvdXNTZWddLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLlJQSCA9PSBpdGVtLlJQSClbMF0uQ2hlY2tpblN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQ2Fubm90IFByb2Nlc3MgSW50ZXJsaW5lIGZsaWdodFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRhbG9nUmVxID0gQ29udmVydGVycy5HZXRCYWdDYXRhbG9nKHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhU2VydmljZS5HZXRCYWdnYWdlKGNhdGFsb2dSZXEsIHRoaXMuT3JkZXJJRCkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ2dhZ2VjYXRhbG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgJiYgIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5FVEtUU3RhdHVzTk9UT0sgJiYgIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ZsaWdodFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uaXNBUElTU2VhdEJhZ0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyU2VydmljZSh0aGlzLk9yZGVySUQsIGl0ZW0sIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksIGJ0bilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3I6IGFueSA9IHsgXCJFcnJvcnNcIjogW3sgXCJNZXNzYWdlXCI6IGVyciB9XSwgXCJTdWNjZXNzXCI6IGZhbHNlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ2dhZ2VjYXRhbG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ZsaWdodFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJGbGlnaHQgaXMgUmVzdHJpY3RlZCBmb3IgdGhpcyBhZ2VudFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3NoYXJlZC5HZXRJc1dhaXRsaXN0ZWQoKSAmJiAhdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzRmxpZ2h0UmVzdHJpY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkFQSVMgRGF0YSBSZXF1aXJlZFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzRmxpZ2h0UmVzdHJpY3RlZCAmJiAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nID09IG51bGwgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgIT0gQ2hlY2tJbkNvbXBvbmVudC5XQVJOSU5HKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzSW50ZXJuYXRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ludGVybGluZSAmJiAhaXRlbS5DaGVja2luU3RhdHVzICYmIChwcmV2aW91c1NlZyA+PSAwICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtwcmV2aW91c1NlZ10uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGl0ZW0uUlBIKVswXS5DaGVja2luU3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQ2Fubm90IFByb2Nlc3MgSW50ZXJsaW5lIGZsaWdodFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGFsb2dSZXEgPSBDb252ZXJ0ZXJzLkdldEJhZ0NhdGFsb2codGhpcy5fc2hhcmVkLkdldFBhc3NlbmdlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhU2VydmljZS5HZXRCYWdnYWdlKGNhdGFsb2dSZXEsIHRoaXMuT3JkZXJJRCkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QmFnZ2FnZWNhdGFsb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJsaW5lICYmICF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRVRLVFN0YXR1c05PVE9LICYmICF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5pc0FQSVNTZWF0QmFnRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyU2VydmljZSh0aGlzLk9yZGVySUQsIGl0ZW0sIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksIGJ0bilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3I6IGFueSA9IHsgXCJFcnJvcnNcIjogW3sgXCJNZXNzYWdlXCI6IGVyciB9XSwgXCJTdWNjZXNzXCI6IGZhbHNlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRCYWdnYWdlY2F0YWxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIk9LXCIgfHwgaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJCWVBBU1NFRFwiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJBVVRPQllQQVNTRURcIikgJiYgaXRlbS5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0YWxvZ1JlcSA9IENvbnZlcnRlcnMuR2V0QmFnQ2F0YWxvZyh0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFTZXJ2aWNlLkdldEJhZ2dhZ2UoY2F0YWxvZ1JlcSwgdGhpcy5PcmRlcklEKS5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRCYWdnYWdlY2F0YWxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgJiYgIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5FVEtUU3RhdHVzTk9UT0sgJiYgIXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ZsaWdodFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0T3JkZXJTZXJ2aWNlKHRoaXMuT3JkZXJJRCwgaXRlbSwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSwgYnRuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcjogYW55ID0geyBcIkVycm9yc1wiOiBbeyBcIk1lc3NhZ2VcIjogZXJyIH1dLCBcIlN1Y2Nlc3NcIjogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldEJhZ2dhZ2VjYXRhbG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI6MVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkFQSSBEYXRhIFJlcXVpcmVkXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiOjJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdC5tYWtlVGV4dChcIkFQSSBEYXRhIFJlcXVpcmVkXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiRmxpZ2h0IGlzIFJlc3RyaWN0ZWQgZm9yIHRoaXMgYWdlbnRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUb2FzdC5tYWtlVGV4dCgnQmFnZ2FnZSBpcyBub3QgYWxsb3dlZCBmb3IgdGhpcyBwYXNzZW5nZXIgdHlwZScpLnNob3coKTtcbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICB9XG5cbiAgICBUaWNrZXRCYWcocGFzc2VuZ2VyRHRsOiBhbnksIG11bHRpU2VnbWVudDogYW55KTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBsZXQgdGlja2V0OiBhbnkgPSB0aGlzLl9zaGFyZWQuR2V0VGllcigpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5kaXIodGlja2V0KTtcbiAgICAgICAgICAgIC8vIGlmICh0aWNrZXQuU3VjY2VzcyAhPSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gICAgIHRpY2tldC5QYXNzZW5nZXJMaXN0LmZvckVhY2goKFBheGRhdGEsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGlmIChwYXNzZW5nZXJEdGwuT3JkZXJJRCA9PSBQYXhkYXRhLk9yZGVySWQpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFBheGRhdGEuUGFzc2VuZ2VyQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goKHRpZXJEYXRhLCB0aWVySW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aWVyRGF0YSkpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmICh0aWVyRGF0YSA9PSBcIlRpY2tldE91dE9mU3luY1wiKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhc3NlbmdlckR0bC5TeW5jVGlja2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSA9IG11bHRpU2VnbWVudDtcbiAgICAgICAgICAgIGlmICghcGFzc2VuZ2VyRHRsLklORndpdGhvdXRTZWF0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5TZWN1cml0eURldGFpbHMgPSB0aGlzLl9zaGFyZWQuR2V0UGFzc2VuZ2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN1cml0eURhdGFzLkFwaXNVcGRhdGVSZXF1ZXN0c1swXS5Eb2N1bWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZ3JwTmFtZSA9IHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnMuZmlsdGVyKG0gPT4gbS5GaXJzdG5hbWUgPT0gcGFzc2VuZ2VyRHRsLkZpcnN0TmFtZSAmJiBtLkxhc3RuYW1lID09IHBhc3NlbmdlckR0bC5MYXN0TmFtZSlbMF0uR3JvdXBlZEdpdmVuTmFtZS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdycE5hbWUpXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyA9PSBudWxsIHx8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlICE9IENoZWNrSW5Db21wb25lbnQuV0FSTklORykpICYmIGdycE5hbWUubGVuZ3RoIDw9IDEgJiYgKHBhc3NlbmdlckR0bC5TZWN1cml0eUNvZGUgIT0gXCJOQlwiICYmIHBhc3NlbmdlckR0bC5TZWN1cml0eUNvZGUgIT0gXCJOTVwiICYmIHBhc3NlbmdlckR0bC5TZWN1cml0eUNvZGUgIT0gXCJWVVwiICYmIHBhc3NlbmdlckR0bC5TZWN1cml0eUNvZGUgIT0gJ05FJyAmJiBwYXNzZW5nZXJEdGwuU2VjdXJpdHlDb2RlICE9ICdFRCcpICYmIChwYXNzZW5nZXJEdGwuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiIHx8IHBhc3NlbmdlckR0bC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiIHx8IHBhc3NlbmdlckR0bC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkJZUEFTU0VEXCIgfHwgcGFzc2VuZ2VyRHRsLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQVVUT0JZUEFTU0VEXCIpICYmIHBhc3NlbmdlckR0bC5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIgJiYgKHRoaXMuU2VjdXJpdHlEZXRhaWxzLlBhc3NlbmdlcnNbMF0uRG9jdW1lbnRzLmxlbmd0aCA9PSAwIHx8IHBhc3NlbmdlckR0bC5Jc1NlY3VyaXR5RG9jc0NvbXBsZXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCYWdnYWdlKHBhc3NlbmdlckR0bCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JwTmFtZS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIk11bHRpLWluaXRpYWwgc3VybmFtZSBwYXNzZW5nZXIuIFBsZWFzZSBkaXZpZGUgbmFtZXMgYmVmb3JlIGFkZGluZyBiYWdzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JwTmFtZS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlbmdlckR0bC5Bc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwgfHwgcGFzc2VuZ2VyRHRsLkFzc29jaWF0ZWRBZHVsdFJQSCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCYWdnYWdlKHBhc3NlbmdlckR0bCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTXVsdGktaW5pdGlhbCBzdXJuYW1lIHBhc3Nlbmdlci4gUGxlYXNlIGRpdmlkZSBuYW1lcyBiZWZvcmUgYWRkaW5nIGJhZ3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuV0FSTklORykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiVGlja2V0IGlzIG91dCBvZiBTWU5DXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQodGhpcy5fY29uZmlndXJhdGlvbi5BcGlzRGF0YVJlcXVpcmVkKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nID09IG51bGwgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgIT0gQ2hlY2tJbkNvbXBvbmVudC5XQVJOSU5HKSkgJiYgZ3JwTmFtZS5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCYWdnYWdlKHBhc3NlbmdlckR0bCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JwTmFtZS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIk11bHRpLWluaXRpYWwgc3VybmFtZSBwYXNzZW5nZXIuIFBsZWFzZSBkaXZpZGUgbmFtZXMgYmVmb3JlIGFkZGluZyBiYWdzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JwTmFtZS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlbmdlckR0bC5Bc3NvY2lhdGVkSW5mYW50UlBIICE9IG51bGwgfHwgcGFzc2VuZ2VyRHRsLkFzc29jaWF0ZWRBZHVsdFJQSCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCYWdnYWdlKHBhc3NlbmdlckR0bCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTXVsdGktaW5pdGlhbCBzdXJuYW1lIHBhc3Nlbmdlci4gUGxlYXNlIGRpdmlkZSBuYW1lcyBiZWZvcmUgYWRkaW5nIGJhZ3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5XYXJuaW5nWzBdLk1lc3NhZ2UgPT0gQ2hlY2tJbkNvbXBvbmVudC5XQVJOSU5HKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJUaWNrZXQgaXMgb3V0IG9mIFNZTkNcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICAgICBpZiAocGFzc2VuZ2VyRHRsLklzU2VjdXJpdHlEb2NzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5nZXRCYWdnYWdlKHBhc3NlbmdlckR0bCk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICBUb2FzdC5tYWtlVGV4dCh0aGlzLl9jb25maWd1cmF0aW9uLkFwaXNEYXRhUmVxdWlyZWQpLnNob3coKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChlcnJvcikuc2hvdygpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZyZXNoRmxpZm8oKSB7XG4gICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3Muc2hvd0xvYWRlcigpO1xuICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnQuZm9yRWFjaCgoU2VnRWxlLCBTZWdJbm5kZXgpID0+IHtcblxuICAgICAgICAgICAgbGV0IGRlcGFydHVyZURhdGU6IHN0cmluZyA9IG1vbWVudChTZWdFbGUuRGVwYXJ0dXJlRGF0ZVRpbWUudG9TdHJpbmcoKSkuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKTtcbiAgICAgICAgICAgIGxldCBmbGlnaHRudW1iZXI6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChTZWdFbGUuTWFya2V0aW5nRmxpZ2h0LnN1YnN0cigwLCAyKSA9PSBcIkNNXCIpIHtcbiAgICAgICAgICAgICAgICBmbGlnaHRudW1iZXIgPSBTZWdFbGUuTWFya2V0aW5nRmxpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChTZWdFbGUuT3BlcmF0aW5nRmxpZ2h0ICE9IG51bGwgJiYgU2VnRWxlLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgZmxpZ2h0bnVtYmVyID0gU2VnRWxlLk9wZXJhdGluZ0ZsaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmxpZ2h0bnVtYmVyID0gU2VnRWxlLk1hcmtldGluZ0ZsaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaXR5OiBzdHJpbmcgPSBTZWdFbGUuRGVwYXJ0dXJlQ2l0eTtcbiAgICAgICAgICAgIFNlZ0VsZS5kYXRlID0gbW9tZW50KFNlZ0VsZS5EZXBhcnR1cmVEYXRlVGltZS50b1N0cmluZygpKS5mb3JtYXQoXCJERC1NTU0tWVlZWVwiKTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IFNlZ0VsZS5EZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIC8vIC8vSW52ZW50b3J5XG4gICAgICAgICAgICB0aGlzLl9jaGVja2luLkJvb2tpbmdDb3VudERpc3BsYXkoZGVwYXJ0dXJlRGF0ZSwgZmxpZ2h0bnVtYmVyLCBjaXR5KVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludmVudG9yeTogYW55ID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgU2VnRWxlLmludmVuID0gQ29udmVydGVycy5Db252ZXJ0VG9JbnZlbnRvcnkoaW52ZW50b3J5KTtcbiAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL0luYm91bmRcbiAgICAgICAgICAgIHRoaXMuX2NoZWNraW4uSW5Cb3VuZChkZXBhcnR1cmVEYXRlLCBmbGlnaHRudW1iZXIsIGNpdHkpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5Cb3VuZDogYW55ID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgU2VnRWxlLmluYm91bmQgPSBDb252ZXJ0ZXJzLkNvbnZlcnRUb0luQm91bmQoaW5Cb3VuZCk7XG4gICAgICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZpY2VFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG5cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvL091dGJvdW5kXG4gICAgICAgICAgICB0aGlzLl9jaGVja2luLk91dEJvdW5kKGRlcGFydHVyZURhdGUsIGZsaWdodG51bWJlciwgZGVzdGluYXRpb24pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgT3V0Qm91bmQ6IGFueSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5vdXRib3VuZCA9IENvbnZlcnRlcnMuQ29udmVydFRvT3V0Qm91bmQoT3V0Qm91bmQpO1xuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy9zdGF0dXNcbiAgICAgICAgICAgIHRoaXMuX2RhdGFTZXJ2aWNlLlN0YXR1cyhkZXBhcnR1cmVEYXRlLCBmbGlnaHRudW1iZXIsIGNpdHkpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdHVzOiBhbnkgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBTZWdFbGUuc3RhdHVzID0gc3RhdHVzLkZsaWdodHNbMF0uTGVnc1swXS5TdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIFNlZ0VsZS5MZWdzID0gc3RhdHVzLkZsaWdodHNbMF0uTGVncztcbiAgICAgICAgICAgICAgICAgICAgU2VnRWxlLkVURCA9IHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3NbMF0uRGVwYXJ0dXJlRGF0ZVRpbWUuRXN0aW1hdGVkLnRvU3RyaW5nKCkuc3Vic3RyKDExLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgU2VnRWxlLlNURCA9IHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3NbMF0uRGVwYXJ0dXJlRGF0ZVRpbWUuU2NoZWR1bGVkLnRvU3RyaW5nKCkuc3Vic3RyKDExLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgU2VnRWxlLkVUQSA9IHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3NbMF0uQXJyaXZhbERhdGVUaW1lLlNjaGVkdWxlZC50b1N0cmluZygpLnN1YnN0cigxMSwgNSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3NbMF0uRGVwYXJ0dXJlRGF0ZVRpbWUuRXN0aW1hdGVkLnRvU3RyaW5nKCkuc3Vic3RyKDExLCA1KSArIFwibGxsbFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc2VuZ2VyTGVuZ3RoID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzZW5nZXJMZW5ndGggPT0gU2VnSW5uZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0QmFnVGFnKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldFNlZ21lbnREZXRhaWwodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmF2aWdhdGVUb0JhZ2dhZ2UoaXRlbTogc3RyaW5nLCBiYWdnYWdlY2F0YWxvZzogc3RyaW5nLCBtdWx0aVNlZ21lbnRQYXhBcnJheTogc3RyaW5nLCBjdXJyZW50UGFnZTogc3RyaW5nLCB0aWNrZXROdW1iZXI6IHN0cmluZywgc2hvcnRjaGVja2luOiBzdHJpbmcsIGlzU2hvcnRDaGVjazogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnJvdXRlckV4dGVuc2lvbnMubmF2aWdhdGUoW1wiL2JhZ2dhZ2VpbmZvXCJdLCB7XG4gICAgICAgICAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgICAgICBjdXJ2ZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogaXRlbSxcbiAgICAgICAgICAgICAgICBiYWdnYWdlY2F0YWxvZzogYmFnZ2FnZWNhdGFsb2csXG4gICAgICAgICAgICAgICAgbXVsdGlTZWdtZW50UGF4QXJyYXk6IG11bHRpU2VnbWVudFBheEFycmF5LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICB0aWNrZXROdW1iZXI6IHRpY2tldE51bWJlcixcbiAgICAgICAgICAgICAgICBzaG9ydGNoZWNraW46IHNob3J0Y2hlY2tpbixcbiAgICAgICAgICAgICAgICBpc1Nob3J0Q2hlY2s6IGlzU2hvcnRDaGVja1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnb3RvZnF0dihpdGVtOiBNdWx0aVNlZ21lbnRUZW1wbGF0ZS5QYXNzZW5nZXIsIGJ0bjogYW55KSB7XG4gICAgICAgIGlmIChpdGVtLklORndpdGhvdXRTZWF0ICE9IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlIxOlwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCkpO1xuICAgICAgICAgICAgaWYgKCghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJsaW5lICYmICF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkICYmICF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRVRLVFN0YXR1c05PVE9LKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLmlzQVBJU1NlYXRCYWdEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyU2VydmljZSh0aGlzLk9yZGVySUQsIGl0ZW0sIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksIGJ0bilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2hhcmVkLkdldElzV2FpdGxpc3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQ2Fubm90IFByb2Nlc3MgSW50ZXJsaW5lIGZsaWdodFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoJ0Nhbm5vdCBhZGQgRnF0diBudW1iZXIgZm9yIHRoaXMgcGFzc2VuZ2VyIHR5cGUnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVGlja2V0KHBhc3NlbmdlckR0bDogTXVsdGlTZWdtZW50VGVtcGxhdGUuUGFzc2VuZ2VyLCBtdWx0aVNlZ21lbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB2YXIgcGFyYW0gPSBKU09OLnN0cmluZ2lmeShwYXNzZW5nZXJEdGwuUlBIKTtcbiAgICAgICAgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSA9IG11bHRpU2VnbWVudDtcbiAgICAgICAgdmFyIHByb2ZpbGU6IHN0cmluZyA9IHRoaXMuUHJvZmlsZTtcbiAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgIGlmICghcGFzc2VuZ2VyRHRsLklORndpdGhvdXRTZWF0KSB7XG4gICAgICAgICAgICBpZigodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzSW50ZXJuYXRpb25hbCYmcGFzc2VuZ2VyRHRsLkFwaXNEb2NvU3RhdHVzPT1cIkNvbXBsZXRlXCImJihwYXNzZW5nZXJEdGwuQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiIHx8IHBhc3NlbmdlckR0bC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiIHx8IHBhc3NlbmdlckR0bC5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkJZUEFTU0VEXCIgfHwgcGFzc2VuZ2VyRHRsLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQVVUT0JZUEFTU0VEXCIpKXx8IXRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJmcXR2XCJdLCB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnZlOiBcImxpbmVhclwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBSUEhWYWx1ZTogcGFyYW0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnRQYWdlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoQ2hlY2tJbkNvbXBvbmVudC5BUElTREFUQVJFUVVJUkVEKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmVyaWZ5SURDaGVjayhhcmdzOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGFyZ3MuU2VjdXJpdHlWYWx1ZSAhPSBudWxsICYmIGFyZ3MuU2VjdXJpdHlWYWx1ZS5IZWxwICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLkRvY3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3MuRG9jdW1lbnRzWzBdLklzVmVyaWZpZWREYXRhID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICB9XG4gICAgR2V0T3JkZXJTZXJ2aWNlKG9yZGVySUQ6IGFueSwgaXRlbTogYW55LCBsZWdMaXN0OiBhbnksIGJ0bjogYW55KSB7XG4gICAgICAgIHZhciBib2FyZCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5PcmlnaW5cbiAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgIGlmICgodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5PcGVyYXRpbmdGbGlnaHQgPT0gbnVsbCkgfHwgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5PcGVyYXRpbmdGbGlnaHQgIT0gbnVsbCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3BlcmF0aW5nRmxpZ2h0LnN1YnN0cigwLCAyKSA9PSBcIkNNXCIpKSB7XG4gICAgICAgICAgICB2YXIgYm9hcmQgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3JpZ2luXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImluc2lkZSBuZXcgY29uZGl0b24gMTpcIiArIGJvYXJkKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzSW5kZXggPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcbiAgICAgICAgICAgIGJvYXJkID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3ByZXZpb3VzSW5kZXhdLk9yaWdpbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIG5ldyBjb25kaXRvbiAxOlwiICsgYm9hcmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIG5ldyBjb25kaXRvblwiICsgYm9hcmQpO1xuICAgICAgICB0aGlzLl9zZXJ2aWNlLkdldFBhc3NlbmdlcihvcmRlcklELCBib2FyZCkuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldFBhc3NlbmdlcihkYXRhKTtcbiAgICAgICAgICAgIGxldCBzY1RhYmxlOiBhbnlbXSA9IHRoaXMuX3NoYXJlZC5HZXRTdGFydHVwVGFibGUoKS5UYWJsZXMuU2VjdXJpdHlDb2RlVGFibGU7XG4gICAgICAgICAgICBsZXQgUGFzc2VuZ2VyQXJyYXk6IGFueSA9IENvbnZlcnRlcnMuQ29udmVydFRvRmxpZ2h0V2l0aFBheFRlbXBsYXRlKHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKSwgbnVsbCwgc2NUYWJsZSwgXCJcIik7XG4gICAgICAgICAgICBsZXQgbXVsdGlTZWdtZW50ID0gUGFzc2VuZ2VyQXJyYXk7XG4gICAgICAgICAgICBtdWx0aVNlZ21lbnQuU2VnbWVudC5mb3JFYWNoKChzZWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VnLkxlZ3MgPSBsZWdMaXN0LlNlZ21lbnRbaW5kZXhdLkxlZ3M7XG4gICAgICAgICAgICAgICAgc2VnLmluYm91bmQgPSBsZWdMaXN0LlNlZ21lbnRbaW5kZXhdLmluYm91bmQ7XG4gICAgICAgICAgICAgICAgc2VnLm91dGJvdW5kID0gbGVnTGlzdC5TZWdtZW50W2luZGV4XS5vdXRib3VuZDtcbiAgICAgICAgICAgICAgICBzZWcuaW52ZW4gPSBsZWdMaXN0LlNlZ21lbnRbaW5kZXhdLmludmVuO1xuICAgICAgICAgICAgICAgIHNlZy5zdGF0dXMgPSBsZWdMaXN0LlNlZ21lbnRbaW5kZXhdLnN0YXR1cztcbiAgICAgICAgICAgICAgICBzZWcuRmxpZ2h0RGF0ZSA9IGxlZ0xpc3QuU2VnbWVudFtpbmRleF0uRmxpZ2h0RGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBsZXQgT3JpZ2lubG9jRGV0YWlscyA9IHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3MuZmlsdGVyKG0gPT4gbS5EZXBhcnR1cmVBaXJwb3J0LkxvY2F0aW9uQ29kZSA9PSBTZWdFbGUuT3JpZ2luKVswXTtcbiAgICAgICAgICAgICAgICAvLyBTZWdFbGUuTGVncyA9IHN0YXR1cy5GbGlnaHRzWzBdLkxlZ3M7XG4gICAgICAgICAgICAgICAgc2VnLkVURCA9IGxlZ0xpc3QuU2VnbWVudFtpbmRleF0uRVREO1xuICAgICAgICAgICAgICAgIHNlZy5TVEQgPSBsZWdMaXN0LlNlZ21lbnRbaW5kZXhdLlNURDtcbiAgICAgICAgICAgICAgICBzZWcuRVRBID0gbGVnTGlzdC5TZWdtZW50W2luZGV4XS5FVEE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0ZW0gPSBtdWx0aVNlZ21lbnQuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKG0gPT4gbS5SUEggPT0gaXRlbS5SUEgpWzBdO1xuICAgICAgICAgICAgaWYgKGJ0biA9PSAnU2VhdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0U2VnbWVudERldGFpbChtdWx0aVNlZ21lbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTZWF0bWFwKHRydWUsIGl0ZW0sIG11bHRpU2VnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChidG4gPT0gJ0JhZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWQuU2V0U2VnbWVudERldGFpbChtdWx0aVNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuVGlja2V0QmFnKGl0ZW0sIG11bHRpU2VnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChidG4gPT0gJ0ZRVFYnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkLlNldFNlZ21lbnREZXRhaWwobXVsdGlTZWdtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLlRpY2tldChpdGVtLCBtdWx0aVNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2aWNlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBnb3RvU2VhdChpdGVtOiBhbnksIGJ0bjogYW55KSB7XG4gICAgICAgIGlmIChpdGVtLklORndpdGhvdXRTZWF0ICE9IHRydWUpIHtcbiAgICAgICAgICAgIC8vIGxldCB0aWNrZXQ6IGFueSA9IHRoaXMuX3NoYXJlZC5HZXRUaWVyKCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmRpcih0aWNrZXQpO1xuICAgICAgICAgICAgLy8gaWYgKHRpY2tldC5TdWNjZXNzICE9IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyAgICAgdGlja2V0LlBhc3Nlbmdlckxpc3QuZm9yRWFjaCgoUGF4ZGF0YSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGl0ZW0uT3JkZXJJRCA9PSBQYXhkYXRhLk9yZGVySWQpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFBheGRhdGEuUGFzc2VuZ2VyQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goKHRpZXJEYXRhLCB0aWVySW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aWVyRGF0YSkpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmICh0aWVyRGF0YSA9PSBcIlRpY2tldE91dE9mU3luY1wiKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGl0ZW0uU3luY1RpY2tldCA9IHRydWU7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGxldCBwcmV2aW91c1NlZyA9IHRoaXMuY3VycmVudFBhZ2UgLSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKCF0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkICYmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5Lldhcm5pbmcgPT0gbnVsbCB8fCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5Lldhcm5pbmdbMF0uTWVzc2FnZSAhPSBDaGVja0luQ29tcG9uZW50LldBUk5JTkcpKSAmJiAoaXRlbS5TZWN1cml0eUNvZGUgIT0gXCJOQlwiICYmIGl0ZW0uU2VjdXJpdHlDb2RlICE9IFwiTk1cIiAmJiBpdGVtLlNlY3VyaXR5Q29kZSAhPSBcIlZVXCIgJiYgaXRlbS5TZWN1cml0eUNvZGUgIT0gJ05FJyAmJiBpdGVtLlNlY3VyaXR5Q29kZSAhPSAnRUQnKSAmJiAoaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIk9LXCIgfHwgaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkNPS1wiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJCWVBBU1NFRFwiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJBVVRPQllQQVNTRURcIikgJiYgaXRlbS5BcGlzRG9jb1N0YXR1cyA9PSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ludGVybGluZSAmJiAhaXRlbS5DaGVja2luU3RhdHVzICYmIChwcmV2aW91c1NlZyA+PSAwICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtwcmV2aW91c1NlZ10uUGFzc2VuZ2VyLmZpbHRlcihtID0+IG0uUlBIID09IGl0ZW0uUlBIKVswXS5DaGVja2luU3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9kbyBub3QgYWxsb3cgc2VhdE1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5oaWRlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldE9yZGVyU2VydmljZSh0aGlzLk9yZGVySUQsIGl0ZW0sIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXksIGJ0bilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuVGlja2V0U2VhdChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuV0FSTklORykpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJUaWNrZXQgaXMgb3V0IG9mIFNZTkNcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5Jc0ZsaWdodFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoXCJGbGlnaHQgaXMgUmVzdHJpY3RlZCBmb3IgdGhpcyBhZ2VudFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3NoYXJlZC5HZXRJc1dhaXRsaXN0ZWQoKSAmJiAhdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzRmxpZ2h0UmVzdHJpY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkFQSVMgRGF0YSBSZXF1aXJlZFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3BlcmF0aW5nRmxpZ2h0ICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgIT0gJ0NNJykgfHwgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5PcGVyYXRpbmdGbGlnaHQgPT0gbnVsbCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uTWFya2V0aW5nRmxpZ2h0ICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk1hcmtldGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgIT0gJ0NNJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyA9PSBudWxsIHx8IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlICE9IENoZWNrSW5Db21wb25lbnQuV0FSTklORykgJiYgKGl0ZW0uU2VjdXJpdHlDb2RlICE9IFwiTkJcIiAmJiBpdGVtLlNlY3VyaXR5Q29kZSAhPSBcIk5NXCIgJiYgaXRlbS5TZWN1cml0eUNvZGUgIT0gXCJWVVwiICYmIGl0ZW0uU2VjdXJpdHlDb2RlICE9ICdORScgJiYgaXRlbS5TZWN1cml0eUNvZGUgIT0gJ0VEJykgJiYgKGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJPS1wiIHx8IGl0ZW0uQWRjRGVjaXNpb25TdGF0dXMgPT0gXCJDT0tcIiB8fCBpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQllQQVNTRURcIiB8fCBpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQVVUT0JZUEFTU0VEXCIpICYmIGl0ZW0uQXBpc0RvY29TdGF0dXMgPT0gXCJDb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgJiYgIWl0ZW0uQ2hlY2tpblN0YXR1cyAmJiAocHJldmlvdXNTZWcgPj0gMCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbcHJldmlvdXNTZWddLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLlJQSCA9PSBpdGVtLlJQSClbMF0uQ2hlY2tpblN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZG8gbm90IGFsbG93IHNlYXRNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRPcmRlclNlcnZpY2UodGhpcy5PcmRlcklELCBpdGVtLCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LCBidG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLlRpY2tldFNlYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuV0FSTklORykgfHwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLklzRmxpZ2h0UmVzdHJpY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZyAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuV2FybmluZ1swXS5NZXNzYWdlID09IENoZWNrSW5Db21wb25lbnQuV0FSTklORykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiVGlja2V0IGlzIG91dCBvZiBTWU5DXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNGbGlnaHRSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkZsaWdodCBpcyBSZXN0cmljdGVkIGZvciB0aGlzIGFnZW50XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uSXNJbnRlcmxpbmUgJiYgIWl0ZW0uQ2hlY2tpblN0YXR1cyAmJiAocHJldmlvdXNTZWcgPj0gMCAmJiB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbcHJldmlvdXNTZWddLlBhc3Nlbmdlci5maWx0ZXIobSA9PiBtLlJQSCA9PSBpdGVtLlJQSClbMF0uQ2hlY2tpblN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9kbyBub3QgYWxsb3cgc2VhdE1hcFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0T3JkZXJTZXJ2aWNlKHRoaXMuT3JkZXJJRCwgaXRlbSwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSwgYnRuKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiT0tcIiB8fCBpdGVtLkFkY0RlY2lzaW9uU3RhdHVzID09IFwiQ09LXCIgfHwgaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkJZUEFTU0VEXCIgfHwgaXRlbS5BZGNEZWNpc2lvblN0YXR1cyA9PSBcIkFVVE9CWVBBU1NFRFwiKSAmJiBpdGVtLkFwaXNEb2NvU3RhdHVzID09IFwiQ29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0T3JkZXJTZXJ2aWNlKHRoaXMuT3JkZXJJRCwgaXRlbSwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSwgYnRuKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIkFQSSBEYXRhIFJlcXVpcmVkXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5UaWNrZXRTZWF0KGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGl0ZW0uSU5Gd2l0aG91dFNlYXQpIHtcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChDaGVja0luQ29tcG9uZW50LlNFQVRXQVJOSU5HKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZWF0bWFwKGlzSW5pdDogYm9vbGVhbiA9IGZhbHNlLCBpdGVtOiBQYXhUZW1wbGF0ZSwgbXVsdGlTZWdtZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2FkZXJQcm9ncmVzcy5zaG93TG9hZGVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0U2VhdE1hcCBjYWxsZWQgaGVyZSBcIik7XG4gICAgICAgIC8vIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkgPSBtdWx0aVNlZ21lbnQ7XG4gICAgICAgIHZhciBGbGlnaHROdW1iZXIgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uTWFya2V0aW5nRmxpZ2h0O1xuICAgICAgICB2YXIgT3BlcmF0aW5nRmxpZ2h0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodDtcbiAgICAgICAgdmFyIGRhdGUgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRGVwYXJ0dXJlRGF0ZVRpbWUudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIERhdGUxID0gZGF0ZS5zbGljZSgwLCAxMCk7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3JpZ2luO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRGVzdGluYXRpb247XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGVnc1wiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLkxlZ3MpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJkZXN0XCIgKyBKU09OLnN0cmluZ2lmeShGbGlnaHROdW1iZXIuc3Vic3RyKDAsIDIpKSk7XG4gICAgICAgIGlmICgoRmxpZ2h0TnVtYmVyLnN1YnN0cigwLCAyKSA9PSBcIkNNXCIgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodCA9PSBudWxsKSB8fCAodGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodCAhPSBudWxsICYmIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5PcGVyYXRpbmdGbGlnaHQuc3Vic3RyKDAsIDIpID09IFwiQ01cIikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3BlcmF0aW5nRmxpZ2h0ICE9IG51bGwgJiYgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodC5zdWJzdHIoMCwgMikgPT0gXCJDTVwiKSB7XG4gICAgICAgICAgICAgICAgRmxpZ2h0TnVtYmVyID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNlbFBheCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKHBheCA9PiBwYXguUlBIID09IGl0ZW0uUlBIKTtcbiAgICAgICAgICAgIGxldCBwYXNzZW5nZXJMaXN0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLlBhc3NlbmdlcjtcbiAgICAgICAgICAgIGxldCBsZWdzID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLkxlZ3M7XG4gICAgICAgICAgICB0aGlzLl9zZWF0bWFwLkdldFNlYXRNYXAoRmxpZ2h0TnVtYmVyLCBEYXRlMSwgb3JpZ2luLCBzZWxQYXhbMF0uRmlyc3ROYW1lLCBzZWxQYXhbMF0uTGFzdE5hbWUsIE51bWJlcihzZWxQYXhbMF0uUGFzc2VuZ2VyU2VxTnVtYmVyKSwgc2VsUGF4WzBdLk9yZGVySUQpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhdG1hcERldGFpbHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX3NlcnZpY2UuR2V0UGFzc2VuZ2VyKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXJbMF0uT3JkZXJJRClcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX3NoYXJlZC5TZXRQYXNzZW5nZXIoPE9yZGVyLlJvb3RPYmplY3Q+ZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGVnc0luZm8gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uTGVncztcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHNjVGFibGU6IGFueVtdID0gdGhpcy5fc2hhcmVkLkdldFN0YXJ0dXBUYWJsZSgpLlRhYmxlcy5TZWN1cml0eUNvZGVUYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheSA9IENvbnZlcnRlcnMuQ29udmVydFRvRmxpZ2h0V2l0aFBheFRlbXBsYXRlKHRoaXMuX3NoYXJlZC5HZXRQYXNzZW5nZXIoKSwgbnVsbCwgc2NUYWJsZSwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5MZWdzID0gdGhpcy5sZWdzSW5mbztcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLlBhc3Nlbmdlckxpc3RzID0gcGFzc2VuZ2VyTGlzdFxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VsUGF4ID0gdGhpcy5QYXNzZW5nZXJMaXN0cy5maWx0ZXIocGF4ID0+IHBheC5SUEggPT0gaXRlbS5SUEgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlNlYXRNYXBMaXN0ID0gQ29udmVydGVycy5Db252ZXJ0VG9TZWF0TWFwKHRoaXMuc2VhdG1hcERldGFpbHMsIHBhc3Nlbmdlckxpc3QsIEZsaWdodE51bWJlciwgbGVncywgb3JpZ2luLCBkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRTZWF0TWFwKHRoaXMuU2VhdE1hcExpc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlRpY2tldFNlYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lldhcm5pbmdzLmxlbmd0aCA+IDAgfHwgcmVzdWx0Lldhcm5pbmdzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9hc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuV2FybmluZ3MuZm9yRWFjaCgod2FybmluZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dCh3YXJuaW5nLk1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gfSlcblxuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG50IGZpbmQgc2VhdCBpbmZvcm1hdGlvbiBcIiArIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmljZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VhdCBNYXAgUmV0cmlldmVkIHN1Y2Nlc3NmdWxseScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9BIFNlYXRNYXAgY2FsbFwiKTtcbiAgICAgICAgICAgIGlmIChGbGlnaHROdW1iZXIuc3Vic3RyKDAsIDIpID09IFwiQ01cIikge1xuICAgICAgICAgICAgICAgIHZhciBGbGlnaHROdW0gPSBPcGVyYXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBGbGlnaHROdW0gPSBGbGlnaHROdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgUGF4QXJyYXkgPSBbbmV3IFNlYXRNYXBPQVBheC5QYXNzZW5nZXIoKV07XG4gICAgICAgICAgICBQYXhBcnJheS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJMaXN0cy5mb3JFYWNoKChwYXhEYXRhLCBJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBwYXg6IFNlYXRNYXBPQVBheC5QYXNzZW5nZXIgPSBuZXcgU2VhdE1hcE9BUGF4LlBhc3NlbmdlcigpO1xuICAgICAgICAgICAgICAgIHBheC5GaXJzdG5hbWUgPSBwYXhEYXRhLkZpcnN0TmFtZTtcbiAgICAgICAgICAgICAgICBwYXguTGFzdG5hbWUgPSBwYXhEYXRhLkxhc3ROYW1lO1xuICAgICAgICAgICAgICAgIHBheC5Hcm91cFBOUiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBheC5PcmRlcklkID0gcGF4RGF0YS5PcmRlcklEO1xuICAgICAgICAgICAgICAgIHBheC5QYXNzZW5nZXJUeXBlQ29kZSA9IHBheERhdGEuUGFzc2VuZ2VyVHlwZUNvZGU7XG4gICAgICAgICAgICAgICAgcGF4LlJQSCA9IHBheERhdGEuUlBIO1xuICAgICAgICAgICAgICAgIFBheEFycmF5LnB1c2gocGF4KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLlBhc3Nlbmdlckxpc3RGb3JPQVNlYXRNYXAuUGFzc2VuZ2VycyA9IFBheEFycmF5O1xuICAgICAgICAgICAgbGV0IG9wdGlvbmFsUmVmOiBTZWF0TWFwT0FQYXguT3B0aW9uYWxGZWVPcHRpb25zID0gbmV3IFNlYXRNYXBPQVBheC5PcHRpb25hbEZlZU9wdGlvbnMoKTtcbiAgICAgICAgICAgIG9wdGlvbmFsUmVmLkFjY291bnRDb2RlID0gbnVsbDtcbiAgICAgICAgICAgIG9wdGlvbmFsUmVmLlRpY2tldERhdGVPZklzc3VlID0gbnVsbDtcbiAgICAgICAgICAgIG9wdGlvbmFsUmVmLlRpY2tldERlc2lnbmF0b3IgPSBudWxsO1xuICAgICAgICAgICAgb3B0aW9uYWxSZWYuVG91ckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5QYXNzZW5nZXJMaXN0Rm9yT0FTZWF0TWFwLk9wdGlvbmFsRmVlT3B0aW9ucyA9IG9wdGlvbmFsUmVmO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJuZXcgUGF4IHN0OlwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5QYXNzZW5nZXJMaXN0Rm9yT0FTZWF0TWFwKSk7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNJbmRleCA9IHRoaXMuY3VycmVudFBhZ2UgLSAxO1xuICAgICAgICAgICAgdmFyIEZsaWdodE51bWJlciA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtwcmV2aW91c0luZGV4XS5NYXJrZXRpbmdGbGlnaHQ7XG4gICAgICAgICAgICB2YXIgT3BlcmF0aW5nRmxpZ2h0ID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3ByZXZpb3VzSW5kZXhdLk9wZXJhdGluZ0ZsaWdodDtcbiAgICAgICAgICAgIHZhciBkYXRlID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3ByZXZpb3VzSW5kZXhdLkRlcGFydHVyZURhdGVUaW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgRGF0ZTEgPSBkYXRlLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbcHJldmlvdXNJbmRleF0uT3JpZ2luO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3ByZXZpb3VzSW5kZXhdLkRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgdmFyIGlzU2VhdE1hcEV4aXN0czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNlbFBheCA9IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5QYXNzZW5nZXIuZmlsdGVyKHBheCA9PiBwYXguUlBIID09IGl0ZW0uUlBIKTtcbiAgICAgICAgICAgIHRoaXMuX3NlYXRtYXAuR2V0U2VhdE1hcChGbGlnaHROdW1iZXIsIERhdGUxLCBvcmlnaW4sIHNlbFBheFswXS5GaXJzdE5hbWUsIHNlbFBheFswXS5MYXN0TmFtZSwgTnVtYmVyKHNlbFBheFswXS5QYXNzZW5nZXJTZXFOdW1iZXIpLCBzZWxQYXhbMF0uT3JkZXJJRClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5JdGVtcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluc2lkZSAxc3QgaWZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuSXRlbXMuZm9yRWFjaCgoc2VhdERhdGEsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXREYXRhLkZsaWdodFNlZ21lbnQuRmxpZ2h0ID09IHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5NYXJrZXRpbmdGbGlnaHQgfHwgc2VhdERhdGEuRmxpZ2h0U2VnbWVudC5GbGlnaHQgPT0gdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50W3RoaXMuY3VycmVudFBhZ2VdLk9wZXJhdGluZ0ZsaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluc2lkZSAybmQgaWZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VhdE1hcEV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhdG1hcERldGFpbHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJvcmlnaW4gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uT3JpZ2luO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyZGVzdGluYXRpb24gPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUGFzc2VuZ2VyTGlzdHMgPSB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlYXRNYXBMaXN0ID0gQ29udmVydGVycy5PQXNlYXRtYXAodGhpcy5zZWF0bWFwRGV0YWlscywgdGhpcy5QYXNzZW5nZXJMaXN0cywgRmxpZ2h0TnVtLCB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uTGVncywgY3Vyb3JpZ2luLCBjdXJkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZC5TZXRTZWF0TWFwKHRoaXMuU2VhdE1hcExpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlRpY2tldFNlYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lldhcm5pbmdzLmxlbmd0aCA+IDAgfHwgcmVzdWx0Lldhcm5pbmdzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5XYXJuaW5ncy5mb3JFYWNoKCh3YXJuaW5nLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHdhcm5pbmcuTWVzc2FnZSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2VhdE1hcEV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VhdCBtYXAgY2Fubm90IGJlIGRpc3BsYXllZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlVGV4dChcIlNlYXQgbWFwIGNhbm5vdCBiZSBkaXNwbGF5ZWRcIikuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHJlc3VsdC5XYXJuaW5nc1swXS5NZXNzYWdlKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRudCBmaW5kIHNlYXQgaW5mb3JtYXRpb24gXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZpY2VFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlclByb2dyZXNzLmhpZGVMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlYXQgTWFwIFJldHJpZXZlZCBzdWNjZXNzZnVsbHknKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGxcIik7XG4gICAgfVxuXG4gICAgVGlja2V0U2VhdChwYXNzZW5nZXJEdGw6IFBheFRlbXBsYXRlKTogdm9pZCB7XG4gICAgICAgIHZhciBwYXJhbSA9IEpTT04uc3RyaW5naWZ5KHBhc3NlbmdlckR0bC5SUEgpO1xuICAgICAgICBpZiAoIXBhc3NlbmdlckR0bC5JTkZ3aXRob3V0U2VhdCkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXJFeHRlbnNpb25zLm5hdmlnYXRlKFtcInNlYXRtYXBcIl0sIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2xpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgY3VydmU6IFwibGluZWFyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIFJQSFZhbHVlOiBwYXJhbSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IEpTT04uc3RyaW5naWZ5KHRoaXMuY3VycmVudFBhZ2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuYXZpZ2F0ZVRvU2VhcmNoKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NoZWNraW5EaXNhYmxlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnJvdXRlckV4dGVuc2lvbnMubmF2aWdhdGUoW1wic2VhcmNoXCJdLCB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnZlOiBcImxpbmVhclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmF2aWdhdGVUb0RlcGFydHVyZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzR2F0ZURpc2FibGVkID09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJkZXBhcnRob21lXCJdLCB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnZlOiBcImxpbmVhclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ290b05leHRMZWcoYXJnOiBhbnksIEZsaWdodFdpdGhQYXg6IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpcmVjdGlvbjogXCIgKyBhcmcuZGlyZWN0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJQYWdlTnVtYmVyOiBcIiArIGFyZy5vYmplY3QucGFnZWluZGV4KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJQYWdlOlwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50UGFnZSkpO1xuXG5cbiAgICAgICAgaWYgKGFyZy5kaXJlY3Rpb24gPT0gMSB8fCBhcmcuZGlyZWN0aW9uID09IDIpIHtcbiAgICAgICAgICAgIHRoaXMuU2VsZWN0ZWRQYXNzZW5nZXJMaXN0ID0gW107XG4gICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVxuICAgICAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgocGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uUGFzc2VuZ2VyLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgbSA9PiBtLkZpcnN0TmFtZSA9PSBwYXNzLkZpcnN0TmFtZVxuICAgICAgICAgICAgICAgIClbMF0uSXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnLmRpcmVjdGlvbiA9PSAxICYmIHRoaXMuY3VycmVudFBhZ2UgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYXJnLmRpcmVjdGlvbiA9PSAyICYmXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy5NdWx0aVNlZ21lbnRQYXhBcnJheS5TZWdtZW50Lmxlbmd0aCAtIDFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIisrXCIpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kb3RzW2FyZy5vYmplY3QucGFnZWluZGV4XS5jaGVjayA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hlY2sgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJQMTpcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5pc0FQSVNTZWF0QmFnRGlzYWJsZWQpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJQMjpcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQpKTtcbiAgICAgICAgaWYgKHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFt0aGlzLmN1cnJlbnRQYWdlXS5pc0FQSVNTZWF0QmFnRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb250aW51ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNPZmZsb2FkQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUjE6XCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uaXNBUElTU2VhdEJhZ0Rpc2FibGVkKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUjI6XCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmlzQ29udGludWVCdXR0b25FbmFibGVkKSk7XG4gICAgICAgIHRoaXMuRmxpZ2h0RGF0ZSA9IG1vbWVudCh0aGlzLk11bHRpU2VnbWVudFBheEFycmF5LlNlZ21lbnRbdGhpcy5jdXJyZW50UGFnZV0uRmxpZ2h0RGF0ZSkuZm9ybWF0KFwiREQtTU1NLVlZWVlcIik7XG4gICAgICAgIHRoaXMuaXNQcmludGJ0bkVuYWJsZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmlzaWJsaXR5VmFsKHBhZ2VOdW1iZXI6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGlmIChwYWdlTnVtYmVyID09IHRoaXMuY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBcInZpc2libGVcIjtcbiAgICAgICAgfSBlbHNlIHJldHVybiBcImNvbGxhcHNlZFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYWdlVGFiVmFsKHBhZ2VOdW1iZXI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAocGFnZU51bWJlciA9PSB0aGlzLmN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXNJdGVtVmlzaWJsZShhcmdzKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGFyZ3MudG9TdHJpbmcoKS5zdWJzdHIoMCwgMikgPT0gXCJDTVwiICYmIGFyZ3MudG9TdHJpbmcoKS5sZW5ndGggPD0gNSkge1xuICAgICAgICAgICAgcmV0dXJuIFwidmlzaWJsZVwiO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIFwiY29sbGFwc2VkXCI7XG4gICAgfVxuICAgIGlzUHJpbnRidG5FbmFibGVkKCk6IHN0cmluZyB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUGFnZTpcIiArIHRoaXMuY3VycmVudFBhZ2UpO1xuICAgICAgICAvLyB0aGlzLmNoZWNrID0gZmFsc2U7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaXNQcmludGJ0bkVuYWJsZWRcIik7XG4gICAgICAgIHRoaXMuTXVsdGlTZWdtZW50UGF4QXJyYXkuU2VnbWVudFtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VcbiAgICAgICAgXS5QYXNzZW5nZXIuZm9yRWFjaCgocGFzcywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGFzcy5DaGVja2luU3RhdHVzID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5jaGVjayA9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2aXNpYmxlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJjb2xsYXBzZWRcIjtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgU3RhbmRieShhcmdzOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBpZiAoYXJncyA9PSBcIk5SUFwiIHx8IGFyZ3MgPT0gXCJOUlNcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwidmlzaWJsZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiY29sbGFwc2VkXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmF2aWdhdGVUb1NldHRpbmcoKSB7XG4gICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJzZXR0aW5nXCJdLCB7XG4gICAgICAgICAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgICAgICBjdXJ2ZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmF2aWdhdGVUb0xvZ2luKCkge1xuICAgICAgICB0aGlzLnJvdXRlckV4dGVuc2lvbnMubmF2aWdhdGUoW1wiXCJdLCB7XG4gICAgICAgICAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgICAgICBjdXJ2ZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXJ2aWNlRXJyb3IoZXJyb3I6IGFueSkge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmRleE9mKFwiU2Vzc2lvblRpbWVvdXRcIikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBUaW1lIE91dFwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiWW91ciBzZXNzaW9uIGhhcyBiZWVuIHRpbWUgb3V0XCIsXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KG9wdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJcIl0sIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2xpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyUHJvZ3Jlc3MuaGlkZUxvYWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgVG9hc3QubWFrZVRleHQoZXJyb3JNZXNzYWdlKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmF2aWdhdGVUb0NvbXBlbnNhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb21wZW5zYXRpb25FbmFibGVkID09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucm91dGVyRXh0ZW5zaW9ucy5uYXZpZ2F0ZShbXCJjb21wZW5zYXRpb25cIl0sIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2xpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgY3VydmU6IFwibGluZWFyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KFwiQ29tcGVuc2F0aW9uIE5vdCBhcHBsaWNhYmxlXCIpLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==